{"version":3,"sources":["utilities/hooks/useLocal.ts","utilities/interfaces/dataInterfaces/index.ts","utilities/services/addNonTeachingLoadService.ts","utilities/contexts/appContext.ts","utilities/contexts/scheduleContext.ts","utilities/interfaces/appInterfaces.ts","utilities/interfaces/dataInterfaces/dayInterfaces.ts","utilities/interfaces/dataInterfaces/termInterfaces.ts","utilities/hooks/addSectionHooks.ts","utilities/hooks/deleteSectionHooks.ts","utilities/hooks/useExportCSV.ts","utilities/hooks/useExportFullCSV.ts","utilities/hooks/useFieldArrayFormContext.tsx","utilities/hooks/useImportFile.ts","utilities/reducers/appReducer.ts","assets/CalvinUniv-vert-full-color-inverse.png","utilities/services/addSectionService.ts","utilities/services/facultyLoadsService.ts","utilities/services/facultyScheduleService.ts","utilities/services/harmoniouslyService.ts","utilities/services/roomsScheduleService.ts","utilities/services/scheduleService.ts","utilities/services/validation/popover.ts","utilities/index.ts","utilities/constants.ts","components/reuseables/AddNonTeachingLoadPopover/AddNonTeachingLoadPopover.tsx","components/reuseables/PopoverButton/PopoverButton.tsx","components/reuseables/AddSectionButton/AddSectionButton.tsx","components/reuseables/AddSectionPopover/AddSectionPopover.tsx","components/reuseables/animated/AnimateShowAndHide/AnimateShowAndHide.tsx","components/reuseables/animated/Spring3DHover/Spring3DHover.tsx","components/reuseables/animated/Spring3DHover/spring3DHoverService.ts","components/reuseables/AsyncComponent/AsyncComponent.tsx","components/reuseables/Calendar/Calendar.tsx","components/reuseables/FieldArrayForm/DeleteFieldButton/DeleteFieldButton.tsx","components/reuseables/FieldArrayForm/FieldArrayField/FieldArrayField.tsx","components/reuseables/FieldArrayForm/FieldArrayFields/FieldArrayFields.tsx","components/reuseables/FieldArrayForm/FieldArrayFormActionButtons/FieldArrayFormActionButtons.tsx","components/reuseables/FieldArrayForm/FieldArrayForm.tsx","components/reuseables/GridItem/GridItemCheckboxGroup/GridItemCheckboxGroup.tsx","components/reuseables/GridItem/GridItemRadioGroup/GridItemRadioGroup.tsx","components/reuseables/GridItem/GridItemTextField/GridItemTextField.tsx","components/reuseables/ImportInputWrapper/ImportInputWrapper.tsx","components/reuseables/ModalPagination/ModalPagination.tsx","components/reuseables/NewTabLink/NewTabLink.tsx","components/reuseables/Schedule/Schedule.tsx","components/pages/AboutPage/AboutPage.tsx","components/pages/AboutPage/TeamMemberProfile/TeamMemberProfile.tsx","components/pages/AboutPage/TextSection/TextSection.tsx","components/pages/HarmonyPage/HarmonyPage.tsx","components/pages/HelpPage/HelpPage.tsx","utilities/hooks/importRemoteFileHook.ts","components/pages/SchedulizerPage/SchedulizerPage.tsx","components/App/App.tsx","components/Footer/Footer.tsx","assets/logo.ts","components/Header/Header.tsx","components/Tabs/FacultyLoads/FacultyLoads.tsx","components/Tabs/FacultyLoads/UpdateNonTeachingLoadModalPagination/UpdateNonTeachingLoadModalPagination.tsx","components/Tabs/FacultyLoads/UpdateSectionModalPagination/UpdateSectionModalPagination.tsx","components/Tabs/FacultySchedule/FacultySchedule.tsx","components/Tabs/RoomsSchedule/RoomsSchedule.tsx","components/Tabs/tabComponents/CSVActions/CSVActions.tsx","components/Tabs/tabComponents/CSVActions/ImportButton/ImportButton.tsx","components/Tabs/tabComponents/NoCoursesHeader/NoCoursesHeader.tsx","components/Tabs/tabComponents/TabPanel/TabPanel.tsx","components/Tabs/Tabs.tsx","components/Toolbar/ColorSelector/ColorSelector.tsx","components/Toolbar/ScheduleToolbar/ScheduleToolbar.tsx","components/Toolbar/Searchbar/Searchbar.tsx","components/Toolbar/SemesterSelector/SemesterSelector.tsx","serviceWorker.ts","index.tsx","utilities/interfaces/index.ts","utilities/helpers/caseFunctions.ts","utilities/helpers/makeFC.tsx","utilities/helpers/readCSV.ts","utilities/helpers/teamMembers.ts","utilities/helpers/utils.ts","utilities/helpers/writeCSV.ts","utilities/helpers/writeFullCSV.ts"],"names":["loadLocal","key","item","localStorage","getItem","JSON","parse","undefined","useLocal","load","remove","removeItem","removeLocal","save","setItem","stringify","saveLocal","mapNonTeachingLoadValuesToInput","data","terms","addFalseToTermsCheckboxList","section","term","activity","instructionalMethod","facultyHours","instructor","instructors","mapNonTeachingLoadInput","newSection","cloneDeep","emptySection","newCourse","emptyCourse","isNonTeaching","termValues","Object","values","Term","map","t","includes","Array","length","fill","AppContext","createContext","appDispatch","voidFn","appState","initialAppState","isCSVLoading","setIsCSVLoading","ScheduleContext","isScheduleLoading","setIsScheduleLoading","ColorBy","classes","colorBy","fileUrl","professors","rooms","schedule","courses","schedulizerTab","selectedTerm","Fall","slotMaxTime","slotMinTime","Day","Weekday","Monday","Tuesday","Wednesday","Thursday","Friday","SemesterLength","Half","Intensive","SemesterLengthOption","HalfFirst","HalfSecond","IntensiveA","IntensiveB","IntensiveC","IntensiveD","useAddSectionToSchedule","useContext","addToSchedule","oldData","removeOldSection","handleOldSection","insertSectionCourse","payload","type","addNonTeachingLoadToSchedule","addSectionToSchedule","mapInputToInternalTypes","useInput","label","errors","name","camelCase","errorMessage","message","useDeleteSectionFromSchedule","deleteSectionFromSchedule","removeSectionFromSchedule","useExportCSV","download","scheduleToCSVString","moment","format","scheduleToNonTeachingCSVString","useExportFullCSV","scheduleToFullCSVString","FieldArrayFormContext","React","displayName","useFieldArrayFormContext","FieldArrayFormProvider","children","props","Provider","value","useImportFile","e","scheduleJSON","file","target","files","reader","FileReader","fileNameTokens","split","fileType","readAsArrayBuffer","onloadend","a","csvStringToSchedule","getCSVFromXLSXData","result","updateScheduleInContext","readAsBinaryString","scheduleString","String","Error","isEqual","xlsxData","Uint8Array","workBook","read","sheet","Sheets","SheetNames","utils","sheet_to_csv","reducer","actionCallback","state","action","newState","times","getMinAndMaxTimes","getClasses","getProfs","getRooms","maxTime","minTime","Level","module","exports","convertFromSemesterLength","sl","Full","HalfSemester","IntensiveSemester","FullSemester","getSectionName","course","prefixes","number","letter","getCourse","courseNumber","filter","getSection","sections","createNewSectionFromInput","createNewCourseFromInput","mapInternalTypesToInput","locationValue","meeting","location","building","roomNumber","trim","defaultTerm","isArray","days","addFalseToDaysCheckboxList","anticipatedSize","comments","day10Used","department","duration","globalMax","halfSemester","semesterLength","join","intensiveSemester","localMax","prefix","roomCapacity","startTime","status","studentHours","used","year","toString","locationCase","semesterType","First","Second","A","B","C","D","convertToSemesterLength","Number","endDate","instructorCase","meetings","startTimeCase","startDate","termStart","yearCase","prefixCase","oldSection","oldCourse","courseIndex","indexOf","removeSection","weekdays","day","wd","updateRow","newRow","prevRow","sectionName","termName","termCourseSectionProp","termHoursProp","createTable","newTableData","forEach","newFacultyRow","faculty","prevAddedFacultyRow","updateArgs","Spring","Summer","Interim","console","log","push","sortedTableData","row","totalHours","fallHours","springHours","summerHours","otherHours","sort","b","sumBy","findSection","c","s","emptyMeeting","getCourseSectionMeetingFromCell","cellValue","cellHeader","sectionStrList","courseSectionMeeting","csm","iterable","findNonTeachingLoad","nonTeachingActivity","nonTeachingLoadsArray","nonTeachingLoads","nonTeachingLoadArray","nonTeachingLoad","getNonTeachingLoadsFromCell","nonTeachingLoadStrList","professorsSet","Set","prof","add","coursesSet","firstPrefix","roomsSet","getHoursArr","min","max","minHour","parseInt","maxHour","range","getEvents","groups","events","enumArray","room","group","startTimeMoment","endTimeMoment","event","dayOfWeek","INITIAL_DATE","newEvent","description","end","extendedProps","start","title","some","flatten","startTimes","endTimes","minBy","startOf","maxBy","filterEventsByTerm","groupedEvents","tempGroupedEvents","forOwn","_","filterHeadersWithNoEvents","filteredEvents","headers","header","groupEvents","colorEventsByFeature","Room","roomNum","roomStr","color","randomColor","luminosity","seed","hash","textColor","Instructor","instructorStr","Prefix","prefixStr","levelStr","emptyStringToNull","originalValue","removeUncheckedValues","valueArr","decimalRegex","Boolean","match","addSectionSchema","object","shape","typeError","integer","transform","nullable","array","string","test","required","uppercase","positive","addNonTeachingLoadSchema","Date","getFullYear","AddNonTeachingLoadPopover","removeOldActivity","methods","useForm","criteriaMode","resolver","yupResolver","reset","getValues","useEffect","inputValues","formValues","className","Box","Typography","variant","Grid","container","spacing","initialValue","options","Button","onClick","handleSubmit","defaultProps","PopoverButton","isIcon","popupId","buttonTitle","minWidth","buttonProps","popupState","usePopupState","IconButton","bindTrigger","Add","Popover","bindPopover","anchorOrigin","horizontal","vertical","PaperProps","style","transformOrigin","AddSectionButton","AddSectionPopover","defaultValues","useState","setSemesterLength","onSubmit","isHalfSemester","isIntensiveSemester","isCustomSemester","CustomSemester","mb","textFieldProps","autoFocus","fullWidth","InputProps","endAdornment","InputAdornment","position","xs","onChange","h","i","direction","defaultValue","disabled","multiline","rows","alignItems","justify","addTitle","buttons","AnimateShowAndHide","once","isActive","setIsActive","isVisible","setIsVisible","springProps","useSpring","config","friction","mass","tension","from","height","opacity","x","onVisibilityChange","useCallback","isElemVisible","active","div","Spring3DHover","member","xys","set","photo","website","href","onMouseLeave","onMouseMove","clientX","y","clientY","calc","interpolate","trans","alt","src","borderRadius","window","innerHeight","innerWidth","SubComponents","Union","Literal","AsyncComponent","isLoading","getElements","Loading","Loaded","createFC","Calendar","allDaySlot","dayHeaderFormat","weekday","droppable","editable","headerToolbar","initialDate","initialView","nowIndicator","plugins","interactionPlugin","timeGridPlugin","selectable","weekends","DeleteFieldButton","index","Tooltip","aria-label","FieldArrayField","fieldIndex","control","titleCaseName","m","as","TextField","FieldArrayFields","fields","field","id","keys","f","FieldArrayFormActionButtons","append","margin","FieldArrayForm","fieldsName","startCase","toLower","formMethods","fieldArrayMethods","useFieldArray","GridItemCheckboxGroup","useFormContext","register","nameFallback","onValueChange","onCheckboxChange","opt","valueCopy","splice","FormControl","component","error","FormLabel","FormGroup","FormControlLabel","Checkbox","checked","inputRef","FormHelperText","GridItemRadioGroup","RadioGroup","Radio","GridItemTextField","helperText","ImportInputWrapper","onInputChange","htmlFor","accept","ModalPagination","forwardRef","ref","findCourseSectionMeeting","PopoverComponent","open","setOpen","modalValues","setModalValues","iterableKeyMap","setIterableKeyMap","page","setPage","handleModalOpen","useImperativeHandle","Modal","onClose","Paper","Pagination","count","NewTabLink","Link","rel","Schedule","ScheduleBase","calendarHeaders","calendarOptions","popupData","setPopupData","handleEventClick","arg","el","useMemo","calenderHeadersNoEmptyInTerm","Stick","node","eventClick","maxWidth","LeftTimeAxis","time","tenVH","ScheduleHeader","top","AboutPage","align","p","AboutVision","body","AboutTeam","team","AboutCode","AboutReport","AboutResources","TeamMemberProfile","bio","TextSection","mt","HarmonyPage","Last","Course","Time","HelpPage","clearSearchParams","SchedulizerPage","importRemoteFile","url","csvIndex","xlsxIndex","csvUrl","slice","fetch","then","response","text","newSchedule","xlsxUrl","arrayBuffer","useImportRemoteFile","App","useReducer","basename","path","Footer","AppBar","elevation","logo","CalvinLogo","Header","Toolbar","to","RouterLink","FacultyLoads","updateSectionModalRef","useRef","updateNonTeachingLoadModalRef","columns","accessor","tableInstance","useTable","getTableProps","getTableBodyProps","headerGroups","prepareRow","TableContainer","Table","TableHead","headerGroup","TableRow","getHeaderGroupProps","column","TableCell","getHeaderProps","render","TableBody","getRowProps","cells","cell","cellClass","getCellProps","isNonTeachingLoad","cellData","current","handleCellClick","UpdateNonTeachingLoadModalPagination","UpdateSectionModalPagination","FacultySchedule","RoomsSchedule","CSVActions","onExportClick","onFullExportClick","edge","Menu","getContentAnchorEl","bindMenu","MenuItem","button","ImportButton","btnProps","NoCoursesHeader","marginRight","TabPanel","other","aria-labelledby","hidden","role","Tabs","tabValue","setTabValue","scheduleHasCourses","Container","centered","indicatorColor","newValue","Tab","ColorSelector","InputLabel","Select","selectedColorBy","ScheduleToolbar","Searchbar","Autocomplete","getOptionLabel","option","renderInput","params","SemesterSelector","handleOnClick","newTerm","ChevronLeft","ChevronRight","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","SEPARATORS","fallReg","RegExp","summerReg","springReg","interimReg","sunReg","monReg","tuesReg","wedReg","thursReg","friReg","satReg","assignWithMeetings","arrAssign","valueParts","createMeetings","v","startTimeCallback","locationCallback","termCallback","separator","termsArr","termCase","semesterLengthCallback","semesterLengthCase","daysCallback","daysCase","instructorCallback","prefixCallback","nameCallback","numberCallback","letterCallback","globalMaxCallback","integerDefaultZeroCase","localMaxCallback","commentsCallback","yearCallback","studentHoursCallback","startsWith","substr","facultyHoursCallback","durationCallback","durationCase","roomCapacityCallback","capacity","instructionalMethodCallback","startMoment","isValid","roomParts","upperValue","toUpperCase","lowerValue","toLowerCase","Sunday","Saturday","endDateCase","startSectionDate","sectionStart","sectionLength","diff","startMonth","month","replace","isInteger","endTime","Component","subComponent","Tag","elements","alternatives","literal","getUnionTypeIterable","it","getChildByName","pruimSpreadsheetFields","cf","half","startTimeStr","registrarSpreadsheetFields","AcademicYear","BuildingAndRoom","Comments","CourseNum","Day10Used","Department","Faculty","FacultyLoad","GlobalMax","InstructionalMethod","LocalMax","MeetingDays","MeetingDurationMinutes","MeetingStart","MeetingTime","MinimumCredits","RoomCapacity","SectionCode","SectionEndDate","SectionStartDate","SectionStatus","ShortTitle","SubjectCode","TermStart","Used","templateSpreadsheetFields","Days","FacLoad","NonTeachingActivity","SectionName","sectionParts","StuCred","Terms","callbacks","csvString","objects","papa","skipEmptyLines","meta","existingCourse","existingCourseIndex","existingSection","existingSectionIndex","concat","val","Children","child","csvStr","endMoment","meetingTimeStr","buildingAndRoomStr","daysStr","clone","getMeetingTimeStr","termStr","getTermsStr","sectionNameStr","toFixed","termsStr","getTermStr","numericReg","meetingStartStr","meetingStartInternalStr","meetingEndStr","meetingEndInternalStr","meetingDurationMinutesStr","buildingStr","roomNumberStr","roomCapacityStr","monStr","tuesStr","wedStr","thursStr","friStr","courseLevelCodeStr"],"mappings":"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","file":"static/js/main.1aa458f8.chunk.js","sourcesContent":["// Note: Shout-out to CQL/Benchmark which was referenced while writing this\n\n/**\n * Get value from localStorage\n * @param key id for localStorage\n * @returns item with \"key\"\n */\nexport const loadLocal = <T>(key: string) => {\n  const item: string | null = localStorage.getItem(key);\n  return item ? (JSON.parse(item) as T) : undefined;\n};\n\n/**\n * Save item to localStorage\n * @param key id for localStorage\n * @param item value for key\n */\nexport const saveLocal = <T>(key: string, item: T | undefined) => {\n  if (item === undefined) localStorage.removeItem(key);\n  else localStorage.setItem(key, JSON.stringify(item));\n};\n\n/**\n * Delete item from localStorage\n * @param key id for localStorage\n */\nexport const removeLocal = (key: string) => {\n  localStorage.removeItem(key);\n};\n\n/** Hook provides callback functions to load, remove, and save\n *   values in localStorage.\n */\nexport const useLocal = <T>(key: string) => {\n  const load = () => {\n    return loadLocal<T>(key);\n  };\n  const save = (item: T) => {\n    saveLocal(key, item);\n  };\n  const remove = () => {\n    removeLocal(key);\n  };\n  return { load, remove, save };\n};\n","export * from \"./dayInterfaces\";\nexport * from \"./scheduleInterfaces\";\nexport * from \"./termInterfaces\";\n","import { cloneDeep, map } from \"lodash\";\nimport { Course, CourseSectionMeeting, NonTeachingLoadInput, Section, Term } from \"utilities\";\nimport { emptyCourse, emptySection } from \"utilities/constants\";\n\nexport type CheckboxTerms = (Term | boolean)[];\n\nexport const mapNonTeachingLoadValuesToInput = (\n  data?: CourseSectionMeeting,\n): NonTeachingLoadInput => {\n  const terms = addFalseToTermsCheckboxList(data?.section.term as Term[]);\n\n  return {\n    activity: data?.section.instructionalMethod ?? \"\",\n    facultyHours: data?.section.facultyHours,\n    instructor: data?.section.instructors[0] ?? \"\",\n    terms,\n  };\n};\n\nexport const mapNonTeachingLoadInput = (data: NonTeachingLoadInput) => {\n  const newSection: Section = cloneDeep(emptySection);\n  const newCourse: Course = cloneDeep(emptyCourse);\n  newSection.instructionalMethod = data.activity;\n  newSection.facultyHours = data.facultyHours;\n  newSection.instructors = [data.instructor];\n  newSection.isNonTeaching = true;\n  newSection.term = data.terms as Term[];\n  return { newCourse, newSection };\n};\n\nexport const addFalseToTermsCheckboxList = (terms?: Term[]): CheckboxTerms => {\n  const termValues = Object.values(Term);\n  if (!terms) {\n    return new Array(termValues.length).fill(false);\n  }\n  return map(termValues, (t) => {\n    return terms.includes(t) ? t : false;\n  });\n};\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport { AppAction, AppState, initialAppState, voidFn } from \"utilities\";\n\nexport interface AppContext {\n  appDispatch: Dispatch<AppAction> | (() => void);\n  appState: AppState;\n  isCSVLoading: boolean;\n  setIsCSVLoading: Dispatch<SetStateAction<AppContext[\"isCSVLoading\"]>> | (() => void);\n}\n\n/* Used for containing the global state of the app\n  and a dispatcher to perform updates against the\n  state of the app.\n*/\nexport const AppContext = createContext<AppContext>({\n  appDispatch: voidFn,\n  appState: initialAppState,\n  isCSVLoading: false,\n  setIsCSVLoading: voidFn,\n});\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport { voidFn } from \"utilities\";\n\ninterface ScheduleContext {\n  isScheduleLoading: boolean;\n  setIsScheduleLoading:\n    | Dispatch<SetStateAction<ScheduleContext[\"isScheduleLoading\"]>>\n    | (() => void);\n}\n\n/* Provide a context for each Schedule (Faculty, Room, etc.) */\nexport const ScheduleContext = createContext<ScheduleContext>({\n  isScheduleLoading: false,\n  setIsScheduleLoading: voidFn,\n});\n","import { loadLocal } from \"utilities/hooks/useLocal\";\nimport { Schedule, Term } from \"./dataInterfaces\";\n\nexport enum ColorBy {\n  Level,\n  Room,\n  Instructor,\n  Prefix,\n}\n\n// structure for the global app state\nexport interface AppState {\n  classes: string[];\n  colorBy: ColorBy;\n  fileUrl: string;\n  professors: string[];\n  rooms: string[];\n  schedule: Schedule;\n  schedulizerTab: number;\n  selectedTerm: Term;\n  slotMaxTime: string;\n  slotMinTime: string;\n}\n\n// Defaults for the app state when it launches, will try to load\n//  previous appState (with cleared fileUrl) to launch app from.\n//  If no previous state saved, will default to the object below.\nexport const initialAppState: AppState = loadLocal(\"appState\") || {\n  classes: [],\n  colorBy: 0,\n  fileUrl: \"\",\n  professors: [],\n  rooms: [],\n  schedule: { courses: [] },\n  schedulizerTab: 0,\n  selectedTerm: Term.Fall,\n  slotMaxTime: \"22:00\",\n  slotMinTime: \"6:00\",\n};\n\n// structure of actions that can be sent to app dispatch\nexport interface AppAction {\n  payload: Partial<AppState>;\n  type: \"setScheduleData\" | \"setSelectedTerm\" | \"setFileUrl\" | \"setColorBy\" | \"setSchedulizerTab\"; // add | to add more actions in the future\n}\n","/* eslint-disable typescript-sort-keys/string-enum */\n\nexport enum Day {\n  Monday = \"M\",\n  Tuesday = \"T\",\n  Wednesday = \"W\",\n  Thursday = \"TH\",\n  Friday = \"F\",\n  Saturday = \"S\",\n  Sunday = \"SU\",\n}\n\nexport enum Weekday {\n  Monday = Day.Monday,\n  Tuesday = Day.Tuesday,\n  Wednesday = Day.Wednesday,\n  Thursday = Day.Thursday,\n  Friday = Day.Friday,\n}\n","/* eslint-disable typescript-sort-keys/string-enum */\n\nexport enum Term {\n  Fall = \"FA\",\n  Interim = \"IN\", // TODO: Remove?\n  Spring = \"SP\",\n  Summer = \"SU\", // TODO: Is this a thing?\n}\n\nexport enum SemesterLength {\n  Full = \"Full\",\n  HalfFirst = \"First\",\n  HalfSecond = \"Second\",\n  IntensiveA = \"A\",\n  IntensiveB = \"B\",\n  IntensiveC = \"C\",\n  IntensiveD = \"D\",\n}\n\nexport enum Half {\n  First = SemesterLength.HalfFirst,\n  Second = SemesterLength.HalfSecond,\n}\n\nexport enum Intensive {\n  A = SemesterLength.IntensiveA,\n  B = SemesterLength.IntensiveB,\n  C = SemesterLength.IntensiveC,\n  D = SemesterLength.IntensiveD,\n}\n\nexport enum SemesterLengthOption {\n  FullSemester = \"Full\",\n  HalfSemester = \"Half\",\n  IntensiveSemester = \"Intensive\",\n  CustomSemester = \"Custom\",\n}\n","import { camelCase } from \"lodash\";\nimport { useContext } from \"react\";\nimport { DeepMap, FieldError } from \"react-hook-form\";\nimport { insertSectionCourse } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport { Course, CourseSectionMeeting, Section } from \"utilities/interfaces\";\nimport {\n  handleOldSection,\n  mapInputToInternalTypes,\n  NonTeachingLoadInput,\n  SectionInput,\n} from \"utilities/services\";\nimport { mapNonTeachingLoadInput } from \"utilities/services/addNonTeachingLoadService\";\n\ninterface MappedSection {\n  newCourse: Course;\n  newSection: Section;\n}\n\ninterface AddToScheduleParams {\n  newCourse: Course;\n  newSection: Section;\n  oldData: CourseSectionMeeting | undefined;\n  removeOldSection: boolean;\n}\n\nexport const useAddSectionToSchedule = () => {\n  const {\n    appState: { schedule },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  // Update the schedule via pass by sharing.\n  const addSectionToSchedule = (\n    data: SectionInput,\n    oldData: CourseSectionMeeting | undefined,\n    removeOldSection = false,\n  ) => {\n    setIsCSVLoading(true);\n    const { newSection, newCourse }: MappedSection = mapInputToInternalTypes(data);\n    addToSchedule({ newCourse, newSection, oldData, removeOldSection });\n  };\n\n  const addNonTeachingLoadToSchedule = (\n    data: NonTeachingLoadInput,\n    oldData: CourseSectionMeeting | undefined,\n    removeOldSection = false,\n  ) => {\n    setIsCSVLoading(true);\n    const { newSection, newCourse }: MappedSection = mapNonTeachingLoadInput(data);\n    addToSchedule({ newCourse, newSection, oldData, removeOldSection });\n  };\n\n  const addToSchedule = ({\n    newCourse,\n    newSection,\n    oldData,\n    removeOldSection,\n  }: AddToScheduleParams) => {\n    handleOldSection(oldData, newSection, removeOldSection, schedule);\n    insertSectionCourse(schedule, newSection, newCourse);\n    appDispatch({ payload: { schedule }, type: \"setScheduleData\" });\n    setIsCSVLoading(false);\n  };\n\n  return { addNonTeachingLoadToSchedule, addSectionToSchedule };\n};\n\n// a helper to provide consistent naming and retrieve error messages\nexport const useInput = <T>(label: string, errors: DeepMap<T, FieldError>) => {\n  const name = camelCase(label);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const errorMessage = (errors[name as keyof T] as any)?.message;\n  return { errorMessage, name };\n};\n","import { useContext } from \"react\";\nimport { AppContext } from \"utilities/contexts\";\nimport { CourseSectionMeeting } from \"utilities/interfaces\";\nimport { removeSectionFromSchedule } from \"utilities/services\";\n\nexport const useDeleteSectionFromSchedule = () => {\n  const {\n    appState: { schedule },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  // Update the schedule via pass by sharing.\n  const deleteSectionFromSchedule = (data: CourseSectionMeeting | undefined) => {\n    const section = data?.section;\n    if (section) {\n      setIsCSVLoading(true);\n      removeSectionFromSchedule(data, schedule, section);\n      appDispatch({ payload: { schedule }, type: \"setScheduleData\" });\n      setIsCSVLoading(false);\n    }\n  };\n\n  return { deleteSectionFromSchedule };\n};\n","import download from \"js-file-download\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport { scheduleToCSVString, scheduleToNonTeachingCSVString } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\n/* Hook that downloads the current schedule when onExportClick\n is executed. */\nexport const useExportCSV = () => {\n  const {\n    appState: { schedule },\n  } = useContext(AppContext);\n\n  const onExportClick = () => {\n    // TODO: maybe generate a cool title like schedule-fall-2020.csv\n    download(scheduleToCSVString(schedule), `schedule_${moment().format()}.csv`);\n    download(scheduleToNonTeachingCSVString(schedule), `non_teaching_${moment().format()}.csv`);\n  };\n  return onExportClick;\n};\n","import download from \"js-file-download\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport { scheduleToFullCSVString } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\n/* Hook that downloads the current schedule when onFullExportClick\n is executed. */\nexport const useExportFullCSV = () => {\n  const {\n    appState: { schedule },\n  } = useContext(AppContext);\n\n  const onFullExportClick = () => {\n    // TODO: maybe generate a cool title like full-schedule-fall-2020.csv\n    download(scheduleToFullCSVString(schedule), `full_schedule_${moment().format()}.csv`);\n  };\n  return onFullExportClick;\n};\n","import React from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport { AllFormMethods, FieldArrayFormProviderProps } from \"utilities\";\n\n/** Creates a Context for a FieldArrayForm Instance */\nconst FieldArrayFormContext = React.createContext<AllFormMethods | null>(null);\nFieldArrayFormContext.displayName = \"RHFArrayContext\";\n\n/**\n * Allows a component inside the FieldArrayFormContext access to all of the\n *   methods and other data in the FieldArrayForm\n * @returns AllFormMethods\n */\nexport const useFieldArrayFormContext = <TFieldValues extends FieldValues>(): AllFormMethods<\n  TFieldValues\n> => {\n  return React.useContext(FieldArrayFormContext) as AllFormMethods<TFieldValues>;\n};\n\n/**\n * A provider that has AllFormMethods within it. Used with FieldArrayForms\n */\nexport const FieldArrayFormProvider = <TFieldValues extends FieldValues>({\n  children,\n  ...props\n}: FieldArrayFormProviderProps<TFieldValues>) => {\n  return (\n    <FieldArrayFormContext.Provider value={{ ...props } as AllFormMethods}>\n      {children}\n    </FieldArrayFormContext.Provider>\n  );\n};\n","import { isEqual } from \"lodash\";\nimport { ChangeEvent, useContext } from \"react\";\nimport { csvStringToSchedule, Schedule } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport { read, utils } from \"xlsx\";\n\n// A closure with statefulness. Used to handle changes to inputs\nexport const useImportFile = () => {\n  const {\n    appState: { schedule },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  // TODO: this only runs when input changes, but if the same file\n  // is uploaded, this will not run.\n  // https://stackoverflow.com/questions/5201317/read-the-contents-of-a-file-object\n  const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setIsCSVLoading(true);\n    const file: File | null = e.target.files && e.target.files[0];\n    const reader = new FileReader();\n\n    const fileNameTokens = file?.name.split(\".\") || [];\n    const fileType = fileNameTokens[fileNameTokens.length - 1];\n    let scheduleJSON: Schedule;\n\n    switch (fileType) {\n      case \"xlsx\": {\n        file && reader.readAsArrayBuffer(file);\n        reader.onloadend = async () => {\n          scheduleJSON = csvStringToSchedule(getCSVFromXLSXData(reader.result as ArrayBufferLike));\n\n          await appDispatch({ payload: { fileUrl: \"\" }, type: \"setFileUrl\" });\n          await updateScheduleInContext(schedule, scheduleJSON, appDispatch, setIsCSVLoading);\n        };\n        break;\n      }\n      case \"csv\": {\n        file && reader.readAsBinaryString(file);\n        reader.onloadend = async () => {\n          const scheduleString = String(reader.result);\n          scheduleJSON = csvStringToSchedule(scheduleString);\n\n          await appDispatch({ payload: { fileUrl: \"\" }, type: \"setFileUrl\" });\n          await updateScheduleInContext(schedule, scheduleJSON, appDispatch, setIsCSVLoading);\n        };\n        break;\n      }\n      default: {\n        throw Error(`FileType ${fileType} not supported.`);\n      }\n    }\n\n    reader.onloadend = async () => {\n      let scheduleString: string;\n      if (fileType === \"xlsx\") {\n        scheduleString = getCSVFromXLSXData(reader.result as ArrayBufferLike);\n      } else {\n        scheduleString = String(reader.result);\n      }\n      scheduleJSON = csvStringToSchedule(scheduleString);\n\n      // TODO: store in local storage incase prof navigates away while editing.\n      // currently a redundant check\n      if (!isEqual(schedule, scheduleJSON)) {\n        await appDispatch({ payload: { fileUrl: \"\" }, type: \"setFileUrl\" });\n        await appDispatch({ payload: { schedule: scheduleJSON }, type: \"setScheduleData\" });\n      }\n      setIsCSVLoading(false);\n    };\n  };\n\n  return onInputChange;\n};\n\nexport const updateScheduleInContext = async (\n  schedule: Schedule,\n  scheduleJSON: Schedule,\n  appDispatch: AppContext[\"appDispatch\"],\n  setIsCSVLoading: AppContext[\"setIsCSVLoading\"],\n) => {\n  // TODO: store in local storage incase prof navigates away while editing.\n  // currently a redundant check\n  if (!isEqual(schedule, scheduleJSON)) {\n    await appDispatch({ payload: { schedule: scheduleJSON }, type: \"setScheduleData\" });\n  }\n  setIsCSVLoading(false);\n};\n\nexport const getCSVFromXLSXData = (xlsxData: ArrayBufferLike): string => {\n  const data = new Uint8Array(xlsxData);\n  const workBook = read(data, { type: \"array\" });\n  const sheet = workBook.Sheets[workBook.SheetNames[0]];\n  return utils.sheet_to_csv(sheet);\n};\n","import { voidFn } from \"utilities\";\nimport { AppAction, AppState, ColorBy, Term } from \"utilities/interfaces\";\nimport { getClasses, getMinAndMaxTimes, getProfs, getRooms } from \"utilities/services\";\n\nconst DEFAULT_PAGE = 0;\n\n/*\n  Provides a function to perform multiple setState updates\n  at once that depend on each other.\n  Can be initialized with a callback to be performed on\n  any completed action.\n*/\nexport const reducer = (actionCallback: (item: AppState) => void = voidFn) => {\n  return (state: AppState, action: AppAction): AppState => {\n    let newState: AppState;\n    switch (action.type) {\n      case \"setScheduleData\": {\n        let { schedule } = action.payload;\n        schedule = schedule || { courses: [] };\n        const times = getMinAndMaxTimes(schedule);\n        newState = {\n          ...state,\n          classes: getClasses(schedule),\n          professors: getProfs(schedule),\n          rooms: getRooms(schedule),\n          schedule,\n          slotMaxTime: times.maxTime,\n          slotMinTime: times.minTime,\n        };\n        break;\n      }\n      case \"setSelectedTerm\": {\n        let { selectedTerm } = action.payload;\n        selectedTerm = selectedTerm || Term.Fall;\n        newState = { ...state, selectedTerm };\n        break;\n      }\n      case \"setFileUrl\": {\n        let { fileUrl } = action.payload;\n        fileUrl = fileUrl || \"\";\n        newState = { ...state, fileUrl };\n        break;\n      }\n      case \"setColorBy\": {\n        let { colorBy } = action.payload;\n        colorBy = colorBy || ColorBy.Level;\n        newState = { ...state, colorBy };\n        break;\n      }\n      case \"setSchedulizerTab\": {\n        let { schedulizerTab } = action.payload;\n        schedulizerTab = schedulizerTab || DEFAULT_PAGE;\n        newState = { ...state, schedulizerTab };\n        break;\n      }\n      default:\n        return state;\n    }\n    actionCallback(newState);\n    return newState;\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/CalvinUniv-vert-full-color-inverse.255efbf6.png\";","import { filter, indexOf, isEqual, map } from \"lodash\";\nimport moment from \"moment\";\nimport { CheckboxTerms } from \"utilities\";\nimport {\n  instructorCase,\n  locationCase,\n  prefixCase,\n  startTimeCase,\n  yearCase,\n} from \"utilities/helpers\";\nimport {\n  Course,\n  CourseSectionMeeting,\n  Day,\n  Half,\n  Instructor,\n  Intensive,\n  Location,\n  Meeting,\n  Prefix,\n  Schedule,\n  Section,\n  SemesterLength,\n  SemesterLengthOption,\n  Term,\n  Weekday,\n} from \"utilities/interfaces\";\n\ntype CheckboxDays = (Day | boolean)[];\n\n// Defines interface for the section popover input\nexport interface SectionInput {\n  anticipatedSize?: Section[\"anticipatedSize\"];\n  comments: Section[\"comments\"];\n  day10Used?: Section[\"day10Used\"];\n  days: CheckboxDays;\n  department: Course[\"department\"];\n  duration?: Meeting[\"duration\"];\n  facultyHours: Section[\"facultyHours\"];\n  globalMax?: Section[\"globalMax\"];\n  halfSemester: Half;\n  instructionalMethod: Section[\"instructionalMethod\"];\n  instructor: Instructor;\n  intensiveSemester: Intensive;\n  localMax?: Section[\"localMax\"];\n  location: string;\n  name: Course[\"name\"];\n  number: Course[\"number\"];\n  prefix: Prefix;\n  roomCapacity?: Location[\"roomCapacity\"];\n  section: Section[\"letter\"];\n  semesterLength: SemesterLengthOption;\n  startTime: Meeting[\"startTime\"];\n  status: Section[\"status\"];\n  studentHours: Section[\"studentHours\"];\n  term: Section[\"term\"];\n  used?: Section[\"used\"];\n  year: string; // Assume string till yearCase() decides\n}\n\nexport interface NonTeachingLoadInput {\n  activity: Section[\"instructionalMethod\"];\n  facultyHours: Section[\"facultyHours\"];\n  instructor: Instructor;\n  terms: CheckboxTerms;\n}\n\nexport const convertFromSemesterLength = (sl: SemesterLength | undefined): SemesterLengthOption => {\n  if (sl === SemesterLength.Full || !sl) {\n    return SemesterLengthOption.FullSemester;\n  }\n  if (sl === SemesterLength.HalfFirst || sl === SemesterLength.HalfSecond) {\n    return SemesterLengthOption.HalfSemester;\n  }\n\n  return SemesterLengthOption.IntensiveSemester;\n};\n\nconst convertToSemesterLength = (sl: Half | Intensive | SemesterLengthOption): SemesterLength => {\n  switch (sl) {\n    case Half.First:\n      return SemesterLength.HalfFirst;\n    case Half.Second:\n      return SemesterLength.HalfSecond;\n    case Intensive.A:\n      return SemesterLength.IntensiveA;\n    case Intensive.B:\n      return SemesterLength.IntensiveB;\n    case Intensive.C:\n      return SemesterLength.IntensiveC;\n    case Intensive.D:\n      return SemesterLength.IntensiveD;\n    default:\n      return SemesterLength.Full;\n  }\n};\n\nexport const getSectionName = (course: Course, section: Section) => {\n  return `${course.prefixes[0]}-${course.number}-${section.letter}`;\n};\n\nexport const getCourse = (\n  schedule: Schedule,\n  prefixes: Course[\"prefixes\"],\n  courseNumber: Course[\"number\"],\n) => {\n  const courses = filter(schedule.courses, (course) => {\n    return isEqual(course.prefixes, prefixes) && course.number === courseNumber;\n  });\n  return courses.length > 0 ? courses[0] : undefined;\n};\n\nexport const getSection = (\n  schedule: Schedule,\n  prefixes: Course[\"prefixes\"],\n  courseNumber: Course[\"number\"],\n  letter: Section[\"letter\"],\n  term: Section[\"term\"],\n  instructors: Section[\"instructors\"],\n) => {\n  const course = getCourse(schedule, prefixes, courseNumber);\n  const sections = filter(course?.sections, (section) => {\n    return (\n      section.letter === letter &&\n      section.term === term &&\n      isEqual(section.instructors, instructors)\n    );\n  });\n  return sections.length > 0 ? sections[0] : undefined;\n};\n\nconst removeSection = (\n  schedule: Schedule,\n  letter: Section[\"letter\"],\n  term: Section[\"term\"],\n  instructors: Section[\"instructors\"],\n  courseIndex: number,\n) => {\n  schedule.courses[courseIndex].sections = filter(\n    schedule.courses[courseIndex].sections,\n    (section) => {\n      return (\n        section.letter !== letter || section.term !== term || section.instructors !== instructors\n      );\n    },\n  );\n  // TODO: Delete course if no sections left?\n};\n\n/* Used to map the input from the popover form to the\n internal JSON object type.  */\nexport const mapInputToInternalTypes = (data: SectionInput) => {\n  const newSection: Section = createNewSectionFromInput(data);\n  const newCourse: Course = createNewCourseFromInput(data);\n\n  return { newCourse, newSection };\n};\n\nexport const mapInternalTypesToInput = (data?: CourseSectionMeeting): SectionInput => {\n  const locationValue = (\n    (data &&\n      data.meeting &&\n      `${data?.meeting?.location.building} ${data?.meeting?.location.roomNumber}`) ||\n    \"\"\n  ).trim();\n\n  let defaultTerm = data?.section.term;\n  if (Array.isArray(defaultTerm)) {\n    [defaultTerm] = defaultTerm;\n  }\n\n  const days = addFalseToDaysCheckboxList(data?.meeting?.days);\n\n  return {\n    anticipatedSize: data?.section.anticipatedSize,\n    comments: data?.section.comments ?? \"\",\n    day10Used: data?.section.day10Used,\n    days,\n    department: data?.course.department ?? \"\",\n    duration: data?.meeting?.duration,\n    facultyHours:\n      data?.section.facultyHours !== undefined\n        ? data?.section.facultyHours\n        : data?.course.facultyHours || 0,\n    globalMax: data?.section.globalMax,\n    halfSemester: ((data?.section.semesterLength &&\n    convertFromSemesterLength(data?.section.semesterLength) === SemesterLengthOption.HalfSemester\n      ? data?.section.semesterLength\n      : SemesterLength.HalfFirst) as unknown) as Half,\n    instructionalMethod: data?.section.instructionalMethod ?? \"LEC\",\n    instructor: data?.section.instructors.join() || \"\",\n    intensiveSemester: ((data?.section.semesterLength &&\n    convertFromSemesterLength(data?.section.semesterLength) ===\n      SemesterLengthOption.IntensiveSemester\n      ? data?.section.semesterLength\n      : SemesterLength.IntensiveA) as unknown) as Intensive,\n    localMax: data?.section.localMax,\n    location: locationValue,\n    name: data?.course.name || \"\",\n    number: data?.course.number || \"\",\n    prefix: data?.course.prefixes.join() || \"\",\n    roomCapacity: data?.meeting?.location.roomCapacity,\n    section: data?.section.letter || \"\",\n    semesterLength: convertFromSemesterLength(data?.section.semesterLength),\n    startTime: data?.meeting?.startTime\n      ? moment(data?.meeting?.startTime, \"h:mm A\").format(\"HH:mm\")\n      : \"08:00\",\n    status: data?.section.status ?? \"Active\",\n    studentHours:\n      data?.section.studentHours !== undefined\n        ? data?.section.studentHours\n        : data?.course.studentHours || 0,\n    term: defaultTerm || Term.Fall,\n    used: data?.section.used,\n    year: data?.section.year?.toString() ?? \"\",\n  };\n};\n\nconst createNewSectionFromInput = (data: SectionInput): Section => {\n  const location = locationCase(data.location);\n  const semesterType = convertToSemesterLength(\n    data.intensiveSemester || data.halfSemester || data.semesterLength,\n  );\n\n  const building = location[0];\n  const roomNumber = location[1];\n\n  return {\n    anticipatedSize: Number(data.anticipatedSize),\n    comments: data.comments,\n    day10Used: Number(data.day10Used),\n    endDate: \"\",\n    facultyHours: Number(data.facultyHours),\n    globalMax: Number(data.globalMax),\n    instructionalMethod: data.instructionalMethod,\n    instructors: instructorCase(data.instructor),\n    letter: data.section,\n    localMax: Number(data.localMax),\n    meetings: [\n      {\n        days: data.days as Day[],\n        duration: Number(data.duration),\n        location: {\n          building,\n          roomCapacity: Number(data.roomCapacity),\n          roomNumber,\n        },\n        startTime: startTimeCase(data.startTime),\n      },\n    ],\n    semesterLength: semesterType,\n    startDate: \"\",\n    status: data.status,\n    studentHours: Number(data.studentHours),\n    term: data.term,\n    termStart: \"\",\n    used: Number(data.used),\n    year: yearCase(data.year),\n  };\n};\n\nconst createNewCourseFromInput = (data: SectionInput): Course => {\n  return {\n    department: data.department,\n    facultyHours: Number(data.facultyHours),\n    name: data.name,\n    number: data.number,\n    prefixes: prefixCase(data.prefix),\n    // The newSection will be added later in insertSectionCourse()\n    sections: [],\n    studentHours: Number(data.studentHours),\n  };\n};\n\n// If there is an old version of the Section...\nexport const handleOldSection = (\n  oldData: CourseSectionMeeting | undefined,\n  newSection: Section,\n  removeOldSection: boolean,\n  schedule: Schedule,\n) => {\n  const oldSection = oldData?.section;\n  if (oldSection) {\n    // If the year, term, and semester length haven't changed...\n    if (\n      String(newSection.year) === String(oldSection.year) &&\n      newSection.term === oldSection.term &&\n      newSection.semesterLength === oldSection.semesterLength\n    ) {\n      // Update the new Section to match the date fields of the old Section\n      newSection.termStart = oldSection.termStart;\n      newSection.startDate = oldSection.startDate;\n      newSection.endDate = oldSection.endDate;\n    }\n\n    // Remove the old version of the Section\n    if (removeOldSection) {\n      removeSectionFromSchedule(oldData, schedule, oldSection);\n    }\n  }\n};\n\nexport const removeSectionFromSchedule = (\n  data: CourseSectionMeeting | undefined,\n  schedule: Schedule,\n  section: Section,\n) => {\n  const oldCourse = data?.course;\n  const courseIndex = indexOf(schedule.courses, oldCourse);\n  removeSection(schedule, section.letter, section.term, section.instructors, courseIndex);\n};\n\nexport const addFalseToDaysCheckboxList = (days?: Day[]): CheckboxDays => {\n  const weekdays = Object.values(Day).filter((day) => {\n    return Object.values(Weekday).includes(day);\n  });\n\n  if (!days) {\n    return new Array(weekdays.length).fill(false);\n  }\n\n  return map(weekdays, (wd: Day) => {\n    return days.includes(wd) ? wd : false;\n  });\n};\n","import { filter, sumBy } from \"lodash\";\nimport {\n  Course,\n  CourseSectionMeeting,\n  emptyMeeting,\n  getSectionName,\n  Schedule,\n  Section,\n  Term,\n} from \"utilities\";\nimport { Instructor } from \"utilities/interfaces\";\n\ntype hourKeys = \"fallHours\" | \"springHours\" | \"summerHours\" | \"totalHours\" | \"otherHours\";\ntype sectionKeys =\n  | \"fallCourseSections\"\n  | \"springCourseSections\"\n  | \"summerCourseSections\"\n  | \"otherDuties\";\n\nexport type FacultyRow = {\n  [key in hourKeys]?: number;\n} &\n  {\n    [key in sectionKeys]?: string;\n  } & {\n    faculty: string;\n    loadNotes?: string;\n    otherDuties?: string;\n  };\n\ninterface UpdateRowParams {\n  course: Course;\n  newRow: FacultyRow;\n  prevRow: FacultyRow;\n  section: Section;\n  sectionName: string;\n  termName?: \"fall\" | \"spring\" | \"summer\" | \"other\";\n}\n\nconst updateRow = ({\n  course,\n  newRow,\n  prevRow,\n  section,\n  sectionName,\n  termName,\n}: UpdateRowParams) => {\n  const termCourseSectionProp =\n    termName === \"other\" ? \"otherDuties\" : (`${termName}CourseSections` as sectionKeys);\n  const termHoursProp = `${termName}Hours` as hourKeys;\n  const facultyHours =\n    (section.facultyHours !== undefined ? section.facultyHours : course.facultyHours) /\n    section.instructors.length;\n  if (prevRow) {\n    prevRow[termCourseSectionProp] = prevRow[termCourseSectionProp]\n      ? (prevRow[termCourseSectionProp] = `${prevRow[termCourseSectionProp]}, ${sectionName}`)\n      : (prevRow[termCourseSectionProp] = sectionName);\n\n    prevRow[termHoursProp] = prevRow[termHoursProp]\n      ? Number(prevRow[termHoursProp]) + facultyHours\n      : facultyHours;\n  } else {\n    newRow[termCourseSectionProp] = sectionName;\n    newRow[termHoursProp] = facultyHours;\n  }\n};\n\nexport const createTable = (schedule: Schedule): FacultyRow[] => {\n  const newTableData: FacultyRow[] = [];\n  schedule.courses.forEach((course) => {\n    course.sections.forEach((section) => {\n      const sectionName = getSectionName(course, section);\n      section.instructors.forEach((instructor) => {\n        const newFacultyRow: FacultyRow = {\n          faculty: instructor,\n        };\n        const [prevAddedFacultyRow] = newTableData.filter((data) => {\n          return data.faculty === instructor;\n        });\n        const updateArgs = {\n          course,\n          newRow: newFacultyRow,\n          prevRow: prevAddedFacultyRow,\n          section,\n          sectionName,\n        };\n        if (section.isNonTeaching) {\n          updateRow({ ...updateArgs, sectionName: section.instructionalMethod, termName: \"other\" });\n        } else {\n          switch (section.term) {\n            case Term.Fall:\n              updateRow({ ...updateArgs, termName: \"fall\" });\n              break;\n            case Term.Spring:\n              updateRow({ ...updateArgs, termName: \"spring\" });\n              break;\n            case Term.Summer:\n            case Term.Interim:\n              updateRow({ ...updateArgs, termName: \"summer\" });\n              break;\n            default:\n              // eslint-disable-next-line no-console\n              console.log(`Fell through case statement with value ${section.term}`);\n              break;\n          }\n        }\n        if (prevAddedFacultyRow) {\n          newTableData[newTableData.indexOf(prevAddedFacultyRow)] = prevAddedFacultyRow;\n        } else {\n          newTableData.push(newFacultyRow);\n        }\n      });\n    });\n  });\n  const sortedTableData = newTableData\n    .map((row) => {\n      return {\n        ...row,\n        totalHours:\n          (row.fallHours || 0) +\n          (row.springHours || 0) +\n          (row.summerHours || 0) +\n          (row.otherHours || 0),\n      };\n    })\n    .sort((a, b) => {\n      return b.totalHours - a.totalHours;\n    });\n  sortedTableData.push({\n    faculty: \"Total\",\n    fallHours: sumBy(sortedTableData, \"fallHours\"),\n    otherHours: sumBy(sortedTableData, \"otherHours\"),\n    springHours: sumBy(sortedTableData, \"springHours\"),\n    summerHours: sumBy(sortedTableData, \"summerHours\"),\n    totalHours: sumBy(sortedTableData, \"totalHours\"),\n  });\n  return sortedTableData;\n};\n\nexport const findSection = (\n  schedule: Schedule,\n  sectionName: string,\n  term: Term,\n): CourseSectionMeeting | null => {\n  if (!sectionName) {\n    return null;\n  }\n  const [prefix, number, letter] = sectionName.split(\"-\");\n\n  // Find the course with the prefix and number from the schedule courses array\n  const courses = filter(schedule.courses, (c) => {\n    return c.prefixes.includes(prefix) && c.number === number;\n  });\n  if (!courses.length) {\n    return null;\n  }\n  // Extract the course from the array\n  const [course] = courses;\n\n  // Find the section with the letter and term from the couse sections array\n  const sections = filter(course.sections, (s) => {\n    return s.letter === letter && s.term === term;\n  });\n  if (!sections.length) {\n    return null;\n  }\n  // Extract the section from the array\n  const [section] = sections;\n\n  return {\n    course,\n    meeting: section.meetings ? section.meetings[0] : emptyMeeting,\n    section,\n  };\n};\n\nexport const getCourseSectionMeetingFromCell = (\n  schedule: Schedule,\n  cellValue: string,\n  cellHeader: string,\n): CSMIterableKeyMap => {\n  const sectionStrList = cellValue.split(\", \");\n  const courseSectionHeaders = [\n    \"Fall Course Sections\",\n    \"Spring Course Sections\",\n    \"Summer Course Sections\",\n  ];\n  if (courseSectionHeaders.includes(cellHeader)) {\n    let term: Term = Term.Fall;\n    switch (cellHeader) {\n      case \"Fall Course Sections\":\n        term = Term.Fall;\n        break;\n      case \"Spring Course Sections\":\n        term = Term.Spring;\n        break;\n      case \"Summer Course Sections\":\n        term = Term.Summer;\n        break;\n      default:\n        break;\n    }\n    let courseSectionMeeting = findSection(schedule, sectionStrList[0], term);\n    if (courseSectionMeeting === null) {\n      term = Term.Interim;\n      courseSectionMeeting = findSection(schedule, sectionStrList[0], Term.Interim);\n    }\n    return {\n      csm: courseSectionMeeting,\n      iterable: sectionStrList,\n      key: term,\n    };\n  }\n  return {\n    csm: null,\n    iterable: sectionStrList,\n    key: Term.Fall,\n  };\n};\n\nexport const findNonTeachingLoad = (\n  schedule: Schedule,\n  nonTeachingActivity: string,\n  instructor: Instructor,\n): CourseSectionMeeting | null => {\n  if (!nonTeachingActivity) {\n    return null;\n  }\n\n  const nonTeachingLoadsArray = filter(schedule.courses, (c) => {\n    return c.prefixes.length === 0 && c.number === \"\";\n  });\n  if (!nonTeachingLoadsArray.length) {\n    return null;\n  }\n  const [nonTeachingLoads] = nonTeachingLoadsArray;\n\n  const nonTeachingLoadArray = filter(nonTeachingLoads.sections, (s) => {\n    return (\n      s.isNonTeaching === true &&\n      s.instructionalMethod === nonTeachingActivity &&\n      s.instructors.includes(instructor)\n    );\n  });\n  if (!nonTeachingLoadArray.length) {\n    return null;\n  }\n  const [nonTeachingLoad] = nonTeachingLoadArray;\n\n  return {\n    course: nonTeachingLoads,\n    meeting: emptyMeeting,\n    section: nonTeachingLoad,\n  };\n};\n\n/**\n * A specific CSM with with corresponding iterable\n *   and key.\n *\n * @export\n * @interface CSMIterableKeyMap\n */\nexport interface CSMIterableKeyMap {\n  csm: CourseSectionMeeting | null;\n  iterable: string[];\n  key: string;\n}\n\nexport const getNonTeachingLoadsFromCell = (\n  schedule: Schedule,\n  cellValue: string,\n  instructor: Instructor,\n): CSMIterableKeyMap => {\n  const nonTeachingLoadStrList = cellValue.split(\", \");\n  const courseSectionMeeting = findNonTeachingLoad(schedule, nonTeachingLoadStrList[0], instructor);\n\n  return {\n    csm: courseSectionMeeting,\n    iterable: nonTeachingLoadStrList,\n    key: instructor,\n  };\n};\n\n/**\n * Components with this reference will have a function handleModalOpen which\n *   can be called.\n *\n * @export\n * @type\n */\nexport type UpdateModalPaginationRef = {\n  handleModalOpen: ({ csm, iterable, key }: CSMIterableKeyMap) => void;\n};\n","import forEach from \"lodash/forEach\";\nimport { Schedule } from \"utilities\";\n\n// Get list of unique professors.\nexport const getProfs = (schedule: Schedule): string[] => {\n  const professorsSet = new Set<string>();\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      forEach(section.instructors, (prof) => {\n        professorsSet.add(prof);\n      });\n    });\n  });\n  return [...professorsSet];\n};\n","import { Schedule } from \"utilities\";\n\n// get list of unique classes\nexport const getClasses = (schedule: Schedule): string[] => {\n  const coursesSet = new Set<string>();\n  schedule.courses.forEach((course) => {\n    const {\n      number,\n      prefixes: [firstPrefix],\n      sections,\n    } = course;\n    sections.forEach((section) => {\n      const { letter } = section;\n      coursesSet.add(`${firstPrefix}${number}${letter}`);\n    });\n  });\n  return [...coursesSet];\n};\n","import forEach from \"lodash/forEach\";\nimport { Schedule } from \"utilities\";\n\n// Get list of unique rooms.\nexport const getRooms = (schedule: Schedule): string[] => {\n  const roomsSet = new Set<string>();\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      forEach(section.meetings, ({ location }) => {\n        roomsSet.add(`${location.building} ${location.roomNumber}`);\n      });\n    });\n  });\n  return [...roomsSet];\n};\n","import { EventInput } from \"@fullcalendar/react\";\nimport { filter, flatten, forEach, forOwn, map, maxBy, minBy, range } from \"lodash\";\nimport moment from \"moment\";\nimport hash from \"object-hash\";\nimport randomColor from \"randomcolor\";\nimport { enumArray } from \"utilities\";\nimport { INITIAL_DATE } from \"utilities/constants\";\nimport { ColorBy, Day, Meeting, Schedule, Section, Term } from \"utilities/interfaces\";\n\n// Returns a list of hours to display on the Schedule\n// TODO: add better types for timing, maybe: https://stackoverflow.com/questions/51445767/how-to-define-a-regex-matched-string-type-in-typescript\nexport const getHoursArr = (min: string, max: string): number[] => {\n  const minHour = parseInt(min.split(\":\")[0]);\n  const maxHour = parseInt(max.split(\":\")[0]);\n  return range(minHour, maxHour);\n};\n\nexport interface GroupedEvents {\n  [key: string]: EventInput[];\n}\n\nconst eventExistsInEventList = (event: EventInput, eventList: EventInput[]): boolean => {\n  return eventList.some((e) => {\n    return (\n      e.title === event.title &&\n      e.start === event.start &&\n      e.end === event.end &&\n      e.term === event.term\n    );\n  });\n};\n\n// TODO: Add events with no meeting times as all day\nexport const getEvents = (schedule: Schedule, groups: \"faculty\" | \"room\"): GroupedEvents => {\n  const events: GroupedEvents = {};\n  const days: Day[] = enumArray(Day);\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      const sectionName = `${course.prefixes[0]}-${course.number}-${section.letter}`;\n      forEach(section.instructors, (prof) => {\n        forEach(section.meetings, (meeting) => {\n          const room = `${meeting.location.building} ${meeting.location.roomNumber}`;\n          const group = groups === \"faculty\" ? prof : room;\n          const startTimeMoment = moment(meeting.startTime, \"h:mm A\");\n          const endTimeMoment = moment(startTimeMoment).add(meeting.duration, \"minutes\");\n          forEach(meeting.days, (day) => {\n            const dayOfWeek = moment(INITIAL_DATE)\n              .add(days.indexOf(day) + 1, \"days\")\n              .format(\"YYYY-MM-DD\");\n            const newEvent: EventInput = {\n              description: course.name,\n              end: `${dayOfWeek}T${endTimeMoment.format(\"HH:mm\")}`,\n              extendedProps: {\n                course,\n                meeting,\n                section,\n              },\n              start: `${dayOfWeek}T${startTimeMoment.format(\"HH:mm\")}`,\n              term: section.term,\n              title: sectionName,\n            };\n            if (events[group]) {\n              // Only add the event if it hasn't already been added\n              // TODO: Will this conceal conflicts (specifically duplicated courses/sections/meetings)?\n              if (!eventExistsInEventList(newEvent, events[group])) {\n                events[group].push(newEvent);\n              }\n            } else {\n              events[group] = [newEvent];\n            }\n          });\n        });\n      });\n    });\n  });\n  return events;\n};\n\nexport const getMinAndMaxTimes = (schedule: Schedule) => {\n  const sections: Section[] = flatten(map(schedule.courses, \"sections\"));\n  const meetings: Meeting[] = flatten(map(sections, \"meetings\"));\n  const startTimes = map(meetings, (meeting) => {\n    return moment(meeting.startTime, \"h:mm A\");\n  });\n  const endTimes = map(meetings, (meeting) => {\n    return moment(meeting.startTime, \"h:mm A\").add(meeting.duration, \"minutes\");\n  });\n  const minTime = (minBy(startTimes) || moment(\"06:00\", \"HH:mm\")).startOf(\"hour\").format(\"HH:mm\");\n  let maxTime = (maxBy(endTimes) || moment(\"22:00\", \"HH:mm\"))\n    .add(1, \"hours\")\n    .startOf(\"hour\")\n    .format(\"HH:mm\");\n  maxTime = maxTime === \"00:00\" ? \"24:00\" : maxTime;\n  return {\n    maxTime,\n    minTime,\n  };\n};\n\nexport const filterEventsByTerm = (groupedEvents: GroupedEvents, term: Term) => {\n  const tempGroupedEvents: GroupedEvents = {};\n  forOwn(groupedEvents, (_, key) => {\n    tempGroupedEvents[key] = filter(groupedEvents[key], (e) => {\n      return e.extendedProps?.section.term === term;\n    });\n  });\n  return tempGroupedEvents;\n};\n\nexport const filterHeadersWithNoEvents = (filteredEvents: GroupedEvents, headers: string[]) => {\n  return filter(headers, (header) => {\n    const groupEvents = filteredEvents[header];\n    return groupEvents?.length > 0;\n  });\n};\n\nexport const colorEventsByFeature = (groupedEvents: GroupedEvents, colorBy: ColorBy) => {\n  // TODO: Multiple colors for multiple instructors/prefixes?\n  // TODO: Pre-hashing strings too slow?\n  // Hash the strings before seeding the random color because it seemed that similar strings gave similar colors\n  switch (colorBy) {\n    case ColorBy.Room:\n      forOwn(groupedEvents, (_, key) => {\n        forEach(groupedEvents[key], (event) => {\n          const building = event.extendedProps?.meeting?.location?.building;\n          const roomNum = event.extendedProps?.meeting?.location?.roomNumber;\n          const roomStr = `${building} ${roomNum}`;\n          event.color = randomColor({ luminosity: \"light\", seed: hash(roomStr) });\n          event.textColor = \"black\";\n        });\n      });\n      break;\n    case ColorBy.Instructor:\n      forOwn(groupedEvents, (_, key) => {\n        forEach(groupedEvents[key], (event) => {\n          let instructorStr = \"\";\n          forEach(event.extendedProps?.section?.instructors, (instructor) => {\n            instructorStr += `${instructor}, `;\n          });\n          event.color = randomColor({\n            luminosity: \"light\",\n            seed: hash(instructorStr),\n          });\n          event.textColor = \"black\";\n        });\n      });\n      break;\n    case ColorBy.Prefix:\n      forOwn(groupedEvents, (_, key) => {\n        forEach(groupedEvents[key], (event) => {\n          let prefixStr = \"\";\n          forEach(event.extendedProps?.course?.prefixes, (prefix) => {\n            prefixStr += `${prefix}, `;\n          });\n          event.color = randomColor({ luminosity: \"light\", seed: hash(prefixStr) });\n          event.textColor = \"black\";\n        });\n      });\n      break;\n    default:\n      forOwn(groupedEvents, (_, key) => {\n        forEach(groupedEvents[key], (event) => {\n          const levelStr = String(event.extendedProps?.course?.number)[0];\n          switch (levelStr) {\n            case \"1\":\n              // Pastel green (suggests easy difficulty)\n              event.color = \"#c2ffc4\";\n              break;\n            case \"2\":\n              // Pastel yellow (suggests medium difficulty)\n              event.color = \"#fffec2\";\n              break;\n            case \"3\":\n              // Pastel red (suggests hard difficulty)\n              event.color = \"#ffc2c2\";\n              break;\n            default:\n              event.color = randomColor({ luminosity: \"light\", seed: hash(levelStr) });\n          }\n          event.textColor = \"black\";\n        });\n      });\n  }\n  return groupedEvents;\n};\n","import { array, number, object, string } from \"yup\";\n\n/*\nhelper for yup transform function\nRef: https://github.com/jquense/yup/issues/298#issuecomment-559017330\n */\nconst emptyStringToNull = <T>(value: T, originalValue: T) => {\n  if (typeof originalValue === \"string\" && originalValue === \"\") {\n    return null;\n  }\n  return value;\n};\n\n/*\n  Removes unchecked days from the list. Helper for yup\n*/\nexport const removeUncheckedValues = (valueArr: string[]) => {\n  return valueArr.filter((value: boolean | string) => {\n    return value;\n  });\n};\n\n/*\n  Tests that a number is an integer or a decimal.\n  Ref: https://stackoverflow.com/questions/59269772/formik-yup-how-to-check-is-decimal-number\n*/\nconst decimalRegex = (value: number | null | undefined): boolean => {\n  return Boolean(`${value || \"\"}`.match(/^\\d*\\.?\\d*$/)) || false;\n};\n\n/* A schema to provide form validation for the AddSectionPopover.\nNOTE: fields with default values are not check: semester and time. */\nexport const addSectionSchema = object().shape({\n  anticipatedSize: number()\n    .typeError(\"global max must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  day10Used: number()\n    .typeError(\"day 10 used must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  days: array().transform(removeUncheckedValues),\n  department: string(),\n  duration: number()\n    .typeError(\"duration must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  facultyHours: number()\n    .typeError(\"faculty hours must be a number\")\n    .min(0)\n    .test(\"is-decimal\", \"invalid decimal\", decimalRegex)\n    .transform(emptyStringToNull)\n    .nullable(),\n  globalMax: number()\n    .typeError(\"global max must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  instructionalMethod: string(),\n  instructor: string(),\n  localMax: number()\n    .typeError(\"global max must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  location: string(),\n  name: string(),\n  number: string().required(),\n  prefix: string().required().uppercase(),\n  roomCapacity: number()\n    .typeError(\"room capacity must be a number\")\n    .positive()\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  section: string().required().uppercase(),\n  status: string(),\n  studentHours: number()\n    .typeError(\"student hours must be a number\")\n    .min(0)\n    .test(\"is-decimal\", \"invalid decimal\", decimalRegex)\n    .transform(emptyStringToNull)\n    .nullable(),\n  used: number()\n    .typeError(\"used must be a number\")\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n  year: number()\n    .typeError(\"year must be a number\")\n    .positive()\n    .integer()\n    .min(0)\n    .transform(emptyStringToNull)\n    .nullable(),\n});\n\nexport const addNonTeachingLoadSchema = object().shape({\n  activity: string().required(),\n  facultyHours: number()\n    .required()\n    .typeError(\"faculty hours must be a number\")\n    .positive()\n    .test(\"is-decimal\", \"invalid decimal\", decimalRegex)\n    .transform(emptyStringToNull)\n    .nullable(),\n  instructor: string().required(),\n  terms: array().transform(removeUncheckedValues),\n});\n","export * from \"./constants\";\n// export * from \"./contexts\";\nexport * from \"./helpers\";\nexport * from \"./hooks\";\nexport * from \"./interfaces\";\nexport * from \"./reducers\";\nexport * from \"./services\";\n","import { Course, Meeting, Section, SemesterLength, Term } from \"./interfaces\";\n\nexport const INITIAL_DATE = \"2000-01-02\";\n\nexport const emptyCourse: Course = {\n  department: \"\",\n  facultyHours: 0,\n  name: \"\",\n  number: \"\",\n  prefixes: [],\n  sections: [],\n  studentHours: 0,\n};\n\nexport const emptyMeeting: Meeting = {\n  days: [],\n  duration: 0,\n  location: { building: \"\", roomCapacity: 0, roomNumber: \"\" },\n  startTime: \"\",\n};\n\nexport const emptySection: Section = {\n  anticipatedSize: 0,\n  comments: \"\",\n  day10Used: 0,\n  endDate: \"\",\n  globalMax: 0,\n  instructionalMethod: \"\",\n  instructors: [],\n  letter: \"\",\n  localMax: 0,\n  meetings: [],\n  semesterLength: SemesterLength.Full,\n  startDate: \"\",\n  status: \"\",\n  term: Term.Fall,\n  termStart: \"\",\n  used: 0,\n  year: new Date().getFullYear(),\n};\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Box, Button, Grid, Typography } from \"@material-ui/core\";\nimport { GridItemCheckboxGroup, GridItemTextField } from \"components\";\nimport { isEqual } from \"lodash\";\nimport React, { useEffect } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport {\n  addFalseToTermsCheckboxList,\n  addNonTeachingLoadSchema,\n  mapNonTeachingLoadValuesToInput,\n  NonTeachingLoadInput,\n  PopoverValueProps,\n  removeUncheckedValues,\n  Term,\n  useAddSectionToSchedule,\n  useDeleteSectionFromSchedule,\n} from \"utilities\";\nimport \"./AddNonTeachingLoadPopover.scss\";\n\nconst SPACING = 2;\n\nexport const AddNonTeachingLoadPopover = ({ values }: PopoverValueProps) => {\n  const { addNonTeachingLoadToSchedule } = useAddSectionToSchedule();\n\n  const onSubmit = (removeOldActivity: boolean) => {\n    return (data: NonTeachingLoadInput) => {\n      addNonTeachingLoadToSchedule(data, values, removeOldActivity);\n    };\n  };\n\n  const methods = useForm<NonTeachingLoadInput>({\n    criteriaMode: \"all\",\n    resolver: yupResolver(addNonTeachingLoadSchema),\n  });\n\n  const { deleteSectionFromSchedule } = useDeleteSectionFromSchedule();\n\n  const deleteSection = () => {\n    return () => {\n      deleteSectionFromSchedule(values);\n    };\n  };\n\n  const { reset, getValues } = methods;\n\n  useEffect(() => {\n    const inputValues = mapNonTeachingLoadValuesToInput(values);\n    const formValues = getValues();\n    inputValues.terms = removeUncheckedValues(inputValues.terms as string[]) as Term[];\n\n    // Update the form values if they have changed\n    if (!isEqual(inputValues, formValues)) {\n      reset(inputValues);\n    }\n  }, [reset, getValues, values]);\n\n  return (\n    <FormProvider {...methods}>\n      <form className=\"popover-container\">\n        <Box>\n          <Typography className=\"popover-title\" variant=\"h4\">\n            {values ? \"Update Non-Teaching Activity\" : \"Add Non-Teaching Activity\"}\n          </Typography>\n        </Box>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField label=\"Activity\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField label=\"Instructor\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField label=\"Faculty Hours\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemCheckboxGroup\n            initialValue={addFalseToTermsCheckboxList(values?.section.term as Term[]) as string[]}\n            label=\"Terms\"\n            options={Object.values(Term)}\n          />\n        </Grid>\n        <Grid className=\"popover-buttons\" item>\n          <Button\n            color=\"primary\"\n            onClick={methods.handleSubmit(onSubmit(values !== undefined))}\n            variant=\"contained\"\n          >\n            {values ? \"Update Activity\" : \"Add Activity\"}\n          </Button>\n          {values && (\n            <Button\n              color=\"secondary\"\n              onClick={methods.handleSubmit(deleteSection())}\n              variant=\"contained\"\n            >\n              Delete Activity\n            </Button>\n          )}\n        </Grid>\n      </form>\n    </FormProvider>\n  );\n};\n\nAddNonTeachingLoadPopover.defaultProps = {\n  values: undefined,\n};\n","import { Button, ButtonProps, IconButton, Popover } from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\nimport { bindPopover, bindTrigger, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React from \"react\";\nimport \"./PopoverButton.scss\";\n\ninterface PopoverButton extends ButtonProps {\n  buttonTitle?: string;\n  isIcon?: boolean;\n  minWidth?: string;\n  popupId?: string;\n}\n\nexport const PopoverButton = (props: PopoverButton) => {\n  const { isIcon, popupId, buttonTitle, minWidth, children, ...buttonProps } = props;\n  const popupState = usePopupState({\n    popupId,\n    variant: \"popover\",\n  });\n\n  return (\n    <>\n      {isIcon ? (\n        <IconButton {...bindTrigger(popupState)}>\n          <Add />\n        </IconButton>\n      ) : (\n        <Button color=\"secondary\" variant=\"contained\" {...buttonProps} {...bindTrigger(popupState)}>\n          {buttonTitle}\n        </Button>\n      )}\n      <Popover\n        {...bindPopover(popupState)}\n        anchorOrigin={{\n          horizontal: \"left\",\n          vertical: \"bottom\",\n        }}\n        PaperProps={{ style: { minWidth } }}\n        transformOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n      >\n        {children}\n      </Popover>\n    </>\n  );\n};\n\nPopoverButton.defaultProps = {\n  buttonTitle: \"Add Section\",\n  isIcon: true,\n  minWidth: \"500px\",\n  popupId: \"addSection\",\n};\n","import { ButtonProps } from \"@material-ui/core\";\nimport { AddSectionPopover } from \"components\";\nimport React from \"react\";\nimport { PopoverButton } from \"../PopoverButton\";\nimport \"./AddSectionButton.scss\";\n\ninterface AddSectionButton extends ButtonProps {\n  isIcon?: boolean;\n}\n\nexport const AddSectionButton = (props: AddSectionButton) => {\n  const { isIcon } = props;\n\n  return (\n    <PopoverButton isIcon={isIcon}>\n      <AddSectionPopover />\n    </PopoverButton>\n  );\n};\n\nAddSectionButton.defaultProps = {\n  isIcon: true,\n};\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport { GridItemCheckboxGroup, GridItemRadioGroup, GridItemTextField } from \"components\";\nimport { isEqual } from \"lodash\";\nimport React, { ChangeEvent, useEffect, useState } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport {\n  addFalseToDaysCheckboxList,\n  addSectionSchema,\n  convertFromSemesterLength,\n  mapInternalTypesToInput,\n  removeUncheckedValues,\n  SectionInput,\n  useAddSectionToSchedule,\n  useDeleteSectionFromSchedule,\n} from \"utilities\";\nimport {\n  Day,\n  Half,\n  Intensive,\n  PopoverValueProps,\n  SemesterLength,\n  SemesterLengthOption,\n  Term,\n  Weekday,\n} from \"utilities/interfaces\";\nimport \"./AddSectionPopover.scss\";\n\nconst SPACING = 2;\n\n/* A form to input information to add a schedule */\nexport const AddSectionPopover = ({ values }: PopoverValueProps) => {\n  const methods = useForm<SectionInput>({\n    criteriaMode: \"all\",\n    defaultValues: mapInternalTypesToInput(values),\n    resolver: yupResolver(addSectionSchema),\n  });\n  const [semesterLength, setSemesterLength] = useState<SemesterLengthOption>(\n    convertFromSemesterLength(values?.section.semesterLength),\n  );\n  const { addSectionToSchedule } = useAddSectionToSchedule();\n  const { deleteSectionFromSchedule } = useDeleteSectionFromSchedule();\n\n  const { reset, getValues } = methods;\n\n  useEffect(() => {\n    setSemesterLength(convertFromSemesterLength(values?.section.semesterLength));\n    const inputValues = mapInternalTypesToInput(values);\n    const formValues = getValues();\n    inputValues.days = removeUncheckedValues(inputValues.days as string[]) as Day[];\n\n    // Update the form values if they have changed\n    if (!isEqual(inputValues, formValues)) {\n      reset(inputValues);\n    }\n  }, [reset, getValues, values]);\n\n  const onSubmit = (removeOldSection: boolean) => {\n    return (data: SectionInput) => {\n      addSectionToSchedule(data, values, removeOldSection);\n    };\n  };\n\n  const deleteSection = () => {\n    return () => {\n      deleteSectionFromSchedule(values);\n    };\n  };\n\n  const onSemesterLengthChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setSemesterLength(e.target.value as SemesterLengthOption);\n  };\n\n  const isHalfSemester = semesterLength === SemesterLengthOption.HalfSemester;\n  const isIntensiveSemester = semesterLength === SemesterLengthOption.IntensiveSemester;\n  const isCustomSemester = semesterLength === SemesterLengthOption.CustomSemester;\n  const title = values ? \"Update Section\" : \"Add Section\";\n\n  let defaultTerm = values?.section.term;\n  if (Array.isArray(defaultTerm)) {\n    [defaultTerm] = defaultTerm;\n  }\n\n  const buttons = () => {\n    const addTitle = values ? \"Add New Section\" : \"Add Section\";\n    return (\n      <>\n        {values && (\n          <Button\n            className=\"update-button\"\n            color=\"primary\"\n            onClick={methods.handleSubmit(onSubmit(true))}\n            type=\"submit\"\n            variant=\"contained\"\n          >\n            Update Section\n          </Button>\n        )}\n        <Button\n          className=\"add-button\"\n          color=\"primary\"\n          onClick={methods.handleSubmit(onSubmit(false))}\n          type=\"submit\"\n          variant=\"contained\"\n        >\n          {addTitle}\n        </Button>\n        {values && (\n          <Button\n            className=\"delete-button\"\n            color=\"secondary\"\n            onClick={methods.handleSubmit(deleteSection())}\n            variant=\"contained\"\n          >\n            Delete Section\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  // TODO: Make fields for termStart, startDate, and endDate?\n  return (\n    <FormProvider {...methods}>\n      <form className=\"popover-container\">\n        <Box mb={SPACING}>\n          <Typography className=\"popover-title\" variant=\"h4\">\n            {title}\n          </Typography>\n        </Box>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField label=\"Department\" textFieldProps={{ autoFocus: true }} />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          {/* TODO: Dropdown for courses already in system */}\n          <GridItemTextField label=\"Prefix\" />\n          <GridItemTextField label=\"Number\" />\n          <GridItemTextField label=\"Section\" />\n          <GridItemTextField label=\"Name\" />\n          <GridItemTextField label=\"Instructional Method\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          {/* TODO: Dropdown for instructors with option to add new one */}\n          <GridItemTextField label=\"Instructor\" />\n          {/* TODO: Dropdown for rooms with option to add new one */}\n          <GridItemTextField label=\"Location\" />\n          <GridItemTextField label=\"Room Capacity\" />\n          <GridItemTextField label=\"Faculty Hours\" />\n          <GridItemTextField label=\"Student Hours\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField label=\"Anticipated Size\" />\n          <GridItemTextField label=\"Used\" />\n          <GridItemTextField label=\"Day 10 Used\" />\n          <GridItemTextField label=\"Local Max\" />\n          <GridItemTextField label=\"Global Max\" />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemTextField\n            label=\"Start Time\"\n            textFieldProps={{ fullWidth: true, type: \"time\" }}\n          />\n          <GridItemTextField\n            label=\"Duration\"\n            textFieldProps={{\n              InputProps: {\n                endAdornment: <InputAdornment position=\"end\">min</InputAdornment>,\n              },\n            }}\n          />\n          <GridItemTextField label=\"Year\" />\n          <GridItemTextField label=\"Status\" />\n          {/* This empty item just fills space */}\n          <Grid item xs />\n        </Grid>\n        <Grid container spacing={SPACING}>\n          <GridItemCheckboxGroup\n            initialValue={addFalseToDaysCheckboxList(values?.meeting?.days) as string[]}\n            label=\"Days\"\n            options={Object.values(Day).filter((day) => {\n              return Object.values(Weekday).includes(day);\n            })}\n          />\n          <GridItemRadioGroup label=\"Term\" options={Object.values(Term)} />\n          <GridItemRadioGroup\n            label=\"Semester Length\"\n            onChange={onSemesterLengthChange}\n            options={Object.values(SemesterLengthOption)}\n          />\n          <Grid item xs>\n            {isHalfSemester && (\n              <GridItemRadioGroup\n                label=\"Half Semester\"\n                options={Object.values(SemesterLength).filter((h) => {\n                  return Object.values(Half).includes(h);\n                })}\n              />\n            )}\n            {isIntensiveSemester && (\n              <GridItemRadioGroup\n                label=\"Intensive Semester\"\n                options={Object.values(SemesterLength).filter((i) => {\n                  return Object.values(Intensive).includes(i);\n                })}\n              />\n            )}\n            {isCustomSemester && (\n              <Grid container direction=\"column\" spacing={SPACING}>\n                {/* TODO: add support for custom */}\n                <GridItemTextField\n                  label=\"Start Date\"\n                  textFieldProps={{\n                    defaultValue: \"2020-20-20\",\n                    disabled: true,\n                    fullWidth: true,\n                    // type: \"date\",\n                  }}\n                />\n                <Typography variant=\"caption\">\n                  Custom semester lengths are not support yet.\n                </Typography>\n              </Grid>\n            )}\n          </Grid>\n          <GridItemTextField\n            label=\"Notes\"\n            textFieldProps={{ multiline: true, name: \"comments\", rows: 4 }}\n            value={values?.section.comments}\n          />\n        </Grid>\n        <Grid alignItems=\"flex-end\" container justify=\"space-between\">\n          <Grid item>\n            <Typography variant=\"caption\">\n              Tip: use <b>tab</b> and <b>shift + tab</b> to navigate, <b>space bar</b> to select\n              days, <b>arrow keys</b> to select term and others, and <b>return</b> to submit.\n            </Typography>\n          </Grid>\n          <Grid className=\"popover-buttons\" item>\n            {buttons()}\n          </Grid>\n        </Grid>\n      </form>\n    </FormProvider>\n  );\n};\n\nAddSectionPopover.defaultProps = {\n  values: undefined,\n};\n","import { Grid } from \"@material-ui/core\";\nimport React, { PropsWithChildren, useCallback, useState } from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport ReactVisibilitySensor from \"react-visibility-sensor\";\nimport \"./AnimateShowAndHide.scss\";\n\ninterface AnimateShowAndHide {\n  /* complete the animation once */\n  once?: boolean;\n}\n\n/* A component that animates children vertically when it goes into scroll view.\n  References:\n  - https://codesandbox.io/embed/zn2q57vn13\n  - https://stackoverflow.com/questions/56928771/reactjs-react-countup-visible-only-once-in-visibility-sensor\n*/\nexport const AnimateShowAndHide = ({ children, once }: PropsWithChildren<AnimateShowAndHide>) => {\n  const [isActive, setIsActive] = useState(true);\n  const [isVisible, setIsVisible] = useState(false);\n\n  const springProps = useSpring({\n    config: { friction: 200, mass: 5, tension: 2000 },\n    from: { height: 0, opacity: 0, x: 20 },\n    height: isVisible ? 110 : 0,\n    opacity: isVisible ? 1 : 0,\n    x: isVisible ? 0 : 20,\n  });\n\n  const onVisibilityChange = useCallback(\n    (isElemVisible: boolean) => {\n      /* Animate once */\n      if (once && isElemVisible) {\n        setIsVisible(true);\n        setIsActive(false);\n        /* Animate on every view */\n      } else {\n        setIsVisible(isElemVisible);\n      }\n    },\n    [once],\n  );\n\n  const { height } = springProps;\n\n  return (\n    <ReactVisibilitySensor active={isActive} onChange={onVisibilityChange}>\n      <Grid className=\"show-and-hide-main\" container justify=\"flex-start\">\n        <animated.div className=\"show-and-hide-text\" style={springProps}>\n          <animated.div style={{ height }}>{children}</animated.div>\n        </animated.div>\n      </Grid>\n    </ReactVisibilitySensor>\n  );\n};\n\nAnimateShowAndHide.defaultProps = {\n  once: true,\n};\n","import { NewTabLink } from \"components\";\nimport Image from \"material-ui-image\";\nimport React from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport { TeamMember } from \"utilities\";\nimport { calc, trans } from \".\";\nimport \"./Spring3DHover.scss\";\n\ninterface Spring3DCard {\n  member: TeamMember;\n}\n\n/* Transforms and Reanimates an image when a mouse is hovered.\n  Ref: https://codesandbox.io/embed/rj998k4vmm\n*/\nexport const Spring3DHover = ({ member }: Spring3DCard) => {\n  const [springProps, set] = useSpring(() => {\n    return { config: { friction: 40, mass: 5, tension: 350 }, xys: [0, 0, 1] };\n  });\n\n  const { xys } = springProps;\n  const { photo, website, name } = member;\n\n  return (\n    <div className=\"spring-3d-wrapper\">\n      <NewTabLink href={website}>\n        <animated.div\n          className=\"spring-3d-content\"\n          onMouseLeave={() => {\n            return set({ xys: [0, 0, 1] });\n          }}\n          onMouseMove={({ clientX: x, clientY: y }) => {\n            return set({ xys: calc(x, y) });\n          }}\n          style={{ transform: xys.interpolate(trans as never) }}\n        >\n          <Image\n            alt={`image of ${name}`}\n            className=\"spring-3d-image\"\n            src={photo}\n            style={{ borderRadius: \"100%\" }}\n          />\n        </animated.div>\n      </NewTabLink>\n    </div>\n  );\n};\n","/* Referenced: https://codesandbox.io/embed/rj998k4vmm */\n\n/* Calculates the y, x, and scale for the transformation. */\nexport const calc = (x: number, y: number) => {\n  // TODO: This makes only things in the center perfectly transform.\n  // I can't figure out the math to fix this yet\n  // Need to offset for where the div is placed on the screen.\n  return [-(y - window.innerHeight / 2) / 50, (x - window.innerWidth / 2) / 50, 1.1];\n};\n\n/* Transforms the image */\nexport const trans = (x: number, y: number, s: number): string => {\n  return `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`;\n};\n","import React, { FC, PropsWithChildren } from \"react\";\nimport { Literal, Static, Union } from \"runtypes\";\nimport { createFC, getElements } from \"utilities\";\n\ninterface AsyncComponent {\n  isLoading: boolean;\n}\n\n// Define the runtype\nconst SubComponents = Union(Literal(\"Loading\"), Literal(\"Loaded\"));\n\n// Some boiler plate to get useable types.\ntype SubComponents = Static<typeof SubComponents>;\ntype AsyncSubComponents = { [key in SubComponents]: FC<{}> };\n\n/*\n  Show a loading state while waiting on a async function to finish.\n\n  Usage:\n  <AsyncComponent isLoading={boolean}>\n    <AsyncComponent.Loading>\n      content to display while loading\n    </AsyncComponent.Loading>\n    <AsyncComponent.Loaded>\n      content to display when loading is complete\n    </AsyncComponent.Loaded>\n  </AsyncComponent>\n\n  References:\n    - https://stackoverflow.com/a/56953600/9931154\n    - https://dev.to/shayanypn/buckle-with-react-sub-component-10ll\n*/\nexport const AsyncComponent: FC<AsyncComponent> & AsyncSubComponents = ({\n  children,\n  isLoading,\n}: PropsWithChildren<AsyncComponent>) => {\n  const { Loading, Loaded } = getElements(children, SubComponents);\n\n  return <>{isLoading ? <>{Loading}</> : <>{Loaded}</>}</>;\n};\n\n// Define sub-components.\nAsyncComponent.Loading = createFC(\"Loading\");\nAsyncComponent.Loaded = createFC(\"Loaded\");\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport FullCalendar from \"01/../@fullcalendar/react\";\nimport { CalendarOptions } from \"@fullcalendar/common\";\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport React from \"react\";\nimport { INITIAL_DATE } from \"utilities/constants\";\nimport \"./Calendar.scss\";\n\nexport const Calendar = (props: CalendarOptions) => {\n  return (\n    <>\n      <FullCalendar {...props} />\n    </>\n  );\n};\n\nCalendar.defaultProps = {\n  allDaySlot: false,\n  dayHeaderFormat: { weekday: \"short\" },\n  droppable: false,\n  editable: false, // TODO: Change to true if we can lock section meeting times\n  headerToolbar: false,\n  height: \"auto\",\n  initialDate: INITIAL_DATE,\n  initialView: \"timeGridWeek\",\n  nowIndicator: false,\n  plugins: [interactionPlugin, timeGridPlugin],\n  selectable: true,\n  slotMaxTime: \"22:00:00\",\n  slotMinTime: \"6:00:00\",\n  weekends: false,\n};\n","import { IconButton, Tooltip } from \"@material-ui/core\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport React from \"react\";\nimport { useFieldArrayFormContext } from \"utilities\";\n\ninterface DeleteFieldButtonProps {\n  index: number;\n}\n\n/**\n * Deletes a row in the field array at a specific index.\n */\nexport const DeleteFieldButton = ({ index }: DeleteFieldButtonProps) => {\n  const { remove } = useFieldArrayFormContext();\n\n  return (\n    <div>\n      <Tooltip title=\"Remove\">\n        <IconButton\n          aria-label=\"remove\"\n          onClick={() => {\n            remove(index);\n          }}\n        >\n          <HighlightOffIcon />\n        </IconButton>\n      </Tooltip>\n    </div>\n  );\n};\n","import { Box, TextField } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport { useFieldArrayFormContext } from \"utilities\";\n\ninterface FieldArrayFieldProps {\n  fieldIndex: string;\n  index: number;\n}\n\n/**\n * A single field in a field array. There could be multiple fields per row\n *   or just one.\n */\nexport const FieldArrayField = ({ index, fieldIndex }: FieldArrayFieldProps) => {\n  const { control, titleCaseName: name, defaultValue = {} } = useFieldArrayFormContext();\n\n  return (\n    <Box m={1}>\n      <Controller\n        as={<TextField label={fieldIndex} variant=\"outlined\" />}\n        control={control}\n        defaultValue={defaultValue[fieldIndex]}\n        name={`${name}[${index}][${fieldIndex}]`}\n      />\n    </Box>\n  );\n};\n","import { Grid } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useFieldArrayFormContext } from \"utilities\";\nimport { DeleteFieldButton } from \"../DeleteFieldButton\";\nimport { FieldArrayField } from \"../FieldArrayField\";\n\n/**\n * Creates one row in the FieldArrayForm. Renders multiple fields\n *   if there are more keys in the original object.\n */\nexport const FieldArrayFields = () => {\n  const { fields } = useFieldArrayFormContext();\n\n  return (\n    <>\n      {fields.map((field, index) => {\n        return (\n          <Grid key={field.id} container justify=\"center\">\n            {Object.keys(field)\n              .filter((f) => {\n                return f !== \"id\";\n              })\n              .map((key) => {\n                return <FieldArrayField key={key} fieldIndex={key} index={index} />;\n              })}\n            <DeleteFieldButton index={index} />\n          </Grid>\n        );\n      })}\n    </>\n  );\n};\n","import { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useFieldArrayFormContext } from \"utilities\";\n\n/** Buttons at the bottom of the FieldArrayForm that allow the\n *   user to add more rows to the form and submit it.\n */\nexport const FieldArrayFormActionButtons = () => {\n  const { append, defaultValue, titleCaseName } = useFieldArrayFormContext();\n\n  return (\n    <>\n      <Button\n        color=\"secondary\"\n        onClick={() => {\n          append(defaultValue || {});\n        }}\n        style={{ margin: \"1em\" }}\n        type=\"button\"\n        variant=\"outlined\"\n      >\n        Add {titleCaseName}\n      </Button>\n\n      <Button color=\"primary\" style={{ margin: \"1em\" }} type=\"submit\" variant=\"outlined\">\n        Submit\n      </Button>\n    </>\n  );\n};\n","import startCase from \"lodash/startCase\";\nimport toLower from \"lodash/toLower\";\nimport React from \"react\";\nimport { useFieldArray, useForm } from \"react-hook-form\";\nimport { FieldArrayFormProvider } from \"utilities\";\nimport { FieldArrayFields } from \"./FieldArrayFields\";\nimport { FieldArrayFormActionButtons } from \"./FieldArrayFormActionButtons\";\n\ninterface FieldArrayFormProps {\n  defaultValue: object;\n  fieldsName: string;\n}\n\n/**\n * FieldArrayForm creates a form with a variable amount of fields all for similar values.\n * This uses a provider to pass form related data down the component tree.\n * Handles the form submission and formats the name to look nice on the web.\n */\nexport const FieldArrayForm = ({ fieldsName, defaultValue }: FieldArrayFormProps) => {\n  const titleCaseName = startCase(toLower(fieldsName));\n  const formMethods = useForm({\n    defaultValues: { [titleCaseName]: [defaultValue] },\n  });\n  const { control, handleSubmit } = formMethods;\n  const fieldArrayMethods = useFieldArray({\n    control,\n    name: titleCaseName,\n  });\n\n  return (\n    <FieldArrayFormProvider\n      {...formMethods}\n      {...fieldArrayMethods}\n      defaultValue={defaultValue}\n      titleCaseName={titleCaseName}\n    >\n      <form\n        onSubmit={handleSubmit((data) => {\n          // TODO: handle this.\n          // eslint-disable-next-line no-console\n          console.log(data);\n        })}\n      >\n        <h3>{titleCaseName}: </h3>\n        <FieldArrayFields />\n        <FieldArrayFormActionButtons />\n      </form>\n    </FieldArrayFormProvider>\n  );\n};\n","import {\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  FormHelperText,\n  FormLabel,\n  Grid,\n} from \"@material-ui/core\";\nimport React, { ChangeEvent, useEffect, useState } from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { useInput } from \"utilities\";\nimport \"./GridItemCheckboxGroup.scss\";\n\ninterface GridItemCheckboxGroup {\n  initialValue: string[];\n  label: string;\n  name?: string;\n  options: string[];\n}\n\nexport const GridItemCheckboxGroup = ({\n  label,\n  name,\n  options,\n  initialValue,\n}: GridItemCheckboxGroup) => {\n  const { register, errors } = useFormContext();\n  const { name: nameFallback, errorMessage } = useInput(label, errors);\n  const [value, onValueChange] = useState(initialValue);\n\n  useEffect(() => {\n    onValueChange(initialValue);\n  }, [initialValue]);\n\n  /* onCheckboxChange handles the value change when a checkbox is clicked\n      value is a string[] with a length equal to the number of options.\n      If an option is selected, its position in the value array is updated\n      with the option name. If it is unselected, its position in the value array\n      is updated with \"false\".\n  */\n  const onCheckboxChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const opt = e.target.value;\n    if (value) {\n      const valueCopy = [...value];\n      if (value?.includes(opt)) {\n        valueCopy.splice(options.indexOf(opt), 1, \"false\");\n        onValueChange(valueCopy);\n      } else {\n        valueCopy.splice(options.indexOf(opt), 1, opt);\n        onValueChange(valueCopy);\n      }\n    } else {\n      onValueChange([opt]);\n    }\n  };\n\n  return (\n    <Grid item xs>\n      <FormControl component=\"fieldset\" error={!!errorMessage}>\n        <FormLabel component=\"legend\">{label}</FormLabel>\n        <FormGroup>\n          <Grid container direction=\"column\">\n            {options.map((opt, i) => {\n              return (\n                <Grid key={opt} item>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={value?.includes(opt) ?? false}\n                        onChange={onCheckboxChange}\n                      />\n                    }\n                    inputRef={register}\n                    label={opt}\n                    name={`${name ?? nameFallback}[${i}]`}\n                    value={opt}\n                  />\n                </Grid>\n              );\n            })}\n          </Grid>\n        </FormGroup>\n        <FormHelperText>{errorMessage}</FormHelperText>\n      </FormControl>\n    </Grid>\n  );\n};\n\nGridItemCheckboxGroup.defaultProps = {\n  name: undefined,\n};\n","import {\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n  Grid,\n  Radio,\n  RadioGroup,\n} from \"@material-ui/core\";\nimport { camelCase } from \"lodash\";\nimport React, { ChangeEvent } from \"react\";\nimport { Controller, useFormContext } from \"react-hook-form\";\nimport \"./GridItemRadioGroup.scss\";\n\ninterface GridItemRadioGroup {\n  defaultValue?: string;\n  label: string;\n  name?: string;\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  options: string[];\n}\n\n/* Renders a group of radio buttons for a form.\nRef: https://stackoverflow.com/questions/64042394/react-hook-form-and-material-ui-formcontrol */\nexport const GridItemRadioGroup = ({\n  defaultValue,\n  label,\n  name,\n  onChange,\n  options,\n}: GridItemRadioGroup) => {\n  const { control } = useFormContext();\n\n  return (\n    <Grid item xs>\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">{label}</FormLabel>\n        <Controller\n          as={\n            <RadioGroup>\n              {options.map((opt) => {\n                return (\n                  <FormControlLabel\n                    key={opt}\n                    control={<Radio onChange={onChange} />}\n                    label={opt}\n                    value={opt}\n                  />\n                );\n              })}\n            </RadioGroup>\n          }\n          control={control}\n          defaultValue={defaultValue}\n          name={name ?? camelCase(label)}\n        />\n      </FormControl>\n    </Grid>\n  );\n};\n\nGridItemRadioGroup.defaultProps = {\n  defaultValue: undefined,\n  name: undefined,\n  onChange: undefined,\n};\n","import { Grid, StandardTextFieldProps, TextField } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { useInput } from \"utilities\";\nimport \"./GridItemTextField.scss\";\n\ninterface GridItemTextField {\n  label: string;\n  name?: string;\n  textFieldProps?: StandardTextFieldProps;\n  value?: string;\n}\n\n/* A text field to be used on forms */\nexport const GridItemTextField = ({ label, textFieldProps, value, name }: GridItemTextField) => {\n  const { register, errors } = useFormContext();\n  const { name: nameFallback, errorMessage } = useInput(label, errors);\n\n  return (\n    <Grid container direction=\"column\" item xs>\n      <Grid item xs>\n        <TextField\n          defaultValue={value}\n          fullWidth\n          inputRef={register}\n          label={label}\n          name={name ?? nameFallback}\n          {...textFieldProps}\n          error={!!errorMessage}\n          helperText={errorMessage}\n          variant=\"outlined\"\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nGridItemTextField.defaultProps = {\n  name: undefined,\n  textFieldProps: undefined,\n  value: \"\",\n};\n","import React, { PropsWithChildren } from \"react\";\nimport { useImportFile } from \"utilities\";\n\n/* Wraps whatever children in a label that will capture the click\non the children and open the file explorer to upload a file.\n*/\nexport const ImportInputWrapper = ({ children }: PropsWithChildren<{}>) => {\n  const onInputChange = useImportFile();\n\n  return (\n    <label htmlFor=\"import-button\">\n      <input\n        accept=\".csv, .xlsx\"\n        className=\"hidden\"\n        id=\"import-button\"\n        onChange={onInputChange}\n        type=\"file\"\n      />\n      {children}\n    </label>\n  );\n};\n","import { Modal, Paper } from \"@material-ui/core\";\nimport { Pagination } from \"@material-ui/lab\";\nimport React, {\n  ChangeEvent,\n  forwardRef,\n  Ref,\n  useContext,\n  useImperativeHandle,\n  useState,\n} from \"react\";\nimport {\n  CourseSectionMeeting,\n  CSMIterableKeyMap,\n  FindCourseSectionMeetingFunction,\n  PopoverValueProps,\n  UpdateModalPaginationRef,\n} from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport \"./ModalPagination.scss\";\n\ninterface ModalPaginationProps {\n  /**\n   * A component that displays a form to edit the entries\n   * @type {React.ElementType<PopoverValueProps>}\n   * @memberof ModalPaginationProps\n   */\n  PopoverComponent: React.ElementType<PopoverValueProps>;\n  /**\n   * Function to find specific CSMs for the specific cell clicked\n   * @type {FindCourseSectionMeetingFunction}\n   * @memberof ModalPaginationProps\n   */\n  findCourseSectionMeeting: FindCourseSectionMeetingFunction;\n}\n\ninterface IterableKeyMap {\n  iterable: string[];\n  key: string;\n}\n\n/**\n * Creates a modal for forms with multiple pages and allows the user to\n *   step through the pages and edit the same form for multiple entities.\n * Used on the FacultyPage to find CourseSectionMeetings\n */\nexport const ModalPagination = forwardRef(\n  (props: ModalPaginationProps, ref: Ref<UpdateModalPaginationRef>) => {\n    const { findCourseSectionMeeting, PopoverComponent } = props;\n\n    const {\n      appState: { schedule },\n    } = useContext(AppContext);\n\n    const [open, setOpen] = useState(false);\n    const [modalValues, setModalValues] = useState<CourseSectionMeeting>();\n    const [iterableKeyMap, setIterableKeyMap] = useState<IterableKeyMap>({\n      iterable: [],\n      key: \"\",\n    });\n    const [page, setPage] = useState(1);\n\n    const handlePageChange = (event: ChangeEvent<unknown>, value: number) => {\n      setPage(value);\n      const courseSectionMeeting = findCourseSectionMeeting(\n        schedule,\n        iterableKeyMap.iterable[value - 1],\n        iterableKeyMap.key,\n      );\n      if (courseSectionMeeting !== null) {\n        setOpen(false);\n        setModalValues(courseSectionMeeting);\n        setOpen(true);\n      }\n    };\n\n    const handleModalClose = () => {\n      setPage(1);\n      setOpen(false);\n    };\n\n    const handleModalOpen = ({ csm, iterable, key }: CSMIterableKeyMap) => {\n      if (csm) {\n        setModalValues(csm);\n        setIterableKeyMap({\n          iterable,\n          key,\n        });\n      }\n      setOpen(true);\n    };\n\n    // Allow parents to open the child modal.\n    useImperativeHandle(ref, () => {\n      return {\n        handleModalOpen,\n      };\n    });\n\n    return (\n      <Modal className=\"pagination-modal\" onClose={handleModalClose} open={open}>\n        <Paper className=\"pagination-modal-paper\">\n          <Pagination\n            count={iterableKeyMap.iterable.length}\n            onChange={handlePageChange}\n            page={page}\n          />\n          <PopoverComponent values={modalValues} />\n        </Paper>\n      </Modal>\n    );\n  },\n);\n","import { Link } from \"@material-ui/core\";\nimport React, { PropsWithChildren } from \"react\";\n\ntype NewTabLink = Pick<HTMLAnchorElement, \"href\">;\n\n/* Opens a link in a new tab. Useful for referencing pages outside of the app */\nexport const NewTabLink = ({ children, href }: PropsWithChildren<NewTabLink>) => {\n  return (\n    <Link href={href} rel=\"noopener noreferrer\" target=\"_blank\">\n      {children}\n    </Link>\n  );\n};\n","import { CalendarOptions, EventClickArg } from \"@fullcalendar/react\";\nimport { Popover } from \"@material-ui/core\";\nimport { AddSectionPopover, AsyncComponent, Calendar, ScheduleToolbar } from \"components\";\nimport { bindPopover, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React, { useCallback, useContext, useMemo, useState } from \"react\";\nimport Stick from \"react-stick\";\nimport StickyNode from \"react-stickynode\";\nimport { CourseSectionMeeting } from \"utilities\";\nimport { AppContext, ScheduleContext } from \"utilities/contexts\";\nimport {\n  colorEventsByFeature,\n  filterEventsByTerm,\n  filterHeadersWithNoEvents,\n  getHoursArr,\n  GroupedEvents,\n} from \"utilities/services\";\nimport \"./Schedule.scss\";\n\ninterface ScheduleBase extends CalendarOptions {\n  calendarHeaders: string[];\n  groupedEvents: GroupedEvents;\n}\n\n/* Provides a Schedule component to handle loading and async events and interfaces\n  with a BaseSchedule.\n*/\nexport const Schedule = (props: ScheduleBase) => {\n  const [isScheduleLoading, setIsScheduleLoading] = useState(false);\n\n  return (\n    <ScheduleContext.Provider value={{ isScheduleLoading, setIsScheduleLoading }}>\n      <AsyncComponent isLoading={isScheduleLoading}>\n        <AsyncComponent.Loading>Updating Schedule...</AsyncComponent.Loading>\n        <AsyncComponent.Loaded>\n          <ScheduleBase {...props} />\n        </AsyncComponent.Loaded>\n      </AsyncComponent>\n    </ScheduleContext.Provider>\n  );\n};\n\n/* Creates a list of Calendars to create a Schedule\n  <Stick> is used to stick the Schedule Header to the Schedule\n  to track horizontal scrolling.\n*/\nconst ScheduleBase = ({ calendarHeaders, groupedEvents, ...calendarOptions }: ScheduleBase) => {\n  const {\n    appState: { colorBy, selectedTerm, slotMaxTime, slotMinTime },\n  } = useContext(AppContext);\n  const [popupData, setPopupData] = useState<CourseSectionMeeting>();\n\n  const popupState = usePopupState({\n    popupId: \"addSection\",\n    variant: \"popover\",\n  });\n\n  const handleEventClick = useCallback(\n    (arg: EventClickArg) => {\n      setPopupData(arg.event.extendedProps as CourseSectionMeeting);\n      popupState.open(arg.el);\n    },\n    [popupState],\n  );\n\n  const times = {\n    slotMaxTime,\n    slotMinTime,\n  };\n\n  // Add context times to the existing calendarOptions\n  calendarOptions = {\n    ...calendarOptions,\n    ...times,\n  };\n\n  // Filter out events from other terms\n  const filteredEvents = useMemo(() => {\n    return filterEventsByTerm(groupedEvents, selectedTerm);\n  }, [groupedEvents, selectedTerm]);\n\n  // Filter out headers with no events\n  const calenderHeadersNoEmptyInTerm = useMemo(() => {\n    return filterHeadersWithNoEvents(filteredEvents, calendarHeaders);\n  }, [filteredEvents, calendarHeaders]);\n\n  // Color events by the selected feature\n  colorEventsByFeature(filteredEvents, colorBy);\n\n  return (\n    <>\n      <ScheduleToolbar />\n      <div className=\"schedule-time-axis-wrapper\">\n        <LeftTimeAxis {...times} />\n        <div className=\"schedule-wrapper\">\n          <Stick\n            node={<ScheduleHeader headers={calenderHeadersNoEmptyInTerm} />}\n            position=\"top left\"\n          >\n            <div className=\"adjacent\">\n              {calenderHeadersNoEmptyInTerm.map((header) => {\n                return (\n                  <div key={header} className=\"calendar-width hide-axis\">\n                    <Calendar\n                      {...calendarOptions}\n                      key={header}\n                      eventClick={handleEventClick}\n                      events={filteredEvents[header]}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </Stick>\n        </div>\n      </div>\n      <Popover\n        {...bindPopover(popupState)}\n        anchorOrigin={{\n          horizontal: \"left\",\n          vertical: \"bottom\",\n        }}\n        PaperProps={{ style: { maxWidth: \"50%\", minWidth: \"500px\" } }}\n        transformOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n      >\n        <AddSectionPopover values={popupData} />\n      </Popover>\n    </>\n  );\n};\n\ninterface LeftTimeAxis {\n  slotMaxTime: string;\n  slotMinTime: string;\n}\n\n/* Display the hours on the left axis of the schedule\n */\nconst LeftTimeAxis = ({ slotMinTime: min, slotMaxTime: max }: LeftTimeAxis) => {\n  return (\n    <div className=\"left-time-axis\">\n      {getHoursArr(min, max).map((time) => {\n        return (\n          <div key={time} className=\"time-slot\">\n            <span>{`${time}:00`}</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\ninterface ScheduleHeader {\n  headers: ScheduleBase[\"calendarHeaders\"];\n}\n\nconst tenVH = window.innerHeight / 10;\n\n/*\n  StickyHeader is used to keep the Schedule header sticky to the\n  top of the view port.\n*/\nconst ScheduleHeader = ({ headers }: ScheduleHeader) => {\n  return (\n    <StickyNode top={tenVH}>\n      <div className=\"adjacent schedule-header-row\">\n        {headers.map((header) => {\n          return (\n            <div key={header} className=\"calendar-width calendar-title\">\n              {header}\n            </div>\n          );\n        })}\n      </div>\n    </StickyNode>\n  );\n};\n","import { Box, Grid, Typography } from \"@material-ui/core\";\nimport { NewTabLink } from \"components/reuseables\";\nimport React from \"react\";\nimport { team, TeamMember } from \"utilities\";\nimport { TeamMemberProfile, TextSection } from \".\";\nimport \"./AboutPage.scss\";\n\n/* A page with information about the project\n  with references */\nexport const AboutPage = () => {\n  return (\n    <Grid container justify=\"center\">\n      <Typography align=\"left\">\n        <Box maxWidth={900} mb={3} p={4}>\n          <AboutVision />\n          <AboutTeam />\n          <AboutCode />\n          <AboutReport />\n          <AboutResources />\n        </Box>\n      </Typography>\n    </Grid>\n  );\n};\n\nconst AboutVision = () => {\n  return (\n    <TextSection\n      body={\n        <>\n          Every year, all department chairs at Calvin must develop a schedule for their department’s\n          classes based on a spreadsheet provided to them by the Registrar. The schedule must\n          contain the times, professors, and rooms for every class section in the department and the\n          schedule must satisfy the following constraints:\n          <ul>\n            <li>Only one section can be in a room at a time</li>\n            <li>A professor can only teach one section at a time</li>\n            <li>\n              Two sections taken together cannot be offered at the same time (e.g. CS 212 is often\n              taken together with MATH 251 and ENGR 220)\n            </li>\n            <li>Professors can only teach courses when they are available</li>\n            <li>Professors can only teach courses they are qualified to teach</li>\n            <li>Professors must/cannot teach consecutive classes depending on their preferences</li>\n            <li>A room’s capacity cannot be exceeded by the expected enrollment in the class</li>\n            <li>Faculty teaching loads cannot be “too high” or “too low”</li>\n          </ul>\n          These constraints make it extremely difficult for the department chair to create a\n          schedule without a tool to help them. We propose building a web application, named the\n          Course Schedulizer, that will allow department chairs to visualize and manipulate their\n          department course schedules. It will provide:\n          <ul>\n            <li>The ability to upload and export department schedules via CSV</li>\n            <li>Integration with the spreadsheets provided and required by the Registrar</li>\n            <li>Two views to visualize the schedule data (by location and by instructor)</li>\n            <li>Options to color the data by level, instructor, location, or prefix</li>\n            <li>Functionality to create, read, update, and delete class sections</li>\n            <li>A load summary for each instructor in the department</li>\n            <li>Schedule conflict detection and resolution suggestions (for honors portion)</li>\n            <li>An optimized user interface with an efficient use of screen space</li>\n            <li>An extensible interface to integrate with future systems (e.g. Workday)</li>\n          </ul>\n          By offering these features and improvements on the functionality previously implemented by\n          Professor Pruim and Professor VanderLinden, the Course Schedulizer will allow department\n          chairs to easily create their schedules.\n          <br />\n          <br />\n          For an Honors Project, Charles is completing a second project relating to constraint\n          problem satisfaction alongside the Course Schedulizer. By employing constraint\n          satisfaction techniques, Charles hopes to allow department chairs the ability to upload a\n          list of classes, professors, rooms, and times to the Course Schedulizer web application\n          and have the system create a schedule with no conflicts.\n        </>\n      }\n      title=\"Vision\"\n    />\n  );\n};\n\nconst AboutTeam = () => {\n  return (\n    <TextSection\n      body={\n        <Grid container direction=\"column\" justify=\"flex-start\" spacing={2}>\n          {team.map((member: TeamMember) => {\n            return <TeamMemberProfile key={member.name} member={member} />;\n          })}\n        </Grid>\n      }\n      title=\"Team\"\n    />\n  );\n};\n\nconst AboutCode = () => {\n  return (\n    <TextSection\n      body={\n        <>\n          This website is our code built and deployed. Feel free to play around with the site. Our\n          code repository is{\" \"}\n          <NewTabLink href=\"https://github.com/senior-knights/course-schedulizer\">\n            hosted on GitHub\n          </NewTabLink>\n          . We have two persistent branches: <code>production</code> and <code>develop</code>.{\" \"}\n          <code>production</code> is the working, stable build of the web application and{\" \"}\n          <code>develop</code> is the less-stable, bleeding-edge build of our Course Schedulizer\n          app. Please feel free to look around the code and interact with us on the discussion board\n          or by posting issues. The honors constraint satisfaction package is also{\" \"}\n          <NewTabLink href=\"https://github.com/senior-knights/aima-typescript-csp\">\n            hosted on GitHub\n          </NewTabLink>\n          . For details on the development process, please view the respective ReadMes on GitHub.\n        </>\n      }\n      title=\"Code\"\n    />\n  );\n};\n\nconst AboutReport = () => {\n  return (\n    <TextSection\n      body={\n        <ul>\n          <li>\n            <NewTabLink href=\"https://docs.google.com/document/d/e/2PACX-1vQPQ1Qhu0jCVThVbNsUFxV8fB56fHgVf4Dnhfkf6EU_7627iMVuSHntW8VxF0j0Aw/pub\">\n              Updated Proposal\n            </NewTabLink>{\" \"}\n            - 12.15.2020\n          </li>\n          <li>\n            <NewTabLink href=\"https://docs.google.com/document/d/e/2PACX-1vQTy2A83LmPKrZhQ5_LCN6a3ow4UHxknIq4OjgimPU-Brfyl6fAhb9aQmxjNvg5tA/pub\">\n              Original Proposal\n            </NewTabLink>{\" \"}\n            - 10.15.2020\n          </li>\n        </ul>\n      }\n      title=\"Report\"\n    />\n  );\n};\n\nconst AboutResources = () => {\n  return (\n    <TextSection\n      body={\n        <ul>\n          <li>\n            <NewTabLink href=\"https://computing.calvin.edu/\">\n              Computing@Calvin Department Website\n            </NewTabLink>\n          </li>\n          <li>\n            <NewTabLink href=\"https://web.microsoftstream.com/video/cee6b774-a010-4220-a0d8-c6a6c5240d84?st=2456\">\n              Status Report 1\n            </NewTabLink>{\" \"}\n            - 12.01.2020\n          </li>\n          <li>\n            <NewTabLink href=\"https://docs.google.com/document/d/e/2PACX-1vS8sc8-Vs1qkfyGpelPXsuwvSQif3IFlnsZNoak3P7DbBmSYxWDgXL2ig-OJk8VJVHny2lCUZxCyCfJ/pub\">\n              Honors Status Report 1\n            </NewTabLink>{\" \"}\n            - 12.01.2020\n          </li>\n          <li>\n            <NewTabLink href=\"https://docs.google.com/presentation/d/e/2PACX-1vQrjMY5c-gnlvX5AAD1zIqRY0P5BLppQFT5y-3fxeR0TzuEvzUpDADYUGY_3J4TBe1PL3sq9rEqUdRA/pub?start=false&loop=false&delayms=3000\">\n              Presentation 1\n            </NewTabLink>{\" \"}\n            - 12.01.2020\n          </li>\n        </ul>\n      }\n      title=\"Resources\"\n    />\n  );\n};\n","import { Grid } from \"@material-ui/core\";\nimport { Spring3DHover } from \"components\";\nimport React from \"react\";\nimport { TeamMember } from \"utilities\";\n\ninterface TeamMemberProfile {\n  member: TeamMember;\n}\n\n/* Display information about the Team Member */\nexport const TeamMemberProfile = ({ member }: TeamMemberProfile) => {\n  const { name, bio } = member;\n\n  return (\n    <Grid alignItems=\"center\" container item>\n      <Grid alignItems=\"center\" container direction=\"column\" item xs={4}>\n        <Spring3DHover member={member} />\n        <h3>{name}</h3>\n      </Grid>\n      <Grid container item xs={8}>\n        {bio}\n      </Grid>\n    </Grid>\n  );\n};\n","import { Box } from \"@material-ui/core\";\nimport { AnimateShowAndHide } from \"components\";\nimport React, { ReactNode } from \"react\";\n\ninterface TextSection {\n  body?: ReactNode;\n  title?: ReactNode;\n}\n\n/* Display a header with content. Used on About Page */\nexport const TextSection = ({ title, body }: TextSection) => {\n  return (\n    <Box mb={9} mt={3}>\n      <AnimateShowAndHide>{title}</AnimateShowAndHide>\n      <>{body}</>\n    </Box>\n  );\n};\n\nTextSection.defaultProps = {\n  body: undefined,\n  title: undefined,\n};\n","import { FieldArrayForm } from \"components\";\nimport React from \"react\";\n// import { Harmony } from \"./Harmony\";\n\n/**\n * The page contains all of the Harmoniously user-experience.\n *   Allows the user to load professor, courses, rooms, and times from\n *   the uploaded schedule as well as edit them and create assignments (constraints).\n * Harmony will find schedules with no conflicts and allow the user to send it back\n *   to the Schedulizer to make edits.\n */\nexport const HarmonyPage = () => {\n  return (\n    <>\n      <h2>\n        Note: This page is in a <i>pre-alpha</i> state. Output might not be perfect.\n      </h2>\n      <FieldArrayForm defaultValue={{ First: \"\", Last: \"\" }} fieldsName=\"professors\" />\n      <FieldArrayForm defaultValue={{ Course: \"\" }} fieldsName=\"courses\" />\n      <FieldArrayForm defaultValue={{ Room: \"\" }} fieldsName=\"rooms\" />\n      <FieldArrayForm defaultValue={{ Time: \"\" }} fieldsName=\"times\" />\n      {/* TODO: remove this for now */}\n      {/* <Harmony /> */}\n    </>\n  );\n};\n","import React from \"react\";\n\nexport const HelpPage = () => {\n  return <>Help</>;\n};\n","import { useContext } from \"react\";\nimport { csvStringToSchedule, getCSVFromXLSXData, updateScheduleInContext } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\nexport const useImportRemoteFile = () => {\n  const {\n    appState: { schedule, fileUrl },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  // Load a file from the GET parameters (either ?csv= or ?xlsx=)\n  // only do this once for each page refresh, then redirect to the page without the GET params\n  // this will erase existing work!\n  // Ref: https://stackoverflow.com/questions/56663785/invalid-hook-call-hooks-can-only-be-called-inside-of-the-body-of-a-function-com\n  // Ref: https://www.gitmemory.com/issue/SheetJS/js-xlsx/1110/531003740\n  const importRemoteFile = () => {\n    // eslint-disable-next-line no-restricted-globals\n    const url = location.href;\n    // TODO: We'll need to be more careful about this if we end up using more GET params\n    const getCSVStr = \"?csv=\";\n    const getXLSXStr = \"?xlsx=\";\n    const csvIndex = url.indexOf(getCSVStr);\n    const xlsxIndex = url.indexOf(getXLSXStr);\n    if (csvIndex !== -1) {\n      const csvUrl = url.slice(csvIndex + getCSVStr.length);\n      if (csvUrl !== \"\" && csvUrl !== fileUrl) {\n        setIsCSVLoading(true);\n        fetch(csvUrl)\n          .then((response) => {\n            if (response.status === 404) {\n              return null;\n            }\n            return response.text();\n          })\n          .then(async (result) => {\n            await appDispatch({ payload: { fileUrl: csvUrl }, type: \"setFileUrl\" });\n            if (result) {\n              const newSchedule = csvStringToSchedule(result);\n              await updateScheduleInContext(schedule, newSchedule, appDispatch, setIsCSVLoading);\n              clearSearchParams();\n            } else {\n              setIsCSVLoading(false);\n              clearSearchParams();\n            }\n          });\n      } else {\n        clearSearchParams();\n      }\n    } else if (xlsxIndex !== -1) {\n      const xlsxUrl = url.slice(xlsxIndex + getXLSXStr.length);\n      if (xlsxUrl !== \"\" && xlsxUrl !== fileUrl) {\n        setIsCSVLoading(true);\n        fetch(xlsxUrl)\n          .then((response) => {\n            if (response.status === 404) {\n              return null;\n            }\n            return response.arrayBuffer();\n          })\n          .then(async (result) => {\n            await appDispatch({ payload: { fileUrl: xlsxUrl }, type: \"setFileUrl\" });\n            if (result) {\n              const newSchedule = csvStringToSchedule(\n                getCSVFromXLSXData(result as ArrayBufferLike),\n              );\n              await updateScheduleInContext(schedule, newSchedule, appDispatch, setIsCSVLoading);\n              clearSearchParams();\n            } else {\n              setIsCSVLoading(false);\n              clearSearchParams();\n            }\n          });\n      } else {\n        clearSearchParams();\n      }\n    }\n  };\n\n  return { importRemoteFile };\n};\n\nconst clearSearchParams = () => {\n  // eslint-disable-next-line no-restricted-globals\n  location.href = \"\";\n};\n","import { Tabs } from \"components\";\nimport React, { useEffect } from \"react\";\nimport { useImportRemoteFile } from \"utilities/hooks/importRemoteFileHook\";\n\nexport const SchedulizerPage = () => {\n  // Load a remote file from the GET parameters\n  const { importRemoteFile } = useImportRemoteFile();\n  useEffect(importRemoteFile);\n\n  return (\n    <>\n      <Tabs />\n    </>\n  );\n};\n","import { Footer, Header } from \"components\";\nimport { AboutPage, HarmonyPage, HelpPage, SchedulizerPage } from \"components/pages\";\nimport React, { useReducer, useState } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { reducer, useLocal } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport { initialAppState } from \"utilities/interfaces\";\nimport \"./App.scss\";\n\n/* App with a HashRouter.\nRef: https://medium.com/@bennirus/deploying-a-create-react-app-with-routing-to-github-pages-f386b6ce84c2\n*/\nexport const App = () => {\n  const [isCSVLoading, setIsCSVLoading] = useState(false);\n  const { save } = useLocal(\"appState\");\n  const [appState, appDispatch] = useReducer(reducer(save), initialAppState);\n\n  return (\n    <div className=\"App\">\n      <HashRouter basename=\"/\">\n        <Header />\n        <AppContext.Provider value={{ appDispatch, appState, isCSVLoading, setIsCSVLoading }}>\n          <div className=\"content-container\">\n            <Switch>\n              <Route path=\"/about\">\n                <AboutPage />\n              </Route>\n              <Route path=\"/help\">\n                <HelpPage />\n              </Route>\n              <Route path=\"/harmony\">\n                <HarmonyPage />\n              </Route>\n              <Route path=\"/\">\n                <SchedulizerPage />\n              </Route>\n            </Switch>\n          </div>\n        </AppContext.Provider>\n        <Footer />\n      </HashRouter>\n    </div>\n  );\n};\n","import { AppBar, Box, Grid } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport \"./Footer.scss\";\n\n/* Provides a footer that is always at the bottom of the page: no matter what.\n    Always provides the proper year. To get this working correctly, CSS-Tricks\n    was referenced for the flex-box version.\n  Ref: https://css-tricks.com/couple-takes-sticky-footer/#there-is-flexbox\n*/\nexport const Footer = () => {\n  return (\n    <AppBar className=\"app-footer\" elevation={0} position=\"static\">\n      <Grid container justify=\"flex-start\">\n        <Box p={2}>© {moment().year()} Senior Knights</Box>\n      </Grid>\n    </AppBar>\n  );\n};\n","import CalvinLogo from \"./CalvinUniv-vert-full-color-inverse.png\";\n\nexport const logo = CalvinLogo;\n","import { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport Link from \"@material-ui/core/Link\";\nimport { logo } from \"assets\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport \"./Header.scss\";\n\n/* Header is the top bar that persists across the app */\nexport const Header = () => {\n  return (\n    <AppBar elevation={0} position=\"static\">\n      <Toolbar className=\"toolbar\">\n        <RouterLink className=\"toolbar-group title\" to=\"/\">\n          <img alt=\"Org Logo\" className=\"org-logo\" src={logo} />\n          <Typography variant=\"h6\">Course Schedulizer</Typography>\n        </RouterLink>\n        <Typography className=\"toolbar-group links\">\n          <Link component={RouterLink} to=\"/\">\n            Schedulizer\n          </Link>\n          <Link component={RouterLink} to=\"/harmony\">\n            Harmony\n          </Link>\n          <Link component={RouterLink} to=\"/about\">\n            About\n          </Link>\n          <Link component={RouterLink} to=\"/help\">\n            Help\n          </Link>\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","/* eslint-disable react/jsx-key */\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { UpdateNonTeachingLoadModalPagination, UpdateSectionModalPagination } from \"components\";\nimport React, { useContext, useMemo, useRef } from \"react\";\nimport { Cell, Column, useTable } from \"react-table\";\nimport {\n  createTable,\n  FacultyRow,\n  getCourseSectionMeetingFromCell,\n  getNonTeachingLoadsFromCell,\n  UpdateModalPaginationRef,\n} from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport { AddNonTeachingLoadPopover, PopoverButton } from \"../../reuseables\";\nimport \"./FacultyLoads.scss\";\n\nexport const FacultyLoads = () => {\n  const {\n    appState: { schedule },\n  } = useContext(AppContext);\n\n  const data = useMemo<FacultyRow[]>(() => {\n    return createTable(schedule);\n  }, [schedule]);\n\n  const updateSectionModalRef = useRef<UpdateModalPaginationRef>(null);\n  const updateNonTeachingLoadModalRef = useRef<UpdateModalPaginationRef>(null);\n\n  const handleCellClick = (cell: Cell<FacultyRow>) => {\n    if (typeof cell.value === \"string\") {\n      const cellHeader = cell.column.Header as string;\n      const isNonTeachingLoad = cellHeader === \"Other Duties\";\n      const cellData = isNonTeachingLoad\n        ? getNonTeachingLoadsFromCell(schedule, cell.value, cell.row.values.faculty)\n        : getCourseSectionMeetingFromCell(schedule, cell.value, cellHeader);\n      if (cellData.csm) {\n        if (isNonTeachingLoad && updateNonTeachingLoadModalRef.current) {\n          updateNonTeachingLoadModalRef.current.handleModalOpen(cellData);\n        } else if (!isNonTeachingLoad && updateSectionModalRef.current) {\n          updateSectionModalRef.current.handleModalOpen(cellData);\n        }\n      }\n    }\n  };\n\n  const columns = useMemo<Column<FacultyRow>[]>(() => {\n    return [\n      { Header: \"Faculty\", accessor: \"faculty\" },\n      { Header: \"Total Hours\", accessor: \"totalHours\" },\n      { Header: \"Fall Course Sections\", accessor: \"fallCourseSections\" },\n      { Header: \"Fall Hours\", accessor: \"fallHours\" },\n      { Header: \"Spring Course Sections\", accessor: \"springCourseSections\" },\n      { Header: \"Spring Hours\", accessor: \"springHours\" },\n      { Header: \"Summer Course Sections\", accessor: \"summerCourseSections\" },\n      { Header: \"Summer Hours\", accessor: \"summerHours\" },\n      { Header: \"Other Duties\", accessor: \"otherDuties\" },\n      { Header: \"Other Hours\", accessor: \"otherHours\" },\n    ];\n  }, []);\n\n  const tableInstance = useTable({ columns, data });\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } = tableInstance;\n\n  // https://react-table.tanstack.com/docs/quick-start\n  return (\n    <>\n      <UpdateSectionModalPagination ref={updateSectionModalRef} />\n      <UpdateNonTeachingLoadModalPagination ref={updateNonTeachingLoadModalRef} />\n      <TableContainer component={Paper}>\n        <div className=\"add-non-teaching-activity-button\">\n          <PopoverButton\n            buttonTitle=\"Add Non-Teaching Activity\"\n            isIcon={false}\n            popupId=\"addNonTeachingActivity\"\n          >\n            <AddNonTeachingLoadPopover />\n          </PopoverButton>\n        </div>\n        <Table {...getTableProps()}>\n          <TableHead>\n            {\n              // Loop over the header rows\n              headerGroups.map((headerGroup) => {\n                return (\n                  // Apply the header row props\n                  <TableRow {...headerGroup.getHeaderGroupProps()}>\n                    {\n                      // Loop over the headers in each row\n                      headerGroup.headers.map((column) => {\n                        return (\n                          // Apply the header cell props\n                          <TableCell {...column.getHeaderProps()}>\n                            {\n                              // Render the header\n                              column.render(\"Header\")\n                            }\n                          </TableCell>\n                        );\n                      })\n                    }\n                  </TableRow>\n                );\n              })\n            }\n          </TableHead>\n          {/* Apply the table body props */}\n          <TableBody {...getTableBodyProps()}>\n            {\n              // Loop over the table rows\n              rows.map((row) => {\n                // Prepare the row for display\n                prepareRow(row);\n                return (\n                  // Apply the row props\n                  <TableRow {...row.getRowProps()}>\n                    {\n                      // Loop over the rows cells\n                      row.cells.map((cell) => {\n                        // Apply the cell props\n                        const cellClass =\n                          cell.value &&\n                          cell\n                            .getCellProps()\n                            .key.toString()\n                            .match(/(CourseSections)|(otherDuties)/g)\n                            ? \"change-cursor\"\n                            : \"\";\n                        return (\n                          <TableCell\n                            className={cellClass}\n                            {...cell.getCellProps()}\n                            onClick={() => {\n                              handleCellClick(cell);\n                            }}\n                          >\n                            {\n                              // Render the cell contents\n                              cell.render(\"Cell\")\n                            }\n                          </TableCell>\n                        );\n                      })\n                    }\n                  </TableRow>\n                );\n              })\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n};\n","import { ModalPagination } from \"components\";\nimport { AddNonTeachingLoadPopover } from \"components/reuseables\";\nimport React, { forwardRef, Ref } from \"react\";\nimport { findNonTeachingLoad, UpdateModalPaginationRef } from \"utilities\";\nimport \"./UpdateNonTeachingLoadModalPagination.scss\";\n\n/**\n * Creates a popup modal used on the FacultyLoads page to find\n *   non-teaching loads and allow the user to page through and edit them\n *   on a modal.\n */\nexport const UpdateNonTeachingLoadModalPagination = forwardRef(\n  (props, ref: Ref<UpdateModalPaginationRef>) => {\n    return (\n      <ModalPagination\n        ref={ref}\n        findCourseSectionMeeting={findNonTeachingLoad}\n        PopoverComponent={AddNonTeachingLoadPopover}\n      />\n    );\n  },\n);\n\nUpdateNonTeachingLoadModalPagination.displayName = \"UpdateNonTeachingLoadModalPagination\";\n","import { AddSectionPopover, ModalPagination } from \"components\";\nimport React, { forwardRef, Ref } from \"react\";\nimport { FindCourseSectionMeetingFunction, findSection, UpdateModalPaginationRef } from \"utilities\";\nimport \"./UpdateSectionModalPagination.scss\";\n\n/**\n * Creates a popup modal used on the FacultyLoads page to find\n *   courses and allow the user to page through and edit them\n *   on a modal.\n */\nexport const UpdateSectionModalPagination = forwardRef(\n  (props, ref: Ref<UpdateModalPaginationRef>) => {\n    return (\n      <ModalPagination\n        ref={ref}\n        findCourseSectionMeeting={findSection as FindCourseSectionMeetingFunction}\n        PopoverComponent={AddSectionPopover}\n      />\n    );\n  },\n);\n\nUpdateSectionModalPagination.displayName = \"UpdateSectionModalPagination\";\n","import { Schedule } from \"components\";\nimport React, { useContext } from \"react\";\nimport { getEvents } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport \"./FacultySchedule.scss\";\n\n/* Creates a list of Calendars to create the Faculty Schedule\n */\nexport const FacultySchedule = () => {\n  const {\n    appState: { professors, schedule },\n  } = useContext(AppContext);\n\n  return (\n    <>\n      <Schedule calendarHeaders={professors} groupedEvents={getEvents(schedule, \"faculty\")} />\n    </>\n  );\n};\n","import { Schedule } from \"components\";\nimport React, { useContext } from \"react\";\nimport { getEvents } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\nexport const RoomsSchedule = () => {\n  const {\n    appState: { schedule, rooms },\n  } = useContext(AppContext);\n\n  return (\n    <>\n      <Schedule calendarHeaders={rooms} groupedEvents={getEvents(schedule, \"room\")} />\n    </>\n  );\n};\n","import { IconButton, Menu, MenuItem } from \"@material-ui/core\";\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\nimport { ImportInputWrapper } from \"components\";\nimport { bindMenu, bindTrigger, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React from \"react\";\nimport { useExportCSV, useExportFullCSV } from \"utilities\";\nimport \"./CSVActions.scss\";\n\n/* Hamburger with options for the CSV */\nexport const CSVActions = () => {\n  const popupState = usePopupState({ popupId: \"menu\", variant: \"popover\" });\n  const onExportClick = useExportCSV();\n  const onFullExportClick = useExportFullCSV();\n\n  return (\n    <>\n      <IconButton color=\"inherit\" edge=\"start\" {...bindTrigger(popupState)}>\n        <MenuIcon />\n      </IconButton>\n      <Menu // Anchoring from: https://codesandbox.io/s/3rmgv?file=/demo.js:603-812\n        anchorOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n        getContentAnchorEl={null}\n        transformOrigin={{\n          horizontal: \"left\",\n          vertical: \"top\",\n        }}\n        {...bindMenu(popupState)}\n      >\n        <ImportInputWrapper>\n          <MenuItem button className=\"MuiButton-textPrimary\">\n            IMPORT SCHEDULE\n          </MenuItem>\n        </ImportInputWrapper>\n        <MenuItem button className=\"MuiButton-textSecondary\" onClick={onExportClick}>\n          EXPORT FINAL CSV\n        </MenuItem>\n        <MenuItem button className=\"MuiButton-textSecondary\" onClick={onFullExportClick}>\n          EXPORT DRAFT CSV\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n","import { Button, ButtonProps } from \"@material-ui/core\";\nimport { ImportInputWrapper } from \"components\";\nimport React from \"react\";\nimport \"../CSVActions.scss\";\n\n/* An import button that is stylable using the Mat UI props. */\nexport const ImportButton = (btnProps: ButtonProps) => {\n  return (\n    <ImportInputWrapper>\n      <Button color=\"primary\" component=\"span\" {...btnProps}>\n        Import Schedule\n      </Button>\n    </ImportInputWrapper>\n  );\n};\n","import { Box } from \"@material-ui/core\";\nimport { AddSectionButton, ImportButton } from \"components\";\nimport React from \"react\";\nimport \"./NoCoursesHeader.scss\";\n\n/* Display information when schedule has no courses. */\nexport const NoCoursesHeader = () => {\n  return (\n    <>\n      <h2>No schedule data.</h2>\n      <p>\n        Please import a CSV of an existing schedule or start building the schedule from scratch by\n        adding your first section.\n      </p>\n      <Box component=\"span\" marginRight={1}>\n        <ImportButton variant=\"contained\" />\n      </Box>\n      <AddSectionButton isIcon={false} />\n    </>\n  );\n};\n","import { Box, Typography } from \"@material-ui/core\";\nimport React, { PropsWithChildren } from \"react\";\n\ninterface TabPanelProps {\n  index: number;\n  value: number;\n}\n\n/* TabPanel displays the content of a selected tab */\nexport const TabPanel = (props: PropsWithChildren<TabPanelProps>) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      aria-labelledby={`simple-tab-${index}`}\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      role=\"tabpanel\"\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography component=\"div\">{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import { Container, Tab, Tabs as MUITabs } from \"@material-ui/core\";\nimport { AsyncComponent } from \"components\";\nimport { FacultyLoads, FacultySchedule, RoomsSchedule } from \"components/Tabs\";\nimport React, { ChangeEvent, useContext, useState } from \"react\";\nimport { AppContext } from \"utilities/contexts\";\nimport { CSVActions, NoCoursesHeader, TabPanel } from \"./tabComponents\";\nimport \"./Tabs.scss\";\n\n/* A navigator between the different features of the app */\nexport const Tabs = () => {\n  const {\n    appState: { schedule, schedulizerTab },\n    isCSVLoading,\n    appDispatch,\n  } = useContext(AppContext);\n  const [tabValue, setTabValue] = useState(schedulizerTab || 0);\n\n  const handleTabChange = (event: ChangeEvent<{}>, newValue: number) => {\n    setTabValue(newValue);\n    appDispatch({ payload: { schedulizerTab: newValue }, type: \"setSchedulizerTab\" });\n  };\n\n  const scheduleHasCourses = schedule.courses.length > 0;\n\n  return (\n    <AsyncComponent isLoading={isCSVLoading}>\n      <AsyncComponent.Loading>Parsing CSV...</AsyncComponent.Loading>\n      <AsyncComponent.Loaded>\n        {scheduleHasCourses ? (\n          <>\n            <Container className=\"schedulizer-header\" maxWidth={false}>\n              <CSVActions />\n\n              <MUITabs\n                centered\n                indicatorColor=\"primary\"\n                onChange={handleTabChange}\n                textColor=\"primary\"\n                value={tabValue}\n              >\n                <Tab label=\"Faculty Schedule\" />\n                <Tab label=\"Room Schedule\" />\n                <Tab label=\"Teaching Loads\" />\n                <Tab label=\"Conflicts\" />\n              </MUITabs>\n              <span>{/* Empty */}</span>\n            </Container>\n            <TabPanel index={0} value={tabValue}>\n              <FacultySchedule />\n            </TabPanel>\n            <TabPanel index={1} value={tabValue}>\n              <RoomsSchedule />\n            </TabPanel>\n            <TabPanel index={2} value={tabValue}>\n              <FacultyLoads />\n            </TabPanel>\n            <TabPanel index={3} value={tabValue}>\n              Item Four\n            </TabPanel>\n          </>\n        ) : (\n          <NoCoursesHeader />\n        )}\n      </AsyncComponent.Loaded>\n    </AsyncComponent>\n  );\n};\n","import { InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport React, { ChangeEvent, useContext } from \"react\";\nimport { AppContext } from \"utilities/contexts\";\nimport { ColorBy } from \"utilities/interfaces\";\nimport \"./ColorSelector.scss\";\n\nexport const ColorSelector = () => {\n  const {\n    appState: { colorBy },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  const handleColorChange = (event: ChangeEvent<{ value: unknown }>) => {\n    setIsCSVLoading(true);\n    const selectedColorBy = event.target.value as ColorBy;\n    appDispatch({ payload: { colorBy: selectedColorBy }, type: \"setColorBy\" });\n    setIsCSVLoading(false);\n  };\n\n  return (\n    <div>\n      <InputLabel id=\"label\">Color By</InputLabel>\n      <Select id=\"color-select\" onChange={handleColorChange} value={colorBy}>\n        <MenuItem value={ColorBy.Level}>Level</MenuItem>\n        <MenuItem value={ColorBy.Room}>Room</MenuItem>\n        <MenuItem value={ColorBy.Instructor}>Instructor</MenuItem>\n        <MenuItem value={ColorBy.Prefix}>Prefix</MenuItem>\n      </Select>\n    </div>\n  );\n};\n","import { AddSectionButton, ColorSelector, Searchbar, SemesterSelector } from \"components\";\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"utilities/contexts\";\nimport \"./ScheduleToolbar.scss\";\n\nexport const ScheduleToolbar = () => {\n  const {\n    appState: { fileUrl },\n  } = useContext(AppContext);\n\n  return (\n    <div className=\"schedule-toolbar\">\n      <div className=\"toolbar-left\">\n        <Searchbar />\n        <ColorSelector />\n      </div>\n      <div>{fileUrl ? `Imported URL: ${fileUrl}` : \"\"}</div>\n      <div className=\"toolbar-right\">\n        <SemesterSelector />\n        <AddSectionButton />\n      </div>\n    </div>\n  );\n};\n","import { TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport React from \"react\";\nimport \"./Searchbar.scss\";\n\nexport const Searchbar = () => {\n  return (\n    <Autocomplete\n      className=\"searchbar\"\n      getOptionLabel={(option) => {\n        return `${option.name}-${option.section}`;\n      }}\n      id=\"combo-box-demo\"\n      options={classes}\n      renderInput={(params) => {\n        return <TextField {...params} label=\"Search\" variant=\"outlined\" />;\n      }}\n    />\n  );\n};\n\nconst classes = [\n  { instructor: \"Victor T. Norman\", name: \"CS-108\", section: \"A\" },\n  { instructor: \"Victor T. Norman\", name: \"CS-108\", section: \"B\" },\n  { instructor: \"Joel Adams\", name: \"CS-112\", section: \"A\" },\n];\n","import { IconButton, Typography } from \"@material-ui/core\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport React, { useContext } from \"react\";\nimport { enumArray, Term } from \"utilities\";\nimport { AppContext, ScheduleContext } from \"utilities/contexts\";\nimport \"./SemesterSelector.scss\";\n\nexport const SemesterSelector = () => {\n  const terms: Term[] = enumArray(Term);\n  const {\n    appState: { selectedTerm },\n    appDispatch,\n  } = useContext(AppContext);\n  const { setIsScheduleLoading } = useContext(ScheduleContext);\n\n  const handleOnClick = (index: number) => {\n    return async () => {\n      setIsScheduleLoading(true);\n      const newTerm = terms[index];\n      // This action takes so long it affectively makes this\n      //  synchronous function asynchronous.\n      await appDispatch({\n        payload: { selectedTerm: newTerm },\n        type: \"setSelectedTerm\",\n      });\n      setIsScheduleLoading(false);\n    };\n  };\n\n  return (\n    <div className=\"semester-selector\">\n      <IconButton\n        disabled={selectedTerm === terms[0]}\n        onClick={handleOnClick(terms.indexOf(selectedTerm) - 1)}\n      >\n        <ChevronLeft />\n      </IconButton>\n      <Typography variant=\"h6\">{selectedTerm}</Typography>\n      <IconButton\n        disabled={selectedTerm === terms[terms.length - 1]}\n        onClick={handleOnClick(terms.indexOf(selectedTerm) + 1)}\n      >\n        <ChevronRight />\n      </IconButton>\n    </div>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { App } from \"components\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"serviceWorker\";\nimport \"styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export * from \"./appInterfaces\";\nexport * from \"./dataInterfaces\";\nexport * from \"./fieldArrayTypes\";\nexport * from \"./popover\";\n","import { cloneDeep, forEach } from \"lodash\";\nimport moment from \"moment\";\nimport { emptyMeeting } from \"utilities/constants\";\nimport { Course, Day, Meeting, Section, SemesterLength, Term } from \"utilities/interfaces\";\n\nexport interface CaseCallbackParams {\n  course: Course;\n  meetings: Meeting[];\n  section: Section;\n}\n\nexport const MIN_HALF_LENGTH = 35;\nexport const MAX_HALF_LENGTH = 80;\nconst SEPARATORS = [\",\", \";\", \"\\n\"];\n\n// Define regexes for parsing\n// const timeReg = RegExp(\"(?<![1-9])(1[0-9]|2[0-3]|[0-9]):([0-5][0-9])\");\n// const amReg = RegExp(\"[Aa][Mm]\");\n// const pmReg = RegExp(\"[Pp][Mm]\");\nconst fallReg = RegExp(\"[Ff]\");\nconst summerReg = RegExp(\"[Ss][Uu]|[Mm][Aa]\");\nconst springReg = RegExp(\"[Ss](?![Uu])\");\n// \"W\" represents interim in Pruim's system it seems\nconst interimReg = RegExp(\"[Ii]|[Ww]\");\nconst sunReg = RegExp(\"[Ss][Uu]|[Nn]\");\nconst monReg = RegExp(\"[Mm]\");\nconst tuesReg = RegExp(\"[Tt](?![Hh])\");\nconst wedReg = RegExp(\"[Ww]\");\nconst thursReg = RegExp(\"[Tt][Hh]|[Rr]\");\nconst friReg = RegExp(\"[Ff]\");\nconst satReg = RegExp(\"[Ss](?![Uu])\");\n\nconst createMeetings = (value: string, { meetings }: CaseCallbackParams): string[] => {\n  const valueParts = value.split(\"\\n\");\n  valueParts.forEach((_, i) => {\n    if (meetings.length <= i) {\n      // If there aren't enough meetings, create a new one\n      meetings.push(cloneDeep(emptyMeeting));\n    }\n  });\n  return valueParts;\n};\n\nconst assignWithMeetings = (\n  value: string,\n  params: CaseCallbackParams,\n  arrAssign: (value: string, i: number, arr: Meeting[]) => void,\n) => {\n  const valueParts = createMeetings(value, params);\n  const { meetings } = params;\n  valueParts.forEach((v, i) => {\n    arrAssign(v, i, meetings);\n  });\n};\n\nexport const startTimeCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (startTime, i, meetings) => {\n    meetings[i].startTime = startTimeCase(startTime);\n  });\n};\n\nexport const locationCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (location, i, meetings) => {\n    [meetings[i].location.building, meetings[i].location.roomNumber] = locationCase(location);\n  });\n};\n\nexport const termCallback = (value: string, { section }: CaseCallbackParams) => {\n  let separator = \",\";\n  if (\n    SEPARATORS.some((s) => {\n      separator = s;\n      return value.includes(s);\n    })\n  ) {\n    const terms = value.split(separator);\n    const termsArr: Term[] = [];\n    forEach(terms, (term) => {\n      termsArr.push(termCase(term));\n    });\n    section.term = termsArr;\n  } else {\n    section.term = termCase(value);\n  }\n};\n\nexport const semesterLengthCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.semesterLength = semesterLengthCase(value);\n};\n\nexport const daysCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (days, i, meetings) => {\n    meetings[i].days = daysCase(days);\n  });\n};\n\nexport const instructorCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.instructors = instructorCase(value);\n};\n\nexport const prefixCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.prefixes = prefixCase(value);\n};\n\nexport const nameCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.name = value;\n};\n\nexport const numberCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.number = value;\n};\n\nexport const letterCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.letter = value;\n};\n\nexport const globalMaxCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.globalMax = integerDefaultZeroCase(value);\n};\n\nexport const localMaxCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.localMax = integerDefaultZeroCase(value);\n};\n\nexport const anticipatedSizeCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.anticipatedSize = integerDefaultZeroCase(value);\n};\n\nexport const commentsCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.comments = value;\n};\n\nexport const yearCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.year = yearCase(value);\n};\n\nexport const studentHoursCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.studentHours = value.startsWith(\"$\")\n    ? integerDefaultZeroCase(value.substr(1))\n    : integerDefaultZeroCase(value);\n};\n\nexport const facultyHoursCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.facultyHours = value.startsWith(\"$\") ? Number(value.substr(1)) : Number(value);\n};\n\nexport const durationCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (duration, i, meetings) => {\n    meetings[i].duration = durationCase(duration);\n  });\n};\n\nexport const roomCapacityCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (capacity, i, meetings) => {\n    meetings[i].location.roomCapacity = integerDefaultZeroCase(capacity);\n  });\n};\n\nexport const departmentCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.department = value;\n};\n\nexport const termStartCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.termStart = value;\n};\n\nexport const usedCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.used = integerDefaultZeroCase(value);\n};\n\nexport const day10UsedCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.day10Used = integerDefaultZeroCase(value);\n};\n\nexport const startDateCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.startDate = value;\n};\n\nexport const endDateCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.endDate = value;\n  section.semesterLength = endDateCase(value, section.startDate);\n};\n\nexport const statusCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.status = value;\n};\n\nexport const instructionalMethodCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.instructionalMethod = value;\n};\n\nexport const sectionCallback = (value: string, params: CaseCallbackParams) => {\n  if (value === \"--\" || value.trim() === \"\") {\n    params.section.isNonTeaching = true;\n  } else {\n    const sectionParts = value.split(\"-\");\n    prefixCallback(sectionParts[0], params);\n    numberCallback(sectionParts[1], params);\n    letterCallback(sectionParts[2], params);\n  }\n};\n\nexport const timeCallback = (value: string, params: CaseCallbackParams) => {\n  const [startTime] = value.split(\" \").join(\"\").split(\"-\");\n  startTimeCallback(startTime, params);\n  durationCallback(value, params);\n};\n\nexport const nonTeachingActivityCallback = (value: string, params: CaseCallbackParams) => {\n  params.section.isNonTeaching = true;\n  instructionalMethodCallback(value, params);\n};\n\nexport const startTimeCase = (value: string): string => {\n  const startMoment = moment(value, \"h:mm A\");\n  return startMoment.isValid() ? startMoment.format(\"h:mm A\") : \"\";\n};\n\nexport const locationCase = (value: string): string[] => {\n  const roomParts = value.trim().split(\" \");\n  if (roomParts.length === 1) {\n    // No room number given\n    return [roomParts[0], \"\"];\n  }\n  if (roomParts.length === 2) {\n    // Building and room number given\n    return roomParts;\n  }\n  // Too many room parts given, assume last part is room number and rest is building\n  return [roomParts.slice(0, -1).join(\" \"), roomParts.slice(-1)[0]];\n};\n\nexport const termCase = (value: string): Term => {\n  if (fallReg.test(value)) {\n    return Term.Fall;\n  }\n  if (summerReg.test(value)) {\n    return Term.Summer;\n  }\n  if (springReg.test(value)) {\n    return Term.Spring;\n  }\n  if (interimReg.test(value)) {\n    return Term.Interim;\n  }\n  // eslint-disable-next-line no-console\n  console.log(`Term of \"${value}\" is unreadable, defaulting to Fall`);\n  return Term.Fall;\n};\n\nexport const semesterLengthCase = (value: string): SemesterLength => {\n  const upperValue = value.toUpperCase();\n  const lowerValue = value.toLowerCase();\n  if (lowerValue === \"first\") {\n    return SemesterLength.HalfFirst;\n  }\n  if (lowerValue === \"second\") {\n    return SemesterLength.HalfSecond;\n  }\n  if (lowerValue === \"full\") {\n    return SemesterLength.Full;\n  }\n  if (upperValue === \"A\") {\n    return SemesterLength.IntensiveA;\n  }\n  if (upperValue === \"B\") {\n    return SemesterLength.IntensiveB;\n  }\n  if (upperValue === \"C\") {\n    return SemesterLength.IntensiveC;\n  }\n  if (upperValue === \"D\") {\n    return SemesterLength.IntensiveD;\n  }\n  // eslint-disable-next-line no-console\n  console.log(`Half of \"${value}\" is unreadable, defaulting to Full`);\n  return SemesterLength.Full;\n};\n\nexport const daysCase = (value: string) => {\n  const days: Day[] = [];\n  if (sunReg.test(value)) {\n    days.push(Day.Sunday);\n  }\n  if (monReg.test(value)) {\n    days.push(Day.Monday);\n  }\n  if (tuesReg.test(value)) {\n    days.push(Day.Tuesday);\n  }\n  if (wedReg.test(value)) {\n    days.push(Day.Wednesday);\n  }\n  if (thursReg.test(value)) {\n    days.push(Day.Thursday);\n  }\n  if (friReg.test(value)) {\n    days.push(Day.Friday);\n  }\n  if (satReg.test(value)) {\n    days.push(Day.Saturday);\n  }\n  return days;\n};\n\nexport const instructorCase = (value: string): string[] => {\n  const instructors = value.split(/[;,\\n]/);\n  return instructors.map((instructor) => {\n    return instructor.trim();\n  });\n};\n\nexport const endDateCase = (\n  value: string,\n  startSectionDate: string | undefined,\n): SemesterLength => {\n  const sectionStart = moment(startSectionDate, \"l\");\n  const sectionEnd = moment(value, \"l\");\n  const sectionLength = sectionEnd.diff(sectionStart, \"days\");\n  const startMonth = sectionStart.month();\n  const firstStartMonths = [0, 1, 7, 8]; // Jan, Feb, Aug, Sept\n  if (sectionLength > MAX_HALF_LENGTH) {\n    return SemesterLength.Full;\n  }\n  if (sectionLength > MIN_HALF_LENGTH && sectionLength <= MAX_HALF_LENGTH) {\n    return firstStartMonths.includes(startMonth)\n      ? SemesterLength.HalfFirst\n      : SemesterLength.HalfSecond;\n  }\n  // TODO: Figure out if intensive is A, B, C, or D\n  return SemesterLength.IntensiveA;\n};\n\nexport const prefixCase = (value: string): string[] => {\n  return value.replace(\" \", \"\").split(/[;,\\n]/);\n};\n\nexport const integerDefaultZeroCase = (value: string): number => {\n  return Number.isInteger(Number(value)) ? Number(value) : 0;\n};\n\nexport const durationCase = (value: string): number => {\n  if (Number.isInteger(Number(value))) {\n    return Number(value);\n  }\n  const [startTime, endTime] = value.split(\" \").join(\"\").split(\"-\");\n  const startTimeMoment = moment(startTime, \"h:mmA\");\n  const endTimeMoment = moment(endTime, \"h:mmA\");\n  return endTimeMoment.diff(startTimeMoment, \"minutes\");\n};\n\nexport const yearCase = (value: string): number | string => {\n  return Number.isInteger(Number(value)) ? Number(value) : value;\n};\n","import React, { ComponentProps, ElementType, FC, forwardRef, ReactNode } from \"react\";\nimport { getChildByName } from \"utilities\";\n\n/* Options props to pass when creating a component. */\ninterface ComponentOptions<T extends ElementType = \"div\"> {\n  Component?: T;\n  defaultProps?: Partial<ComponentProps<T>>;\n  displayName?: string;\n}\n\n/*\nThis function will create a \"pass-through\" component. It is used to create\n  sub-components that return its children so the parent component and arrange those children.\n  The parent affectively can employ \"middleware\" between the child component JSX and the JSX that is\n  rendered. This function was originally from from React-Bootstrap which has been modified under their\n  MIT license.\nRef: https://github.com/react-bootstrap/react-bootstrap/blob/072e7c5fb01b492735a9db2409909058a9976190/src/createWithBsPrefix.tsx#L16\n*/\nexport const createFC = <T extends ElementType = \"div\">(\n  prefix: string,\n  { displayName = prefix, Component, defaultProps }: ComponentOptions<T> = {},\n): FC<{}> => {\n  const subComponent = forwardRef(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ({ className, as: Tag = Component || \"div\", ...props }: any, ref) => {\n      return <Tag ref={ref} className={`${className}`} {...props} />;\n    },\n  );\n  subComponent.defaultProps = defaultProps;\n  subComponent.displayName = displayName;\n  return subComponent as FC<{}>;\n};\n\ntype Alternatives = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  alternatives?: any;\n};\n\n/*\nReturns an iterable from a \"runtypes\" union.\nRef: https://github.com/microsoft/TypeScript/issues/13542#issuecomment-282762530\n*/\nconst getUnionTypeIterable = <T extends Alternatives>(type: T): string[] => {\n  return type.alternatives.map((literal: { value: string }) => {\n    return literal.value;\n  });\n};\n\ntype Elements<T extends string> = { [key in T]?: JSX.Element };\n\n/* This gets the JSX.Elements from the children of a component and return them in an object\nRef: https://stackoverflow.com/questions/53813188/how-can-i-cast-custom-type-to-primitive-type\n*/\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getElements = <T extends string>(children: ReactNode, type: any) => {\n  const elements: Elements<T> = {};\n  getUnionTypeIterable<T & Alternatives>(type).forEach((it: string) => {\n    // eslint-disable-next-line prefer-destructuring\n    elements[(it as unknown) as T] = getChildByName(children, it)[0];\n  });\n  return elements;\n};\n","import { cloneDeep } from \"lodash\";\nimport papa from \"papaparse\";\nimport { Course, emptyCourse, emptySection, Meeting, Schedule, Section } from \"utilities\";\nimport { getCourse, getSection } from \"utilities/services\";\nimport * as cf from \"./caseFunctions\";\n\ninterface ValidFields {\n  [key: string]: (value: string, data: cf.CaseCallbackParams) => void;\n}\n\nconst pruimSpreadsheetFields: ValidFields = {\n  anticipatedSize: cf.anticipatedSizeCallback,\n  comments: cf.commentsCallback,\n  days: cf.daysCallback,\n  duration: cf.durationCallback,\n  facultyHours: cf.facultyHoursCallback,\n  globalMax: cf.globalMaxCallback,\n  half: cf.semesterLengthCallback,\n  instructor: cf.instructorCallback,\n  instructors: cf.instructorCallback,\n  localMax: cf.localMaxCallback,\n  location: cf.locationCallback,\n  name: cf.nameCallback,\n  number: cf.numberCallback,\n  prefix: cf.prefixCallback,\n  prefixes: cf.prefixCallback,\n  roomCapacity: cf.roomCapacityCallback,\n  section: cf.letterCallback,\n  semesterLength: cf.semesterLengthCallback,\n  startTime: cf.startTimeCallback,\n  startTimeStr: cf.startTimeCallback,\n  studentHours: cf.studentHoursCallback,\n  term: cf.termCallback,\n  year: cf.yearCallback,\n};\n\nconst registrarSpreadsheetFields: ValidFields = {\n  AcademicYear: cf.yearCallback,\n  BuildingAndRoom: cf.locationCallback,\n  Comments: cf.commentsCallback,\n  CourseNum: cf.numberCallback,\n  Day10Used: cf.day10UsedCallback,\n  Department: cf.departmentCallback,\n  Faculty: cf.instructorCallback,\n  FacultyLoad: cf.facultyHoursCallback,\n  GlobalMax: cf.globalMaxCallback,\n  InstructionalMethod: cf.instructionalMethodCallback,\n  LocalMax: cf.localMaxCallback,\n  MeetingDays: cf.daysCallback,\n  MeetingDurationMinutes: cf.durationCallback,\n  MeetingStart: cf.startTimeCallback,\n  MeetingTime: cf.timeCallback,\n  MinimumCredits: cf.studentHoursCallback,\n  RoomCapacity: cf.roomCapacityCallback,\n  SectionCode: cf.letterCallback,\n  SectionEndDate: cf.endDateCallback,\n  SectionStartDate: cf.startDateCallback,\n  SectionStatus: cf.statusCallback,\n  ShortTitle: cf.nameCallback,\n  SubjectCode: cf.prefixCallback,\n  Term: cf.termCallback,\n  TermStart: cf.termStartCallback,\n  Used: cf.usedCallback,\n};\n\nconst templateSpreadsheetFields: ValidFields = {\n  Days: cf.daysCallback,\n  FacLoad: cf.facultyHoursCallback,\n  NonTeachingActivity: cf.nonTeachingActivityCallback,\n  Room: cf.locationCallback,\n  SectionName: cf.sectionCallback,\n  StuCred: cf.studentHoursCallback,\n  Terms: cf.termCallback,\n};\n\nconst callbacks: ValidFields = {\n  ...pruimSpreadsheetFields,\n  ...registrarSpreadsheetFields,\n  ...templateSpreadsheetFields,\n};\n\nexport const csvStringToSchedule = (csvString: string): Schedule => {\n  // Remove junk from Excel export to CSV\n  csvString = csvString.replace(\"ï»¿\", \"\");\n\n  // Remove title rows from template spreadsheet. Perhaps there is a better way to check if it is in the template format\n  if (csvString.startsWith(\"2\")) {\n    csvString = csvString.split(\"\\n\").slice(2).join(\"\\n\");\n  }\n\n  const objects: papa.ParseResult<never> = papa.parse(csvString, {\n    header: true,\n    skipEmptyLines: \"greedy\",\n  });\n\n  // Define variables for Schedule creation\n  const schedule: Schedule = {\n    courses: [],\n  };\n\n  // Get data and fields from the CSV\n  const { data, meta } = objects;\n  const { fields } = meta;\n\n  // Parse each row of the CSV as an object\n  data.forEach((object) => {\n    // Reset defaults\n    const section = cloneDeep(emptySection);\n    const meetings: Meeting[] = [];\n    const course: Course = cloneDeep(emptyCourse);\n\n    // Iterate through the fields of the CSV, and parse their values for this object\n    // TODO: Create a sense of priority for MeetingDurationMinutes over MeetingTime and SemesterLength over SemesterEndDate - SemesterStartDate\n    if (fields) {\n      fields.forEach((field) => {\n        const value = String(object[field]);\n        field = field.replace(/\\s/g, \"\").replace(\"(\", \"\").replace(\")\", \"\").replace(\"-\", \"\");\n        if (field in callbacks) {\n          callbacks[field as keyof ValidFields](value, { course, meetings, section });\n        }\n      });\n\n      // Insert the Section to the Schedule, either as a new Course or to an existing Course\n      section.meetings = meetings;\n      insertSectionCourse(schedule, section, course);\n    }\n  });\n  return schedule;\n};\n\n// Insert the Section to the Schedule, either as a new Course or to an existing Course\nexport const insertSectionCourse = (schedule: Schedule, section: Section, course: Course) => {\n  const { meetings } = section;\n\n  // Check if any meetings are empty, and should be removed\n  // TODO: What about TBA meetings where the location is specified but not the time\n  //       (currently allowing these causes the app to crash)\n  section.meetings = meetings.filter((meeting) => {\n    return meeting.days?.length > 0 && meeting.duration > 0;\n  });\n\n  // Check if there is already a course in the schedule with the same prefix and number\n  const existingCourse = getCourse(schedule, course.prefixes, course.number);\n\n  // If there is, first check if there is already a section for that course with the same letter, instructors, and term\n  if (existingCourse) {\n    const existingCourseIndex = schedule.courses.indexOf(existingCourse);\n    const existingSection = getSection(\n      schedule,\n      course.prefixes,\n      course.number,\n      section.letter,\n      section.term,\n      section.instructors,\n    );\n\n    // If there is, add the new meeting(s) to the existing course\n    if (existingSection) {\n      const existingSectionIndex = schedule.courses[existingCourseIndex].sections.indexOf(\n        existingSection,\n      );\n      // TODO: Avoid duplicate meetings?\n      schedule.courses[existingCourseIndex].sections[\n        existingSectionIndex\n      ].meetings = schedule.courses[existingCourseIndex].sections[\n        existingSectionIndex\n      ].meetings.concat(section.meetings);\n    }\n    // Otherwise, add the new section to the existing course\n    else {\n      schedule.courses[existingCourseIndex].sections.push(section);\n    }\n  }\n  // Otherwise, add the new course to the schedule\n  else {\n    course.sections.push(section);\n    schedule.courses.push(course);\n  }\n  return schedule;\n};\n","export interface TeamMember {\n  bio: string;\n  name: string;\n  photo: string;\n  website: string;\n}\n\n/* Basic information about the project team members */\nexport const team: TeamMember[] = [\n  {\n    bio:\n      \"Computer Science Student at Calvin University. Jonathan is a hard worker, a faster runner, and has previous web development experience.\",\n    name: \"Jonathan Ellis\",\n    photo:\n      \"https://avatars3.githubusercontent.com/u/49655167?s=460&u=b81f525db7da58b19bc28588282b366cd8b748ab&v=4\",\n    website: \"https://github.com/Jonri2\",\n  },\n  {\n    bio:\n      \"Computer Science and Mathematics Student at Calvin University. Bryant is hoping to go into software development while keeping Mathematics as a lifelong hobby.\",\n    name: \"Bryant George\",\n    photo:\n      \"https://avatars1.githubusercontent.com/u/51130302?s=460&u=83737db9aeff2b377654a3e0a7cd3dc39f54f7ff&v=4\",\n    website: \"https://github.com/bryantgeorge\",\n  },\n  {\n    bio:\n      \"Computer Science Student at Calvin University. Charles plans to start his software career post-graduation with Tekton as an ecommerce developer.\",\n    name: \"Charles Kornoelje\",\n    photo:\n      \"https://avatars2.githubusercontent.com/u/33156025?s=460&u=fb61bdf55f17108f9687c334b4b4abc4b09c7259&v=4\",\n    website: \"https://github.com/charkour\",\n  },\n  {\n    bio:\n      \"Computer Science Professor and Department Chair at Calvin University. VanderLinden's research interests are in Natural Language Engineering and Human-Computer Interaction.\",\n    name: \"Professor Keith VanderLinden\",\n    photo:\n      \"https://avatars0.githubusercontent.com/u/4930536?s=460&u=216f27d175496fec82a87e0c1c1c1514f73997da&v=4\",\n    website: \"https://calvin.edu/directory/people/keith-vander-linden\",\n  },\n  {\n    bio:\n      \"Mathematics and Statistics Professor and Department Chair at Calvin University. Pruim's research interests are in Computational Statistics, Scientific Computing, and Statistics Education.\",\n    name: \"Professor Randall Pruim\",\n    photo: \"https://www.statistics.com/wp-content/uploads/2019/05/dr-randall-pruim.jpg\",\n    website: \"https://calvin.edu/directory/people/randall-pruim\",\n  },\n];\n","import { Children, ReactNode } from \"react\";\n\n/* Create an iterable from an enumeration */\nexport const enumArray = <T>(e: T) => {\n  return Object.keys(e).map((val) => {\n    return e[val as keyof typeof e];\n  });\n};\n\n/* a no-op fn used for default values */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const voidFn = () => {};\n\n/* Method of getting a child component by their display name.\n  Used in sub-components.\n*/\nexport const getChildByName = (children: ReactNode, displayName: string) => {\n  return Children.map(children as JSX.Element[], (child: JSX.Element) => {\n    return child?.type.displayName === displayName ? child : null;\n  });\n};\n","import { forEach } from \"lodash\";\nimport moment, { Moment } from \"moment\";\nimport { Schedule, Section, Term } from \"utilities/interfaces\";\n\n// Simplified version of scheduleToFullCSVString() from writeFullCSV.ts to conform to new standard\nexport const scheduleToCSVString = (schedule: Schedule): string => {\n  let csvStr = \"Term,Section Name,Stu Cred,Fac Load,Room,Days,Meeting Time,Short Title,Faculty\\n\";\n  schedule.courses.forEach((course) => {\n    // Only produce output for courses with a prefix and number (else assume they are non-teaching loads)\n    if ((course.prefixes.length && course.prefixes[0]) || course.number) {\n      course.sections.forEach((section) => {\n        // Iterate through meetings to construct relevant strings\n        let startMoment;\n        let endMoment;\n        let meetingTimeStr = \"\";\n        let buildingAndRoomStr = \"\";\n        let daysStr = \"\";\n        section.meetings.forEach((meeting) => {\n          startMoment = moment(meeting.startTime, \"h:mm A\");\n          endMoment = startMoment.clone().add(meeting.duration, \"minutes\");\n          if (startMoment.isValid()) {\n            meetingTimeStr += getMeetingTimeStr(startMoment, endMoment);\n          } else {\n            meetingTimeStr += \"\\n\";\n          }\n          buildingAndRoomStr += meeting.location.roomNumber\n            ? `${meeting.location.building} ${meeting.location.roomNumber}\\n`\n            : `${meeting.location.building}\\n`;\n          daysStr += `${meeting.days.join(\"\")}\\n`;\n        });\n        // Remove trailing newlines\n        meetingTimeStr = meetingTimeStr.slice(0, -1);\n        buildingAndRoomStr = buildingAndRoomStr.slice(0, -1);\n        daysStr = daysStr.slice(0, -1);\n        // Create strings for fields that need to be constructed\n        const termStr = getTermsStr(section);\n        const sectionNameStr = `${course.prefixes.length ? course.prefixes[0] : \"\"}-${\n          course.number\n        }-${section.letter}`;\n\n        // Construct a row in the output CSV\n        csvStr += `${termStr},\"${sectionNameStr}\",${(\n          section.studentHours ?? course.studentHours\n        ).toFixed(2)},${(section.facultyHours ?? course.facultyHours).toFixed(\n          2,\n        )},\"${buildingAndRoomStr}\",\"${daysStr}\",\"${meetingTimeStr}\",\"${\n          course.name\n        }\",\"${section.instructors.join(\"\\n\")}\"\\n`;\n      });\n    }\n  });\n  return csvStr;\n};\n\nexport const scheduleToNonTeachingCSVString = (schedule: Schedule): string => {\n  let csvStr = \"Term(s),Non-Teaching Activity,Fac Load,Faculty\\n\";\n  schedule.courses.forEach((course) => {\n    // Only produce output for courses that don't have a prefix and number (assume they are non-teaching loads)\n    if (!((course.prefixes.length && course.prefixes[0]) || course.number)) {\n      course.sections.forEach((section) => {\n        // Create strings for fields that need to be constructed\n        const termStr = getTermsStr(section);\n\n        // TODO: Should instructionalMethod be used for Non-Teaching Activity or should we add a new field?\n        // Construct a row in the output CSV\n        csvStr += `${termStr},${section.instructionalMethod},${(\n          section.facultyHours ?? course.facultyHours\n        ).toFixed(2)},\"${section.instructors.join(\"\\n\")}\"\\n`;\n      });\n    }\n  });\n  return csvStr;\n};\n\nexport const getTermsStr = (section: Section): string => {\n  if (Array.isArray(section.term)) {\n    let termsStr = '\"';\n    forEach(section.term, (term) => {\n      termsStr += `${getTermStr(section.year, term)}, `;\n    });\n    return `${termsStr.slice(0, -2)}\"`;\n  }\n  return getTermStr(section.year, section.term);\n};\n\nconst getTermStr = (year: Section[\"year\"], term: Term) => {\n  return `${\n    typeof year === \"number\"\n      ? term === Term.Fall\n        ? String(year).slice(-2)\n        : String(year + 1).slice(-2)\n      : term === Term.Fall\n      ? String(Number(year.slice(-2)) - 1)\n      : year.slice(-2)\n  }/${term}`;\n};\n\nexport const getMeetingTimeStr = (startMoment: Moment, endMoment: Moment): string => {\n  return `${startMoment.format(\"h:mmA\")} - ${endMoment.format(\"h:mmA\")}\\n`;\n};\n","import moment from \"moment\";\nimport { getMeetingTimeStr, getTermsStr } from \"utilities/helpers\";\nimport { Day, Schedule } from \"utilities/interfaces\";\n\n// TODO: Deprecate and/or delete this function, replacing it with scheduleToCSVString() from writeCSV.ts?\nexport const scheduleToFullCSVString = (schedule: Schedule): string => {\n  const numericReg = RegExp(\"[0-9]\");\n  let csvStr =\n    \"Department,Term,TermStart,AcademicYear,SectionName,SubjectCode,CourseNum,SectionCode,CourseLevelCode,MinimumCredits,FacultyLoad,Used,Day10Used,LocalMax,GlobalMax,RoomCapacity,BuildingAndRoom,MeetingDays,MeetingTime,SectionStartDate,SectionEndDate,SemesterLength,Building,RoomNumber,MeetingStart,MeetingStartInternal,MeetingDurationMinutes,MeetingEnd,MeetingEndInternal,Monday,Tuesday,Wednesday,Thursday,Friday,ShortTitle,Faculty,SectionStatus,InstructionalMethod,Comments\\n\";\n  schedule.courses.forEach((course) => {\n    course.sections.forEach((section) => {\n      // Iterate through meetings to construct relevant strings\n      let startMoment;\n      let endMoment;\n      let meetingTimeStr = \"\";\n      let meetingStartStr = \"\";\n      let meetingStartInternalStr = \"\";\n      let meetingEndStr = \"\";\n      let meetingEndInternalStr = \"\";\n      let meetingDurationMinutesStr = \"\";\n      let buildingStr = \"\";\n      let roomNumberStr = \"\";\n      let buildingAndRoomStr = \"\";\n      let roomCapacityStr = \"\";\n      let daysStr = \"\";\n      let monStr = \"\";\n      let tuesStr = \"\";\n      let wedStr = \"\";\n      let thursStr = \"\";\n      let friStr = \"\";\n      section.meetings.forEach((meeting) => {\n        startMoment = moment(meeting.startTime, \"h:mm A\");\n        endMoment = startMoment.clone().add(meeting.duration, \"minutes\");\n        if (startMoment.isValid()) {\n          meetingTimeStr += getMeetingTimeStr(startMoment, endMoment);\n          meetingStartStr += `${startMoment.format(\"h:mm A\")}\\n`;\n          meetingStartInternalStr += `${startMoment.format(\"H:mm:ss\")}\\n`;\n          meetingEndStr += `${endMoment.format(\"h:mm A\")}\\n`;\n          meetingEndInternalStr += `${endMoment.format(\"H:mm:ss\")}\\n`;\n        } else {\n          meetingTimeStr += \"\\n\";\n          meetingStartStr += \"\\n\";\n          meetingStartInternalStr += \"\\n\";\n          meetingEndStr += \"\\n\";\n          meetingEndInternalStr += \"\\n\";\n        }\n        meetingDurationMinutesStr += `${meeting.duration}\\n`;\n        buildingStr += `${meeting.location.building}\\n`;\n        roomNumberStr += `${meeting.location.roomNumber}\\n`;\n        buildingAndRoomStr += meeting.location.roomNumber\n          ? `${meeting.location.building} ${meeting.location.roomNumber}\\n`\n          : `${meeting.location.building}\\n`;\n        roomCapacityStr += `${meeting.location.roomCapacity}\\n`;\n        daysStr += `${meeting.days.join(\"\")}\\n`;\n        monStr += `${meeting.days.includes(Day.Monday) ? \"M\" : \"\"}\\n`;\n        tuesStr += `${meeting.days.includes(Day.Tuesday) ? \"T\" : \"\"}\\n`;\n        wedStr += `${meeting.days.includes(Day.Wednesday) ? \"W\" : \"\"}\\n`;\n        thursStr += `${meeting.days.includes(Day.Thursday) ? \"TH\" : \"\"}\\n`;\n        friStr += `${meeting.days.includes(Day.Friday) ? \"F\" : \"\"}\\n`;\n      });\n      // Remove trailing newlines\n      meetingTimeStr = meetingTimeStr.slice(0, -1);\n      meetingStartStr = meetingStartStr.slice(0, -1);\n      meetingStartInternalStr = meetingStartInternalStr.slice(0, -1);\n      meetingEndStr = meetingEndStr.slice(0, -1);\n      meetingEndInternalStr = meetingEndInternalStr.slice(0, -1);\n      meetingDurationMinutesStr = meetingDurationMinutesStr.slice(0, -1);\n      buildingStr = buildingStr.slice(0, -1);\n      roomNumberStr = roomNumberStr.slice(0, -1);\n      buildingAndRoomStr = buildingAndRoomStr.slice(0, -1);\n      roomCapacityStr = roomCapacityStr.slice(0, -1);\n      daysStr = daysStr.slice(0, -1);\n      monStr = monStr.slice(0, -1);\n      tuesStr = tuesStr.slice(0, -1);\n      wedStr = wedStr.slice(0, -1);\n      thursStr = thursStr.slice(0, -1);\n      friStr = friStr.slice(0, -1);\n      // Create strings for fields that need to be constructed\n      const termStr = getTermsStr(section);\n      const sectionNameStr = `${course.prefixes.length ? course.prefixes[0] : \"\"}-${\n        course.number\n      }-${section.letter}`;\n      const courseLevelCodeStr = numericReg.test(course.number[0])\n        ? `${course.number[0]}00`\n        : \"100\";\n\n      // Construct a row in the output CSV\n      csvStr += `\"${course.department}\",${termStr},${section.termStart},${\n        section.year\n      },\"${sectionNameStr}\",\"${course.prefixes.join(\"\\n\")}\",${course.number},${\n        section.letter\n      },${courseLevelCodeStr},${section.studentHours ?? course.studentHours},${\n        section.facultyHours ?? course.facultyHours\n      },${section.used},${section.day10Used},${section.localMax},${\n        section.globalMax\n      },\"${roomCapacityStr}\",\"${buildingAndRoomStr}\",\"${daysStr}\",\"${meetingTimeStr}\",${\n        section.startDate\n      },${section.endDate},${\n        section.semesterLength\n      },\"${buildingStr}\",\"${roomNumberStr}\",\"${meetingStartStr}\",\"${meetingStartInternalStr}\",\"${meetingDurationMinutesStr}\",\"${meetingEndStr}\",\"${meetingEndInternalStr}\",\"${monStr}\",\"${tuesStr}\",\"${wedStr}\",\"${thursStr}\",\"${friStr}\",\"${\n        course.name\n      }\",\"${section.instructors.join(\"\\n\")}\",\"${section.status}\",\"${\n        section.instructionalMethod\n      }\",\"${section.comments}\"\\n`;\n    });\n  });\n  return csvStr;\n};\n"],"sourceRoot":""}