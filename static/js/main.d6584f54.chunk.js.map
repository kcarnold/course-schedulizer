{"version":3,"sources":["utilities/interfaces/dataInterfaces/index.ts","utilities/interfaces/appInterfaces.ts","utilities/interfaces/dataInterfaces/dayInterfaces.ts","utilities/interfaces/dataInterfaces/termInterfaces.ts","utilities/contexts/appContext.ts","utilities/contexts/scheduleContext.ts","utilities/helpers/caseFunctions.ts","utilities/helpers/makeFC.tsx","utilities/helpers/readCSV.ts","utilities/helpers/utils.ts","utilities/helpers/writeCSV.ts","utilities/hooks/useExportCSV.ts","utilities/hooks/useImportFile.ts","utilities/reducers/appReducer.ts","assets/CalvinUniv-vert-full-color-inverse.png","utilities/services/addSectionService.ts","utilities/services/facultyScheduleService.ts","utilities/services/roomsScheduleService.ts","utilities/services/scheduleService.ts","components/pages/AboutPage/AboutPage.tsx","components/pages/HelpPage/HelpPage.tsx","components/pages/SchedulizerPage/SchedulizerPage.tsx","components/App/App.tsx","assets/logo.ts","components/Header/Header.tsx","components/reuseables/AddSectionButton/AddSectionButton.tsx","components/reuseables/AddSectionPopover/AddSectionPopover.tsx","components/reuseables/AsyncComponent/AsyncComponent.tsx","components/reuseables/Calendar/Calendar.tsx","components/reuseables/GridItem/GridItemCheckboxGroup/GridItemCheckboxGroup.tsx","components/reuseables/GridItem/GridItemRadioGroup/GridItemRadioGroup.tsx","components/reuseables/GridItem/GridItemTextField/GridItemTextField.tsx","components/reuseables/ImportInputWrapper/ImportInputWrapper.tsx","components/Toolbar/ColorSelector/ColorSelector.tsx","components/reuseables/Schedule/Schedule.tsx","components/Tabs/FacultyLoads/FacultyLoads.tsx","components/Tabs/FacultySchedule/FacultySchedule.tsx","components/Tabs/RoomsSchedule/RoomsSchedule.tsx","components/Tabs/tabComponents/CSVActions/CSVActions.tsx","components/Tabs/tabComponents/CSVActions/ImportButton/ImportButton.tsx","components/Tabs/tabComponents/NoCoursesHeader/NoCoursesHeader.tsx","components/Tabs/tabComponents/TabPanel/TabPanel.tsx","components/Tabs/Tabs.tsx","components/Toolbar/ScheduleToolbar/ScheduleToolbar.tsx","components/Toolbar/Searchbar/Searchbar.tsx","components/Toolbar/SemesterSelector/SemesterSelector.tsx","serviceWorker.ts","index.tsx","utilities/constants.ts","utilities/index.ts","utilities/interfaces/index.ts"],"names":["initialAppState","professors","rooms","schedule","courses","selectedTerm","Term","Fall","slotMaxTime","slotMinTime","Day","Weekday","Monday","Tuesday","Wednesday","Thursday","Friday","SemesterLength","Half","Intensive","SemesterLengthOption","HalfFirst","HalfSecond","IntensiveA","IntensiveB","IntensiveC","IntensiveD","AppContext","createContext","appDispatch","voidFn","appState","isCSVLoading","setIsCSVLoading","ScheduleContext","isScheduleLoading","setIsScheduleLoading","fallReg","RegExp","summerReg","springReg","interimReg","sunReg","monReg","tuesReg","wedReg","thursReg","friReg","satReg","assignWithMeetings","value","params","arrAssign","valueParts","meetings","split","forEach","_","i","length","push","cloneDeep","emptyMeeting","createMeetings","v","startTimeCallback","startTime","startTimeCase","locationCallback","location","locationCase","building","roomNumber","termCallback","section","term","termCase","semesterLengthCallback","semesterLength","semesterLengthCase","daysCallback","days","daysCase","instructorCallback","instructors","instructorCase","prefixCallback","course","prefixes","prefixCase","nameCallback","name","numberCallback","number","letterCallback","letter","globalMaxCallback","globalMax","numberDefaultZeroCase","localMaxCallback","localMax","anticipatedSizeCallback","anticipatedSize","yearCallback","year","yearCase","studentHoursCallback","studentHours","facultyHoursCallback","facultyHours","durationCallback","duration","durationCase","roomCapacityCallback","capacity","roomCapacity","moment","isValid","roomParts","trim","slice","join","test","Summer","Spring","Interim","console","log","upperValue","toUpperCase","lowerValue","toLowerCase","Full","Sunday","Saturday","map","instructor","sectionEndCase","startSectionDate","sectionStart","sectionLength","diff","startMonth","month","includes","replace","Number","isInteger","endTime","startTimeMoment","createFC","prefix","displayName","Component","defaultProps","subComponent","forwardRef","ref","className","as","Tag","props","getElements","children","type","elements","alternatives","literal","getUnionTypeIterable","it","getChildByName","pruimSpreadsheetFields","cf","comments","half","startTimeStr","registrarSpreadsheetFields","AcademicYear","BuildingAndRoom","CourseNum","Faculty","FacultyLoad","GlobalMax","LocalMax","MeetingDays","MeetingStart","MeetingTime","MinimumCredits","RoomCapacity","SectionCode","SectionEndDate","SectionStartDate","ShortTitle","SubjectCode","Used","callbacks","csvStringToSchedule","csvString","objects","papa","parse","header","skipEmptyLines","data","fields","meta","object","emptySection","emptyCourse","field","String","insertSectionCourse","filter","meeting","existingCourse","getCourse","existingCourseIndex","indexOf","existingSection","getSection","existingSectionIndex","sections","concat","enumArray","e","Object","keys","val","Children","child","scheduleToCSVString","csvStr","durationStr","locationStr","roomCapacityStr","daysStr","useExportCSV","useContext","download","format","useImportFile","file","target","files","read","FileReader","readAsBinaryString","onloadend","a","scheduleJSON","result","isEqual","payload","reducer","state","action","times","getMinAndMaxTimes","getProfs","getRooms","maxTime","minTime","module","exports","convertFromSemesterLength","sl","HalfSemester","IntensiveSemester","FullSemester","schema","shape","array","transform","d","day","getSectionName","undefined","mapInputToInternalTypes","semesterType","First","Second","A","B","C","D","convertToSemesterLength","intensive","newSection","newCourse","updateScheduleWithNewSection","oldCourse","courseIndex","removeSection","professorsSet","Set","prof","add","roomsSet","getHoursArr","min","max","minHour","parseInt","maxHour","range","getEvents","groups","events","sectionName","room","group","endTimeMoment","event","dayOfWeek","INITIAL_DATE","newEvent","description","end","extendedProps","start","title","some","flatten","startTimes","endTimes","minBy","maxBy","filterEventsByTerm","groupedEvents","tempGroupedEvents","forOwn","key","filterHeadersWithNoEvents","filteredEvents","headers","groupEvents","AboutPage","HelpPage","SchedulizerPage","App","useState","useReducer","Provider","path","logo","CalvinLogo","Header","AppBar","position","Toolbar","to","alt","src","Typography","variant","Link","component","RouterLink","AddSectionButton","popupState","usePopupState","popupId","isIcon","buttonProps","IconButton","bindTrigger","Add","Button","color","Popover","bindPopover","anchorOrigin","horizontal","vertical","PaperProps","style","minWidth","transformOrigin","AddSectionPopover","values","useForm","resolver","yupResolver","register","handleSubmit","control","setSemesterLength","isHalfSemester","isIntensiveSemester","isCustomSemester","CustomSemester","locationValue","Box","mb","Grid","container","spacing","label","textFieldProps","autoFocus","item","xs","toString","fullWidth","InputProps","endAdornment","InputAdornment","options","defaultValue","onChange","lowercase","h","direction","disabled","multiline","rows","alignItems","justify","onClick","SubComponents","Union","Literal","AsyncComponent","isLoading","Loading","Loaded","Calendar","allDaySlot","dayHeaderFormat","weekday","droppable","editable","headerToolbar","height","initialDate","initialView","nowIndicator","plugins","interactionPlugin","timeGridPlugin","selectable","weekends","GridItemCheckboxGroup","FormLabel","o","FormControlLabel","Checkbox","defaultChecked","inputRef","camelCase","GridItemRadioGroup","RadioGroup","Radio","GridItemTextField","TextField","ColorBy","ImportInputWrapper","onInputChange","htmlFor","accept","id","Schedule","ScheduleBase","calendarHeaders","calendarOptions","popupData","setPopupData","handleEventClick","useCallback","arg","open","el","useMemo","calenderHeadersNoEmptyInTerm","Stick","node","eventClick","maxWidth","LeftTimeAxis","time","tenVH","window","innerHeight","ScheduleHeader","top","updateRow","newRow","prevRow","termName","termCourseSectionProp","termHoursProp","FacultyLoads","newTableData","newFacultyRow","faculty","prevAddedFacultyRow","updateArgs","row","totalHours","fallHours","springHours","summerHours","sort","b","createTable","columns","accessor","tableInstance","useTable","getTableProps","getTableBodyProps","headerGroups","prepareRow","TableContainer","Paper","Table","TableHead","headerGroup","getHeaderGroupProps","column","TableCell","getHeaderProps","render","TableBody","getRowProps","cells","cell","getCellProps","FacultySchedule","RoomsSchedule","CSVActions","onExportClick","edge","Menu","getContentAnchorEl","bindMenu","MenuItem","button","ImportButton","btnProps","NoCoursesHeader","marginRight","TabPanel","index","other","aria-labelledby","hidden","role","p","Tabs","tabValue","setTabValue","scheduleHasCourses","Container","centered","indicatorColor","newValue","textColor","Tab","ColorSelector","Level","colorValue","setColorValue","InputLabel","Select","Room","Instructor","Prefix","ScheduleToolbar","Searchbar","Autocomplete","getOptionLabel","option","classes","renderInput","SemesterSelector","terms","handleOnClick","newTerm","ChevronLeft","ChevronRight","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","Date","getFullYear"],"mappings":"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","file":"static/js/main.d6584f54.chunk.js","sourcesContent":["export * from \"./dayInterfaces\";\nexport * from \"./scheduleInterfaces\";\nexport * from \"./termInterfaces\";\n","import { Schedule, Term } from \"./dataInterfaces\";\n\n// structure for the global app state\nexport interface AppState {\n  professors: string[];\n  rooms: string[];\n  schedule: Schedule;\n  selectedTerm: Term;\n  slotMaxTime: string;\n  slotMinTime: string;\n}\n\n// Defaults for the app state when it launches\nexport const initialAppState = {\n  professors: [],\n  rooms: [],\n  schedule: { courses: [] },\n  selectedTerm: Term.Fall,\n  slotMaxTime: \"22:00\",\n  slotMinTime: \"6:00\",\n};\n\n// structure of actions that can be sent to app dispatch\nexport interface AppAction {\n  payload: {\n    schedule?: Schedule;\n    term?: Term;\n  };\n  type: \"setScheduleData\" | \"setSelectedTerm\"; // add | to add more actions in the future\n}\n","/* eslint-disable typescript-sort-keys/string-enum */\n\nexport enum Day {\n  Monday = \"M\",\n  Tuesday = \"T\",\n  Wednesday = \"W\",\n  Thursday = \"Th\",\n  Friday = \"F\",\n  Saturday = \"S\",\n  Sunday = \"Su\",\n}\n\nexport enum Weekday {\n  Monday = Day.Monday,\n  Tuesday = Day.Tuesday,\n  Wednesday = Day.Wednesday,\n  Thursday = Day.Thursday,\n  Friday = Day.Friday,\n}\n","/* eslint-disable typescript-sort-keys/string-enum */\nexport enum Term {\n  Fall = \"FA\",\n  Interim = \"IN\", // TODO: Remove?\n  Spring = \"SP\",\n  Summer = \"SU\", // TODO: Is this a thing?\n}\n\nexport enum SemesterLength {\n  Full = \"Full\",\n  HalfFirst = \"First\",\n  HalfSecond = \"Second\",\n  IntensiveA = \"A\",\n  IntensiveB = \"B\",\n  IntensiveC = \"C\",\n  IntensiveD = \"D\",\n}\n\nexport enum Half {\n  First = SemesterLength.HalfFirst,\n  Second = SemesterLength.HalfSecond,\n}\n\nexport enum Intensive {\n  A = SemesterLength.IntensiveA,\n  B = SemesterLength.IntensiveB,\n  C = SemesterLength.IntensiveC,\n  D = SemesterLength.IntensiveD,\n}\n\nexport enum SemesterLengthOption {\n  FullSemester = \"Full\",\n  HalfSemester = \"Half\",\n  IntensiveSemester = \"Intensive\",\n  CustomSemester = \"Custom\",\n}\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport { AppAction, AppState, initialAppState, voidFn } from \"utilities\";\n\ninterface AppContext {\n  appDispatch: Dispatch<AppAction> | (() => void);\n  appState: AppState;\n  isCSVLoading: boolean;\n  setIsCSVLoading: Dispatch<SetStateAction<AppContext[\"isCSVLoading\"]>> | (() => void);\n}\n\n/* Used for containing the global state of the app\n  and a dispatcher to perform updates against the\n  state of the app.\n*/\nexport const AppContext = createContext<AppContext>({\n  appDispatch: voidFn,\n  appState: initialAppState,\n  isCSVLoading: false,\n  setIsCSVLoading: voidFn,\n});\n","import { createContext, Dispatch, SetStateAction } from \"react\";\nimport { voidFn } from \"utilities\";\n\ninterface ScheduleContext {\n  isScheduleLoading: boolean;\n  setIsScheduleLoading:\n    | Dispatch<SetStateAction<ScheduleContext[\"isScheduleLoading\"]>>\n    | (() => void);\n}\n\n/* Provide a context for each Schedule (Faculty, Room, etc.) */\nexport const ScheduleContext = createContext<ScheduleContext>({\n  isScheduleLoading: false,\n  setIsScheduleLoading: voidFn,\n});\n","import { cloneDeep } from \"lodash\";\nimport moment from \"moment\";\nimport { emptyMeeting } from \"utilities/constants\";\nimport { Course, Day, Meeting, Section, SemesterLength, Term } from \"utilities/interfaces\";\n\nexport interface CaseCallbackParams {\n  course: Course;\n  meetings: Meeting[];\n  section: Section;\n}\n\nexport const MIN_HALF_LENGTH = 35;\nexport const MAX_HALF_LENGTH = 80;\n\n// Define regexes for parsing\n// const timeReg = RegExp(\"(?<![1-9])(1[0-9]|2[0-3]|[0-9]):([0-5][0-9])\");\n// const amReg = RegExp(\"[Aa][Mm]\");\n// const pmReg = RegExp(\"[Pp][Mm]\");\nconst fallReg = RegExp(\"[Ff]\");\nconst summerReg = RegExp(\"[Ss][Uu]|[Mm][Aa]\");\nconst springReg = RegExp(\"[Ss](?![Uu])\");\n// \"W\" represents interim in Pruim's system it seems\nconst interimReg = RegExp(\"[Ii]|[Ww]\");\nconst sunReg = RegExp(\"[Ss][Uu]|[Nn]\");\nconst monReg = RegExp(\"[Mm]\");\nconst tuesReg = RegExp(\"[Tt](?![Hh])\");\nconst wedReg = RegExp(\"[Ww]\");\nconst thursReg = RegExp(\"[Tt][Hh]|[Rr]\");\nconst friReg = RegExp(\"[Ff]\");\nconst satReg = RegExp(\"[Ss](?![Uu])\");\n\nconst createMeetings = (value: string, { meetings }: CaseCallbackParams): string[] => {\n  const valueParts = value.split(\"\\n\");\n  valueParts.forEach((_, i) => {\n    if (meetings.length <= i) {\n      // If there aren't enough meetings, create a new one\n      meetings.push(cloneDeep(emptyMeeting));\n    }\n  });\n  return valueParts;\n};\n\nconst assignWithMeetings = (\n  value: string,\n  params: CaseCallbackParams,\n  arrAssign: (value: string, i: number, arr: Meeting[]) => void,\n) => {\n  const valueParts = createMeetings(value, params);\n  const { meetings } = params;\n  valueParts.forEach((v, i) => {\n    arrAssign(v, i, meetings);\n  });\n};\n\nexport const startTimeCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (startTime, i, meetings) => {\n    meetings[i].startTime = startTimeCase(startTime);\n  });\n};\n\nexport const locationCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (location, i, meetings) => {\n    [meetings[i].location.building, meetings[i].location.roomNumber] = locationCase(location);\n  });\n};\n\nexport const termCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.term = termCase(value);\n};\n\nexport const semesterLengthCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.semesterLength = semesterLengthCase(value);\n};\n\nexport const daysCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (days, i, meetings) => {\n    meetings[i].days = daysCase(days);\n  });\n};\n\nexport const instructorCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.instructors = instructorCase(value);\n};\n\nexport const prefixCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.prefixes = prefixCase(value);\n};\n\nexport const nameCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.name = value;\n};\n\nexport const numberCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.number = value;\n};\n\nexport const letterCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.letter = value;\n};\n\nexport const globalMaxCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.globalMax = numberDefaultZeroCase(value);\n};\n\nexport const localMaxCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.localMax = numberDefaultZeroCase(value);\n};\n\nexport const anticipatedSizeCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.anticipatedSize = numberDefaultZeroCase(value);\n};\n\nexport const commentsCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.comments = value;\n};\n\nexport const yearCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.year = yearCase(value);\n};\n\nexport const studentHoursCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.studentHours = numberDefaultZeroCase(value);\n};\n\nexport const facultyHoursCallback = (value: string, { course }: CaseCallbackParams) => {\n  course.facultyHours = numberDefaultZeroCase(value);\n};\n\nexport const durationCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (duration, i, meetings) => {\n    meetings[i].duration = durationCase(duration);\n  });\n};\n\nexport const roomCapacityCallback = (value: string, params: CaseCallbackParams) => {\n  assignWithMeetings(value, params, (capacity, i, meetings) => {\n    meetings[i].location.roomCapacity = numberDefaultZeroCase(capacity);\n  });\n};\n\nexport const sectionStartCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.startSectionDate = value;\n};\n\nexport const sectionEndCallback = (value: string, { section }: CaseCallbackParams) => {\n  section.semesterLength = sectionEndCase(value, section.startSectionDate);\n};\n\nexport const startTimeCase = (value: string): string => {\n  return moment(value, \"h:mma\").isValid() ? value : \"\";\n};\n\nexport const locationCase = (value: string): string[] => {\n  const roomParts = value.trim().split(\" \");\n  if (roomParts.length === 1) {\n    // No room number given\n    return [roomParts[0], \"\"];\n  }\n  if (roomParts.length === 2) {\n    // Building and room number given\n    return roomParts;\n  }\n  // Too many room parts given, assume last part is room number and rest is building\n  return [roomParts.slice(0, -1).join(\" \"), roomParts.slice(-1)[0]];\n};\n\nexport const termCase = (value: string): Term => {\n  if (fallReg.test(value)) {\n    return Term.Fall;\n  }\n  if (summerReg.test(value)) {\n    return Term.Summer;\n  }\n  if (springReg.test(value)) {\n    return Term.Spring;\n  }\n  if (interimReg.test(value)) {\n    return Term.Interim;\n  }\n  // eslint-disable-next-line no-console\n  console.log(`Term of \"${value}\" is unreadable, defaulting to Fall`);\n  return Term.Fall;\n};\n\nexport const semesterLengthCase = (value: string): SemesterLength => {\n  const upperValue = value.toUpperCase();\n  const lowerValue = value.toLowerCase();\n  if (lowerValue === \"first\") {\n    return SemesterLength.HalfFirst;\n  }\n  if (lowerValue === \"second\") {\n    return SemesterLength.HalfSecond;\n  }\n  if (lowerValue === \"full\") {\n    return SemesterLength.Full;\n  }\n  if (upperValue === \"A\") {\n    return SemesterLength.IntensiveA;\n  }\n  if (upperValue === \"B\") {\n    return SemesterLength.IntensiveB;\n  }\n  if (upperValue === \"C\") {\n    return SemesterLength.IntensiveC;\n  }\n  if (upperValue === \"D\") {\n    return SemesterLength.IntensiveD;\n  }\n  // eslint-disable-next-line no-console\n  console.log(`Half of \"${value}\" is unreadable, defaulting to Full`);\n  return SemesterLength.Full;\n};\n\nexport const daysCase = (value: string) => {\n  const days: Day[] = [];\n  if (sunReg.test(value)) {\n    days.push(Day.Sunday);\n  }\n  if (monReg.test(value)) {\n    days.push(Day.Monday);\n  }\n  if (tuesReg.test(value)) {\n    days.push(Day.Tuesday);\n  }\n  if (wedReg.test(value)) {\n    days.push(Day.Wednesday);\n  }\n  if (thursReg.test(value)) {\n    days.push(Day.Thursday);\n  }\n  if (friReg.test(value)) {\n    days.push(Day.Friday);\n  }\n  if (satReg.test(value)) {\n    days.push(Day.Saturday);\n  }\n  return days;\n};\n\nexport const instructorCase = (value: string): string[] => {\n  // TODO: Instead of splitting at newlines here, instructors should be on a per meeting level\n  //       with newlines separating between the instructor(s) for each meeting (see other meeting relative fields)\n  const instructors = value.split(/[;,\\n]/);\n  return instructors.map((instructor) => {\n    return instructor.trim();\n  });\n};\n\nexport const sectionEndCase = (\n  value: string,\n  startSectionDate: string | undefined,\n): SemesterLength => {\n  const sectionStart = moment(startSectionDate, \"l\");\n  const sectionEnd = moment(value, \"l\");\n  const sectionLength = sectionEnd.diff(sectionStart, \"days\");\n  const startMonth = sectionStart.month();\n  const firstStartMonths = [0, 1, 7, 8]; // Jan, Feb, Aug, Sept\n  if (sectionLength > MAX_HALF_LENGTH) {\n    return SemesterLength.Full;\n  }\n  if (sectionLength > MIN_HALF_LENGTH && sectionLength <= MAX_HALF_LENGTH) {\n    return firstStartMonths.includes(startMonth)\n      ? SemesterLength.HalfFirst\n      : SemesterLength.HalfSecond;\n  }\n  // TODO: Figure out if intensive is A, B, C, or D\n  return SemesterLength.IntensiveA;\n};\n\nexport const prefixCase = (value: string): string[] => {\n  return value.replace(\" \", \"\").split(/[;,]/);\n};\n\nexport const numberDefaultZeroCase = (value: string): number => {\n  return Number.isInteger(Number(value)) ? Number(value) : 0;\n};\n\nexport const durationCase = (value: string): number => {\n  if (Number.isInteger(Number(value))) {\n    return Number(value);\n  }\n  const [startTime, endTime] = value.split(\" \").join(\"\").split(\"-\");\n  const startTimeMoment = moment(startTime, \"h:mma\");\n  const endTimeMoment = moment(endTime, \"h:mma\");\n  return endTimeMoment.diff(startTimeMoment, \"minutes\");\n};\n\nexport const yearCase = (value: string): number | string => {\n  return Number.isInteger(Number(value)) ? Number(value) : value;\n};\n","import React, { ComponentProps, ElementType, FC, forwardRef, ReactNode } from \"react\";\nimport { getChildByName } from \"utilities\";\n\n/* Options props to pass when creating a component. */\ninterface ComponentOptions<T extends ElementType = \"div\"> {\n  Component?: T;\n  defaultProps?: Partial<ComponentProps<T>>;\n  displayName?: string;\n}\n\n/*\nThis function will create a \"pass-through\" component. It is used to create\n  sub-components that return its children so the parent component and arrange those children.\n  The parent affectively can employ \"middleware\" between the child component JSX and the JSX that is\n  rendered. This function was originally from from React-Bootstrap which has been modified under their\n  MIT license.\nRef: https://github.com/react-bootstrap/react-bootstrap/blob/072e7c5fb01b492735a9db2409909058a9976190/src/createWithBsPrefix.tsx#L16\n*/\nexport const createFC = <T extends ElementType = \"div\">(\n  prefix: string,\n  { displayName = prefix, Component, defaultProps }: ComponentOptions<T> = {},\n): FC<{}> => {\n  const subComponent = forwardRef(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ({ className, as: Tag = Component || \"div\", ...props }: any, ref) => {\n      return <Tag ref={ref} className={`${className}`} {...props} />;\n    },\n  );\n  subComponent.defaultProps = defaultProps;\n  subComponent.displayName = displayName;\n  return subComponent as FC<{}>;\n};\n\ntype Alternatives = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  alternatives?: any;\n};\n\n/*\nReturns an iterable from a \"runtypes\" union.\nRef: https://github.com/microsoft/TypeScript/issues/13542#issuecomment-282762530\n*/\nconst getUnionTypeIterable = <T extends Alternatives>(type: T): string[] => {\n  return type.alternatives.map((literal: { value: string }) => {\n    return literal.value;\n  });\n};\n\ntype Elements<T extends string> = { [key in T]?: JSX.Element };\n\n/* This gets the JSX.Elements from the children of a component and return them in an object\nRef: https://stackoverflow.com/questions/53813188/how-can-i-cast-custom-type-to-primitive-type\n*/\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getElements = <T extends string>(children: ReactNode, type: any) => {\n  const elements: Elements<T> = {};\n  getUnionTypeIterable<T & Alternatives>(type).forEach((it: string) => {\n    // eslint-disable-next-line prefer-destructuring\n    elements[(it as unknown) as T] = getChildByName(children, it)[0];\n  });\n  return elements;\n};\n","import { cloneDeep } from \"lodash\";\nimport papa from \"papaparse\";\nimport { Course, emptyCourse, emptySection, Meeting, Schedule, Section } from \"utilities\";\nimport { getCourse, getSection } from \"utilities/services\";\nimport * as cf from \"./caseFunctions\";\n\ninterface ValidFields {\n  [key: string]: (value: string, data: cf.CaseCallbackParams) => void;\n}\n\nconst pruimSpreadsheetFields: ValidFields = {\n  anticipatedSize: cf.anticipatedSizeCallback,\n  comments: cf.commentsCallback,\n  days: cf.daysCallback,\n  duration: cf.durationCallback,\n  facultyHours: cf.facultyHoursCallback,\n  globalMax: cf.globalMaxCallback,\n  half: cf.semesterLengthCallback,\n  instructor: cf.instructorCallback,\n  instructors: cf.instructorCallback,\n  localMax: cf.localMaxCallback,\n  location: cf.locationCallback,\n  name: cf.nameCallback,\n  number: cf.numberCallback,\n  prefix: cf.prefixCallback,\n  prefixes: cf.prefixCallback,\n  roomCapacity: cf.roomCapacityCallback,\n  section: cf.letterCallback,\n  semesterLength: cf.semesterLengthCallback,\n  startTime: cf.startTimeCallback,\n  startTimeStr: cf.startTimeCallback,\n  studentHours: cf.studentHoursCallback,\n  term: cf.termCallback,\n  year: cf.yearCallback,\n};\n\nconst registrarSpreadsheetFields: ValidFields = {\n  AcademicYear: cf.yearCallback,\n  BuildingAndRoom: cf.locationCallback,\n  CourseNum: cf.numberCallback,\n  Faculty: cf.instructorCallback,\n  FacultyLoad: cf.facultyHoursCallback,\n  GlobalMax: cf.globalMaxCallback,\n  LocalMax: cf.localMaxCallback,\n  MeetingDays: cf.daysCallback,\n  MeetingStart: cf.startTimeCallback,\n  MeetingTime: cf.durationCallback,\n  MinimumCredits: cf.studentHoursCallback,\n  RoomCapacity: cf.roomCapacityCallback,\n  SectionCode: cf.letterCallback,\n  SectionEndDate: cf.sectionEndCallback,\n  SectionStartDate: cf.sectionStartCallback,\n  ShortTitle: cf.nameCallback,\n  SubjectCode: cf.prefixCallback,\n  Term: cf.termCallback,\n  Used: cf.anticipatedSizeCallback,\n};\n\nconst callbacks: ValidFields = {\n  ...pruimSpreadsheetFields,\n  ...registrarSpreadsheetFields,\n};\n\nexport const csvStringToSchedule = (csvString: string): Schedule => {\n  const objects: papa.ParseResult<never> = papa.parse(csvString, {\n    header: true,\n    skipEmptyLines: true,\n  });\n\n  // Define variables for Schedule creation\n  const schedule: Schedule = {\n    courses: [],\n  };\n\n  // Get data and fields from the CSV\n  const { data, meta } = objects;\n  const { fields } = meta;\n\n  // Parse each row of the CSV as an object\n  data.forEach((object) => {\n    // Reset defaults\n    const section = cloneDeep(emptySection);\n    const meetings: Meeting[] = [];\n    const course: Course = cloneDeep(emptyCourse);\n\n    // Iterate through the fields of the CSV, and parse their values for this object\n    if (fields) {\n      fields.forEach((field) => {\n        const value = String(object[field]);\n        field = field.replace(/\\s/g, \"\");\n        if (field in callbacks) {\n          callbacks[field as keyof ValidFields](value, { course, meetings, section });\n        }\n      });\n\n      // Insert the Section to the Schedule, either as a new Course or to an existing Course\n      section.meetings = meetings;\n      insertSectionCourse(schedule, section, course);\n    }\n  });\n  return schedule;\n};\n\nexport const insertSectionCourse = (schedule: Schedule, section: Section, course: Course) => {\n  const { meetings } = section;\n\n  // Check if any meetings are empty, and should be removed\n  // TODO: What about TBA meetings where the location is specified but not the time\n  //       (currently allowing these causes the app to crash)\n  section.meetings = meetings.filter((meeting) => {\n    return meeting.days.length > 0 && meeting.duration > 0;\n  });\n\n  // Check if there is already a course in the schedule with the same prefix and number\n  const existingCourse = getCourse(schedule, course.prefixes, course.number);\n\n  // If there is, first check if there is already a section for that course with the same letter and term\n  if (existingCourse) {\n    const existingCourseIndex = schedule.courses.indexOf(existingCourse);\n    const existingSection = getSection(\n      schedule,\n      course.prefixes,\n      course.number,\n      section.letter,\n      section.term,\n    );\n\n    // If there is, add the new meeting(s) to the existing course\n    if (existingSection) {\n      const existingSectionIndex = schedule.courses[existingCourseIndex].sections.indexOf(\n        existingSection,\n      );\n      // TODO: Avoid duplicate meetings?\n      schedule.courses[existingCourseIndex].sections[\n        existingSectionIndex\n      ].meetings = schedule.courses[existingCourseIndex].sections[\n        existingSectionIndex\n      ].meetings.concat(section.meetings);\n    }\n    // Otherwise, add the new section to the existing course\n    else {\n      schedule.courses[existingCourseIndex].sections.push(section);\n    }\n  }\n  // Otherwise, add the new course to the schedule\n  else {\n    course.sections.push(section);\n    schedule.courses.push(course);\n  }\n};\n","import { Children, ReactNode } from \"react\";\n\n/* Create an iterable from an enumeration */\nexport const enumArray = <T>(e: T) => {\n  return Object.keys(e).map((val) => {\n    return e[val as keyof typeof e];\n  });\n};\n\n/* a no-op fn used for default values */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const voidFn = () => {};\n\n/* Method of getting a child component by their display name.\n  Used in sub-components.\n*/\nexport const getChildByName = (children: ReactNode, displayName: string) => {\n  return Children.map(children as JSX.Element[], (child: JSX.Element) => {\n    return child?.type.displayName === displayName ? child : null;\n  });\n};\n","import { Schedule } from \"utilities/interfaces\";\n\nexport const scheduleToCSVString = (schedule: Schedule): string => {\n  let csvStr =\n    \"name,prefixes,number,section,studentHours,facultyHours,startTime,duration,location,roomCapacity,year,term,semesterLength,days,globalMax,localMax,anticipatedSize,instructors,comments\";\n  schedule.courses.forEach((course) => {\n    course.sections.forEach((section) => {\n      // Iterate through meetings to construct relevant strings\n      let startTimeStr = \"\";\n      let durationStr = \"\";\n      let locationStr = \"\";\n      let roomCapacityStr = \"\";\n      let daysStr = \"\";\n      section.meetings.forEach((meeting) => {\n        startTimeStr += `${meeting.startTime}\\n`;\n        durationStr += `${meeting.duration}\\n`;\n        locationStr += meeting.location.roomNumber\n          ? `${meeting.location.building} ${meeting.location.roomNumber}\\n`\n          : `${meeting.location.building}\\n`;\n        roomCapacityStr += `${meeting.location.roomCapacity}\\n`;\n        daysStr += `${meeting.days.join(\"\")}\\n`;\n      });\n      // Remove trailing newlines\n      startTimeStr = startTimeStr.slice(0, -1);\n      durationStr = durationStr.slice(0, -1);\n      locationStr = locationStr.slice(0, -1);\n      roomCapacityStr = roomCapacityStr.slice(0, -1);\n      daysStr = daysStr.slice(0, -1);\n      // TODO: Be wary of commas in strings?\n      csvStr += `\\n\"${course.name}\",${course.prefixes.join(\";\")},${course.number},${\n        section.letter\n      },${section.studentHours ?? course.studentHours},${\n        section.facultyHours ?? course.facultyHours\n      },\"${startTimeStr}\",\"${durationStr}\",\"${locationStr}\",\"${roomCapacityStr}\",${section.year},${\n        section.term\n      },${section.semesterLength},\"${daysStr}\",${section.globalMax},${section.localMax},${\n        section.anticipatedSize\n      },${section.instructors.join(\";\")},${section.comments},`;\n    });\n  });\n  return csvStr;\n};\n","import download from \"js-file-download\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport { scheduleToCSVString } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\n/* Hook that downloads the current schedule when onExportClick\n is executed. */\nexport const useExportCSV = () => {\n  const {\n    appState: { schedule },\n  } = useContext(AppContext);\n\n  const onExportClick = () => {\n    // TODO: maybe generate a cool title like schedule-fall-2020.csv\n    download(scheduleToCSVString(schedule), `schedule_${moment().format()}.csv`);\n  };\n  return onExportClick;\n};\n","import { isEqual } from \"lodash\";\nimport { ChangeEvent, useContext } from \"react\";\nimport { csvStringToSchedule } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\n// A closure with statefulness. Used to handle changes to inputs\nexport const useImportFile = () => {\n  const {\n    appState: { schedule },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n\n  // TODO: this only runs when input changes, but if the same file\n  // is uploaded, this will not run.\n  // https://stackoverflow.com/questions/5201317/read-the-contents-of-a-file-object\n  const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setIsCSVLoading(true);\n    const file: Blob | null = e.target.files && e.target.files[0];\n    const read = new FileReader();\n    file && read.readAsBinaryString(file);\n\n    read.onloadend = async () => {\n      const scheduleJSON = csvStringToSchedule(String(read.result));\n      // TODO: store in local storage incase prof navigates away while editing.\n      // currently a redundant check\n      if (!isEqual(schedule, scheduleJSON)) {\n        await appDispatch({ payload: { schedule: scheduleJSON }, type: \"setScheduleData\" });\n      }\n      setIsCSVLoading(false);\n    };\n  };\n\n  return onInputChange;\n};\n","import { AppAction, AppState, Term } from \"utilities/interfaces\";\nimport { getMinAndMaxTimes, getProfs, getRooms } from \"utilities/services\";\n\n/*\n  Provides a function to perform multiple setState updates\n  at once that depend on each other.\n*/\nexport const reducer = (state: AppState, action: AppAction): AppState => {\n  switch (action.type) {\n    case \"setScheduleData\": {\n      let { schedule } = action.payload;\n      schedule = schedule || { courses: [] };\n      const times = getMinAndMaxTimes(schedule);\n      return {\n        ...state,\n        professors: getProfs(schedule),\n        rooms: getRooms(schedule),\n        schedule,\n        slotMaxTime: times.maxTime,\n        slotMinTime: times.minTime,\n      };\n    }\n    case \"setSelectedTerm\": {\n      let { term } = action.payload;\n      term = term || Term.Fall;\n      return { ...state, selectedTerm: term };\n    }\n    default:\n      return state;\n  }\n};\n","module.exports = __webpack_public_path__ + \"static/media/CalvinUniv-vert-full-color-inverse.255efbf6.png\";","import { filter, indexOf, isEqual } from \"lodash\";\nimport {\n  Course,\n  Half,\n  insertSectionCourse,\n  instructorCase,\n  Intensive,\n  locationCase,\n  prefixCase,\n  Schedule,\n  Section,\n  SemesterLength,\n  SemesterLengthOption,\n  startTimeCase,\n} from \"utilities\";\nimport { Instructor, Location, Meeting, Prefix } from \"utilities/interfaces\";\nimport { array, object } from \"yup\";\n\n// Defines interface for the section popover input\nexport interface SectionInput {\n  anticipatedSize: Section[\"anticipatedSize\"];\n  comments: Section[\"comments\"];\n  days: Meeting[\"days\"];\n  duration: Meeting[\"duration\"];\n  facultyHours: Section[\"facultyHours\"];\n  globalMax: Section[\"globalMax\"];\n  half: Half;\n  instructor: Instructor;\n  intensive?: Intensive;\n  localMax: Section[\"localMax\"];\n  location: string;\n  name: Course[\"name\"];\n  number: Course[\"number\"];\n  prefix: Prefix;\n  roomCapacity: Location[\"roomCapacity\"];\n  section: Section[\"letter\"];\n  semesterLength: SemesterLengthOption;\n  startTime: Meeting[\"startTime\"];\n  studentHours: Section[\"studentHours\"];\n  term: Section[\"term\"];\n}\n\nexport const convertFromSemesterLength = (sl: SemesterLength | undefined): SemesterLengthOption => {\n  if (sl === SemesterLength.Full || !sl) {\n    return SemesterLengthOption.FullSemester;\n  }\n  if (sl === SemesterLength.HalfFirst || sl === SemesterLength.HalfSecond) {\n    return SemesterLengthOption.HalfSemester;\n  }\n\n  return SemesterLengthOption.IntensiveSemester;\n};\n\nexport const convertToSemesterLength = (\n  sl: Half | Intensive | SemesterLengthOption,\n): SemesterLength => {\n  switch (sl) {\n    case Half.First:\n      return SemesterLength.HalfFirst;\n    case Half.Second:\n      return SemesterLength.HalfSecond;\n    case Intensive.A:\n      return SemesterLength.IntensiveA;\n    case Intensive.B:\n      return SemesterLength.IntensiveB;\n    case Intensive.C:\n      return SemesterLength.IntensiveC;\n    case Intensive.D:\n      return SemesterLength.IntensiveD;\n    default:\n      return SemesterLength.Full;\n  }\n};\n\n// Remove false values from days array. Used by useForm()\nexport const schema = object().shape({\n  days: array().transform((d) => {\n    return d.filter((day: boolean | string) => {\n      return day;\n    });\n  }),\n});\n\nexport const getSectionName = (course: Course, section: Section) => {\n  return `${course.prefixes[0]}-${course.number}-${section.letter}`;\n};\n\nexport const getCourse = (\n  schedule: Schedule,\n  prefixes: Course[\"prefixes\"],\n  number: Course[\"number\"],\n) => {\n  const courses = filter(schedule.courses, (course) => {\n    return isEqual(course.prefixes, prefixes) && course.number === number;\n  });\n  return courses.length > 0 ? courses[0] : undefined;\n};\n\nexport const getSection = (\n  schedule: Schedule,\n  prefixes: Course[\"prefixes\"],\n  number: Course[\"number\"],\n  letter: Section[\"letter\"],\n  term: Section[\"term\"],\n) => {\n  const course = getCourse(schedule, prefixes, number);\n  const sections = filter(course?.sections, (section) => {\n    return section.letter === letter && section.term === term;\n  });\n  return sections.length > 0 ? sections[0] : undefined;\n};\n\nexport const removeSection = (\n  schedule: Schedule,\n  letter: Section[\"letter\"],\n  term: Section[\"term\"],\n  courseIndex: number,\n) => {\n  schedule.courses[courseIndex].sections = filter(\n    schedule.courses[courseIndex].sections,\n    (section) => {\n      return section.letter !== letter || section.term !== term;\n    },\n  );\n};\n\n/* Used to map the input from the popover form to the\n internal JSON object type.  */\nexport const mapInputToInternalTypes = (data: SectionInput) => {\n  const location = locationCase(data.location);\n  const semesterType = convertToSemesterLength(data.intensive || data.half || data.semesterLength);\n  const newSection: Section = {\n    anticipatedSize: Number(data.anticipatedSize),\n    comments: data.comments,\n    facultyHours: Number(data.facultyHours),\n    globalMax: Number(data.globalMax),\n    instructors: instructorCase(data.instructor),\n    letter: data.section,\n    localMax: Number(data.localMax),\n    meetings: [\n      {\n        days: data.days,\n        duration: Number(data.duration),\n        location: {\n          building: location[0],\n          roomCapacity: Number(data.roomCapacity),\n          roomNumber: location[1],\n        },\n        startTime: startTimeCase(data.startTime),\n      },\n    ],\n    semesterLength: semesterType,\n    studentHours: Number(data.studentHours),\n    term: data.term,\n    year: \"2021-2022\",\n  };\n\n  const newCourse: Course = {\n    facultyHours: Number(data.facultyHours),\n    name: data.name,\n    number: data.number,\n    prefixes: prefixCase(data.prefix),\n    // The newSection will be added later in insertSectionCourse()\n    sections: [],\n    studentHours: Number(data.studentHours),\n  };\n  return { newCourse, newSection };\n};\n\n// Update the schedule via pass by sharing.\nexport const updateScheduleWithNewSection = (data: SectionInput, schedule: Schedule) => {\n  const {\n    newSection,\n    newCourse,\n  }: { newCourse: Course; newSection: Section } = mapInputToInternalTypes(data);\n\n  // Remove the old version of the Section if there is one\n  const oldSection = getSection(\n    schedule,\n    newCourse.prefixes,\n    newCourse.number,\n    newSection.letter,\n    newSection.term,\n  );\n  if (oldSection) {\n    const oldCourse = getCourse(schedule, newCourse.prefixes, newCourse.number);\n    const courseIndex = indexOf(schedule.courses, oldCourse);\n    removeSection(schedule, newSection.letter, newSection.term, courseIndex);\n  }\n\n  // Insert the Section to the Schedule, either as a new Course or to an existing Course\n  insertSectionCourse(schedule, newSection, newCourse);\n};\n","import forEach from \"lodash/forEach\";\nimport { Schedule } from \"utilities\";\n\n// Get list of unique professors.\nexport const getProfs = (schedule: Schedule): string[] => {\n  const professorsSet = new Set<string>();\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      forEach(section.instructors, (prof) => {\n        professorsSet.add(prof);\n      });\n    });\n  });\n  return [...professorsSet];\n};\n","import forEach from \"lodash/forEach\";\nimport { Schedule } from \"utilities\";\n\n// Get list of unique rooms.\nexport const getRooms = (schedule: Schedule): string[] => {\n  const roomsSet = new Set<string>();\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      forEach(section.meetings, ({ location }) => {\n        roomsSet.add(`${location.building} ${location.roomNumber}`);\n      });\n    });\n  });\n  return [...roomsSet];\n};\n","import { EventInput } from \"@fullcalendar/react\";\nimport { filter, flatten, forEach, forOwn, map, maxBy, minBy, range } from \"lodash\";\nimport moment from \"moment\";\nimport { enumArray } from \"utilities\";\nimport { INITIAL_DATE } from \"utilities/constants\";\nimport { Day, Meeting, Schedule, Section, Term } from \"utilities/interfaces\";\n\n// Returns a list of hours to display on the Schedule\n// TODO: add better types for timing, maybe: https://stackoverflow.com/questions/51445767/how-to-define-a-regex-matched-string-type-in-typescript\nexport const getHoursArr = (min: string, max: string): number[] => {\n  const minHour = parseInt(min.split(\":\")[0]);\n  const maxHour = parseInt(max.split(\":\")[0]);\n  return range(minHour, maxHour);\n};\n\nexport interface GroupedEvents {\n  [key: string]: EventInput[];\n}\n\nconst eventExistsInEventList = (event: EventInput, eventList: EventInput[]): boolean => {\n  return eventList.some((e) => {\n    return e.title === event.title && e.start === event.start && e.end === event.end;\n  });\n};\n\n// TODO: Add events with no meeting times as all day\nexport const getEvents = (schedule: Schedule, groups: \"faculty\" | \"room\"): GroupedEvents => {\n  const events: GroupedEvents = {};\n  const days: Day[] = enumArray(Day);\n  forEach(schedule.courses, (course) => {\n    forEach(course.sections, (section) => {\n      const sectionName = `${course.prefixes[0]}-${course.number}-${section.letter}`;\n      forEach(section.instructors, (prof) => {\n        forEach(section.meetings, (meeting) => {\n          const room = `${meeting.location.building} ${meeting.location.roomNumber}`;\n          const group = groups === \"faculty\" ? prof : room;\n          const startTimeMoment = moment(meeting.startTime, \"h:mma\");\n          const endTimeMoment = moment(startTimeMoment).add(meeting.duration, \"minutes\");\n          forEach(meeting.days, (day) => {\n            const dayOfWeek = moment(INITIAL_DATE)\n              .add(days.indexOf(day) + 1, \"days\")\n              .format(\"YYYY-MM-DD\");\n            const newEvent: EventInput = {\n              description: course.name,\n              end: `${dayOfWeek}T${endTimeMoment.format(\"HH:mm\")}`,\n              extendedProps: {\n                course,\n                meeting,\n                section,\n              },\n              start: `${dayOfWeek}T${startTimeMoment.format(\"HH:mm\")}`,\n              title: sectionName,\n            };\n            if (events[group]) {\n              // Only add the event if it hasn't already been added\n              if (!eventExistsInEventList(newEvent, events[group])) {\n                events[group].push(newEvent);\n              }\n            } else {\n              events[group] = [newEvent];\n            }\n          });\n        });\n      });\n    });\n  });\n  return events;\n};\n\nexport const getMinAndMaxTimes = (schedule: Schedule) => {\n  const sections: Section[] = flatten(map(schedule.courses, \"sections\"));\n  const meetings: Meeting[] = flatten(map(sections, \"meetings\"));\n  const startTimes = map(meetings, (meeting) => {\n    return moment(meeting.startTime, \"h:mma\");\n  });\n  const endTimes = map(meetings, (meeting) => {\n    return moment(meeting.startTime, \"h:mma\").add(meeting.duration, \"minutes\");\n  });\n  const minTime = minBy(startTimes)?.format(\"HH:mm\") || \"6:00\";\n  const maxTime = maxBy(endTimes)?.format(\"HH:mm\") || \"22:00\";\n  return {\n    maxTime,\n    minTime,\n  };\n};\n\nexport const filterEventsByTerm = (groupedEvents: GroupedEvents, term: Term) => {\n  const tempGroupedEvents: GroupedEvents = {};\n  forOwn(groupedEvents, (_, key) => {\n    tempGroupedEvents[key] = filter(groupedEvents[key], (e) => {\n      return e.extendedProps?.section.term === term;\n    });\n  });\n  return tempGroupedEvents;\n};\n\nexport const filterHeadersWithNoEvents = (filteredEvents: GroupedEvents, headers: string[]) => {\n  return filter(headers, (header) => {\n    const groupEvents = filteredEvents[header];\n    return groupEvents?.length > 0;\n  });\n};\n","import React from \"react\";\n\nexport const AboutPage = () => {\n  return <>About</>;\n};\n","import React from \"react\";\n\nexport const HelpPage = () => {\n  return <>Help</>;\n};\n","import { Tabs } from \"components\";\nimport React from \"react\";\n\nexport const SchedulizerPage = () => {\n  return (\n    <>\n      <Tabs />\n    </>\n  );\n};\n","import { Header } from \"components\";\nimport { AboutPage, HelpPage, SchedulizerPage } from \"components/pages\";\nimport React, { useReducer, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { initialAppState, reducer } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport \"./App.scss\";\n\nexport const App = () => {\n  const [isCSVLoading, setIsCSVLoading] = useState(false);\n  const [appState, appDispatch] = useReducer(reducer, initialAppState);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <AppContext.Provider value={{ appDispatch, appState, isCSVLoading, setIsCSVLoading }}>\n          <Switch>\n            <Route path=\"/about\">\n              <AboutPage />\n            </Route>\n            <Route path=\"/help\">\n              <HelpPage />\n            </Route>\n            <Route path=\"/\">\n              <SchedulizerPage />\n            </Route>\n          </Switch>\n        </AppContext.Provider>\n      </Router>\n    </div>\n  );\n};\n","import CalvinLogo from \"./CalvinUniv-vert-full-color-inverse.png\";\n\nexport const logo = CalvinLogo;\n","import { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport Link from \"@material-ui/core/Link\";\nimport { logo } from \"assets\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport \"./Header.scss\";\n\n/* Header is the top bar that persists across the app */\nexport const Header = () => {\n  return (\n    <AppBar position=\"static\">\n      <Toolbar className=\"toolbar\">\n        <RouterLink className=\"toolbar-group title\" to=\"/\">\n          <img alt=\"Org Logo\" className=\"org-logo\" src={logo} />\n          <Typography variant=\"h6\">Course Schedulizer</Typography>\n        </RouterLink>\n        <Typography className=\"toolbar-group links\">\n          <Link component={RouterLink} to=\"/\">\n            Schedulizer\n          </Link>\n          <Link component={RouterLink} to=\"/about\">\n            About\n          </Link>\n          <Link component={RouterLink} to=\"/help\">\n            Help\n          </Link>\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import { Button, ButtonProps, IconButton, Popover } from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\nimport { AddSectionPopover } from \"components\";\nimport { bindPopover, bindTrigger, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React from \"react\";\nimport \"./AddSectionButton.scss\";\n\ninterface AddSectionButton extends ButtonProps {\n  isIcon?: boolean;\n}\n\nexport const AddSectionButton = (props: AddSectionButton) => {\n  const popupState = usePopupState({\n    popupId: \"addSection\",\n    variant: \"popover\",\n  });\n  const { isIcon, ...buttonProps } = props;\n\n  return (\n    <>\n      {isIcon ? (\n        <IconButton {...bindTrigger(popupState)}>\n          <Add />\n        </IconButton>\n      ) : (\n        <Button color=\"secondary\" variant=\"contained\" {...buttonProps} {...bindTrigger(popupState)}>\n          Add Section\n        </Button>\n      )}\n      <Popover\n        {...bindPopover(popupState)}\n        anchorOrigin={{\n          horizontal: \"left\",\n          vertical: \"bottom\",\n        }}\n        PaperProps={{ style: { minWidth: \"500px\" } }}\n        transformOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n      >\n        <AddSectionPopover />\n      </Popover>\n    </>\n  );\n};\n\nAddSectionButton.defaultProps = {\n  isIcon: true,\n};\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport { GridItemCheckboxGroup, GridItemRadioGroup, GridItemTextField } from \"components\";\nimport moment from \"moment\";\nimport React, { ChangeEvent, useContext, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  convertFromSemesterLength,\n  schema,\n  SectionInput,\n  updateScheduleWithNewSection,\n} from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport {\n  CourseSectionMeeting,\n  Day,\n  Half,\n  Intensive,\n  SemesterLength,\n  SemesterLengthOption,\n  Term,\n  Weekday,\n} from \"utilities/interfaces\";\nimport \"./AddSectionPopover.scss\";\n\ninterface AddSectionPopover {\n  values?: CourseSectionMeeting;\n}\nconst SPACING = 2;\n\n/* A form to input information to add a schedule */\nexport const AddSectionPopover = ({ values }: AddSectionPopover) => {\n  const {\n    appState: { schedule },\n    appDispatch,\n    setIsCSVLoading,\n  } = useContext(AppContext);\n  const { register, handleSubmit, control } = useForm<SectionInput>({\n    resolver: yupResolver(schema),\n  });\n  const [semesterLength, setSemesterLength] = useState<SemesterLengthOption>(\n    convertFromSemesterLength(values?.section.semesterLength).toLowerCase() as SemesterLengthOption,\n  );\n\n  // handlers\n  const onSubmit = (data: SectionInput) => {\n    setIsCSVLoading(true);\n    updateScheduleWithNewSection(data, schedule);\n    appDispatch({ payload: { schedule }, type: \"setScheduleData\" });\n    setIsCSVLoading(false);\n  };\n  const onSemesterLengthChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setSemesterLength(e.target.value as SemesterLengthOption);\n  };\n\n  const isHalfSemester = semesterLength === SemesterLengthOption.HalfSemester;\n  const isIntensiveSemester = semesterLength === SemesterLengthOption.IntensiveSemester;\n  const isCustomSemester = semesterLength === SemesterLengthOption.CustomSemester;\n\n  const locationValue =\n    (values && `${values?.meeting.location.building} ${values?.meeting.location.roomNumber}`) || \"\";\n\n  return (\n    <form className=\"popover-container\">\n      <Box mb={SPACING}>\n        <Typography className=\"popover-title\" variant=\"h4\">\n          Add Section\n        </Typography>\n      </Box>\n      <Grid container spacing={SPACING}>\n        {/* TODO: Dropdown for courses already in system */}\n        <GridItemTextField\n          label=\"Prefix\"\n          register={register}\n          textFieldProps={{ autoFocus: true }}\n          value={values?.course.prefixes.join()}\n        />\n        <GridItemTextField label=\"Number\" register={register} value={values?.course.number} />\n        <GridItemTextField label=\"Section\" register={register} value={values?.section.letter} />\n        <GridItemTextField label=\"Name\" register={register} value={values?.course.name} />\n        <Grid item xs>\n          <span>{/* TODO: add error messages? */}</span>\n        </Grid>\n      </Grid>\n      <Grid container spacing={SPACING}>\n        {/* TODO: Dropdown for instructors with option to add new one */}\n        <GridItemTextField\n          label=\"Instructor\"\n          register={register}\n          value={values?.section.instructors.join()}\n        />\n        {/* TODO: Dropdown for rooms with option to add new one */}\n        <GridItemTextField label=\"Location\" register={register} value={locationValue} />\n        <GridItemTextField\n          label=\"Room Capacity\"\n          register={register}\n          textFieldProps={{ name: \"roomCapacity\" }}\n          value={(values?.meeting.location.roomCapacity || \"\").toString()}\n        />\n        <GridItemTextField\n          label=\"Faculty Hours\"\n          register={register}\n          textFieldProps={{ name: \"facultyHours\" }}\n          value={(values?.section.facultyHours || values?.course.facultyHours || \"\").toString()}\n        />\n        <GridItemTextField\n          label=\"Student Hours\"\n          register={register}\n          textFieldProps={{ name: \"studentHours\" }}\n          value={(values?.section.studentHours || values?.course.studentHours || \"\").toString()}\n        />\n      </Grid>\n      <Grid container spacing={SPACING}>\n        <GridItemTextField\n          label=\"Anticipated Size\"\n          register={register}\n          textFieldProps={{ name: \"anticipatedSize\" }}\n          value={(values?.section.anticipatedSize || \"\").toString()}\n        />\n        <GridItemTextField\n          label=\"Local Max\"\n          register={register}\n          textFieldProps={{ name: \"localMax\" }}\n          value={(values?.section.localMax || \"\").toString()}\n        />\n        <GridItemTextField\n          label=\"Global Max\"\n          register={register}\n          textFieldProps={{ name: \"globalMax\" }}\n          value={(values?.section.globalMax || \"\").toString()}\n        />\n        <GridItemTextField\n          label=\"Start Time\"\n          register={register}\n          textFieldProps={{ fullWidth: true, name: \"startTime\", type: \"time\" }}\n          value={\n            values?.meeting.startTime\n              ? moment(values?.meeting.startTime, \"h:mma\").format(\"HH:mm\")\n              : \"08:00\"\n          }\n        />\n        <GridItemTextField\n          label=\"Duration\"\n          register={register}\n          textFieldProps={{\n            InputProps: {\n              endAdornment: <InputAdornment position=\"end\">min</InputAdornment>,\n            },\n          }}\n          value={(values?.meeting.duration || \"\").toString()}\n        />\n      </Grid>\n      <Grid container spacing={SPACING}>\n        <GridItemCheckboxGroup\n          label=\"Days\"\n          options={Object.values(Day).filter((day) => {\n            return Object.values(Weekday).includes(day);\n          })}\n          register={register}\n          value={values?.meeting.days}\n        />\n        <GridItemRadioGroup\n          control={control}\n          defaultValue={values?.section.term || Term.Fall}\n          label=\"Term\"\n          options={Object.values(Term)}\n          register={register}\n        />\n        <GridItemRadioGroup\n          control={control}\n          defaultValue={convertFromSemesterLength(values?.section.semesterLength)}\n          label=\"Semester Length\"\n          onChange={onSemesterLengthChange}\n          options={Object.values(SemesterLengthOption)}\n          register={register}\n        />\n        <Grid item xs>\n          {isHalfSemester && (\n            <GridItemRadioGroup\n              control={control}\n              defaultValue={values?.section.semesterLength || SemesterLength.HalfFirst}\n              label=\"Half Semester\"\n              lowercase\n              name=\"half\"\n              options={Object.values(SemesterLength).filter((h) => {\n                return Object.values(Half).includes(h);\n              })}\n              register={register}\n            />\n          )}\n          {isIntensiveSemester && (\n            <GridItemRadioGroup\n              control={control}\n              defaultValue={values?.section.semesterLength || SemesterLength.IntensiveA}\n              label=\"Intensive Semester\"\n              name=\"intensive\"\n              options={Object.values(SemesterLength).filter((i) => {\n                return Object.values(Intensive).includes(i);\n              })}\n              register={register}\n            />\n          )}\n          {isCustomSemester && (\n            <Grid container direction=\"column\" spacing={SPACING}>\n              {/* TODO: add support for custom */}\n              <GridItemTextField\n                label=\"Start Date\"\n                register={register}\n                textFieldProps={{\n                  defaultValue: \"2020-20-20\",\n                  disabled: true,\n                  fullWidth: true,\n                  // type: \"date\",\n                }}\n              />\n              <GridItemTextField\n                label=\"End Date\"\n                register={register}\n                textFieldProps={{\n                  defaultValue: \"2020-20-20\",\n                  disabled: true,\n                  // type: \"date\",\n                }}\n              />\n              <Typography variant=\"caption\">\n                Custom semester lengths are not support yet.\n              </Typography>\n            </Grid>\n          )}\n        </Grid>\n        <GridItemTextField\n          label=\"Notes\"\n          register={register}\n          textFieldProps={{ multiline: true, name: \"comments\", rows: 4 }}\n          value={values?.section.comments}\n        />\n      </Grid>\n      <Grid alignItems=\"flex-end\" container justify=\"space-between\">\n        <Grid item>\n          <Typography variant=\"caption\">\n            Tip: use <b>tab</b> and <b>shift + tab</b> to navigate, <b>space bar</b> to select days,{\" \"}\n            <b>arrow keys</b> to select term and others, and <b>return</b> to submit.\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Button color=\"primary\" onClick={handleSubmit(onSubmit)} variant=\"contained\">\n            Submit\n          </Button>\n        </Grid>\n      </Grid>\n    </form>\n  );\n};\n\nAddSectionPopover.defaultProps = {\n  values: undefined,\n};\n","import React, { FC, PropsWithChildren } from \"react\";\nimport { Literal, Static, Union } from \"runtypes\";\nimport { createFC, getElements } from \"utilities\";\n\ninterface AsyncComponent {\n  isLoading: boolean;\n}\n\n// Define the runtype\nconst SubComponents = Union(Literal(\"Loading\"), Literal(\"Loaded\"));\n\n// Some boiler plate to get useable types.\ntype SubComponents = Static<typeof SubComponents>;\ntype AsyncSubComponents = { [key in SubComponents]: FC<{}> };\n\n/*\n  Show a loading state while waiting on a async function to finish.\n\n  Usage:\n  <AsyncComponent isLoading={boolean}>\n    <AsyncComponent.Loading>\n      content to display while loading\n    </AsyncComponent.Loading>\n    <AsyncComponent.Loaded>\n      content to display when loading is complete\n    </AsyncComponent.Loaded>\n  </AsyncComponent>\n\n  References:\n    - https://stackoverflow.com/a/56953600/9931154\n    - https://dev.to/shayanypn/buckle-with-react-sub-component-10ll\n*/\nexport const AsyncComponent: FC<AsyncComponent> & AsyncSubComponents = ({\n  children,\n  isLoading,\n}: PropsWithChildren<AsyncComponent>) => {\n  const { Loading, Loaded } = getElements(children, SubComponents);\n\n  return <>{isLoading ? <>{Loading}</> : <>{Loaded}</>}</>;\n};\n\n// Define sub-components.\nAsyncComponent.Loading = createFC(\"Loading\");\nAsyncComponent.Loaded = createFC(\"Loaded\");\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport FullCalendar from \"01/../@fullcalendar/react\";\nimport { CalendarOptions } from \"@fullcalendar/common\";\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport React from \"react\";\nimport { INITIAL_DATE } from \"utilities/constants\";\nimport \"./Calendar.scss\";\n\nexport const Calendar = (props: CalendarOptions) => {\n  return (\n    <>\n      <FullCalendar {...props} />\n    </>\n  );\n};\n\nCalendar.defaultProps = {\n  allDaySlot: false,\n  dayHeaderFormat: { weekday: \"short\" },\n  droppable: false,\n  editable: false, // TODO: Change to true if we can lock section meeting times\n  headerToolbar: false,\n  height: \"auto\",\n  initialDate: INITIAL_DATE,\n  initialView: \"timeGridWeek\",\n  nowIndicator: false,\n  plugins: [interactionPlugin, timeGridPlugin],\n  selectable: true,\n  slotMaxTime: \"22:00:00\",\n  slotMinTime: \"6:00:00\",\n  weekends: false,\n};\n","import { Checkbox, FormControlLabel, FormLabel, Grid } from \"@material-ui/core\";\nimport { camelCase } from \"lodash\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport \"./GridItemCheckboxGroup.scss\";\n\ninterface GridItemCheckboxGroup {\n  label: string;\n  name?: string;\n  options: string[];\n  register: ReturnType<typeof useForm>[\"register\"];\n  value?: string[];\n}\n\nexport const GridItemCheckboxGroup = ({\n  label,\n  name,\n  options,\n  register,\n  value,\n}: GridItemCheckboxGroup) => {\n  return (\n    <Grid item xs>\n      <FormLabel component=\"legend\">{label}</FormLabel>\n      <Grid container direction=\"column\">\n        {options.map((o, i) => {\n          return (\n            <Grid key={o.toLowerCase()} item>\n              <FormControlLabel\n                key={o.toLowerCase()}\n                control={<Checkbox defaultChecked={value?.includes(o)} />}\n                inputRef={register}\n                label={o}\n                name={`${name || camelCase(label)}[${i}]`}\n                value={o}\n              />\n            </Grid>\n          );\n        })}\n      </Grid>\n    </Grid>\n  );\n};\n\nGridItemCheckboxGroup.defaultProps = {\n  name: undefined,\n  value: [],\n};\n","import { FormControlLabel, FormLabel, Grid, Radio, RadioGroup } from \"@material-ui/core\";\nimport { camelCase } from \"lodash\";\nimport React, { ChangeEvent } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport \"./GridItemRadioGroup.scss\";\n\ninterface GridItemRadioGroup {\n  control: ReturnType<typeof useForm>[\"control\"];\n  defaultValue: string;\n  label: string;\n  lowercase?: boolean;\n  name?: string;\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  options: string[];\n  register: ReturnType<typeof useForm>[\"register\"];\n}\n\nexport const GridItemRadioGroup = ({\n  control,\n  defaultValue,\n  label,\n  lowercase,\n  name,\n  onChange,\n  options,\n  register,\n}: GridItemRadioGroup) => {\n  return (\n    <Grid item xs>\n      <FormLabel component=\"legend\">{label}</FormLabel>\n      <Controller\n        ref={register}\n        as={RadioGroup}\n        control={control}\n        defaultValue={defaultValue}\n        name={name || camelCase(label)}\n      >\n        {options.map((o) => {\n          return (\n            <FormControlLabel key={o} control={<Radio onChange={onChange} />} label={o} value={o} />\n          );\n        })}\n      </Controller>\n    </Grid>\n  );\n};\n\nGridItemRadioGroup.defaultProps = {\n  lowercase: false,\n  name: undefined,\n  onChange: undefined,\n};\n","import { Grid, StandardTextFieldProps, TextField } from \"@material-ui/core\";\nimport { camelCase } from \"lodash\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport \"./GridItemTextField.scss\";\n\ninterface GridItemTextField {\n  label: string;\n  register: ReturnType<typeof useForm>[\"register\"];\n  textFieldProps?: StandardTextFieldProps;\n  value?: string;\n}\n\nexport const GridItemTextField = ({\n  label,\n  register,\n  textFieldProps,\n  value,\n}: GridItemTextField) => {\n  return (\n    <Grid item xs>\n      <TextField\n        defaultValue={value}\n        inputRef={register}\n        label={label}\n        name={camelCase(label)}\n        {...textFieldProps}\n        variant=\"outlined\"\n      />\n    </Grid>\n  );\n};\n\nGridItemTextField.defaultProps = {\n  textFieldProps: undefined,\n  value: \"\",\n};\n","import React, { PropsWithChildren } from \"react\";\nimport { useImportFile } from \"utilities\";\n\n/* Wraps whatever children in a label that will capture the click\non the children and open the file explorer to upload a file.\n*/\nexport const ImportInputWrapper = ({ children }: PropsWithChildren<{}>) => {\n  const onInputChange = useImportFile();\n\n  return (\n    <label htmlFor=\"import-button\">\n      <input\n        accept=\".csv\"\n        className=\"hidden\"\n        id=\"import-button\"\n        onChange={onInputChange}\n        type=\"file\"\n      />\n      {children}\n    </label>\n  );\n};\n","import { InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport \"./ColorSelector.scss\";\n\nenum ColorBy {\n  Level,\n  Room,\n  Instructor,\n  Prefix,\n}\n\nexport const ColorSelector = () => {\n  const [colorValue, setColorValue] = useState(ColorBy.Level);\n\n  const handleColorChange = (event: ChangeEvent<{ value: unknown }>) => {\n    setColorValue(event.target.value as ColorBy);\n  };\n\n  return (\n    <div>\n      <InputLabel id=\"label\">Color By</InputLabel>\n      <Select id=\"color-select\" onChange={handleColorChange} value={colorValue}>\n        <MenuItem value={ColorBy.Level}>Level</MenuItem>\n        <MenuItem value={ColorBy.Room}>Room</MenuItem>\n        <MenuItem value={ColorBy.Instructor}>Instructor</MenuItem>\n        <MenuItem value={ColorBy.Prefix}>Prefix</MenuItem>\n      </Select>\n    </div>\n  );\n};\n","import { CalendarOptions, EventClickArg } from \"@fullcalendar/react\";\nimport { Popover } from \"@material-ui/core\";\nimport { AddSectionPopover, AsyncComponent, Calendar, ScheduleToolbar } from \"components\";\nimport { bindPopover, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React, { useCallback, useContext, useMemo, useState } from \"react\";\nimport Stick from \"react-stick\";\nimport StickyNode from \"react-stickynode\";\nimport { CourseSectionMeeting } from \"utilities\";\nimport { AppContext, ScheduleContext } from \"utilities/contexts\";\nimport {\n  filterEventsByTerm,\n  filterHeadersWithNoEvents,\n  getHoursArr,\n  GroupedEvents,\n} from \"utilities/services\";\nimport \"./Schedule.scss\";\n\ninterface ScheduleBase extends CalendarOptions {\n  calendarHeaders: string[];\n  groupedEvents: GroupedEvents;\n}\n\n/* Provides a Schedule component to handle loading and async events and interfaces\n  with a BaseSchedule.\n*/\nexport const Schedule = (props: ScheduleBase) => {\n  const [isScheduleLoading, setIsScheduleLoading] = useState(false);\n\n  return (\n    <ScheduleContext.Provider value={{ isScheduleLoading, setIsScheduleLoading }}>\n      <AsyncComponent isLoading={isScheduleLoading}>\n        <AsyncComponent.Loading>Updating Schedule...</AsyncComponent.Loading>\n        <AsyncComponent.Loaded>\n          <ScheduleBase {...props} />\n        </AsyncComponent.Loaded>\n      </AsyncComponent>\n    </ScheduleContext.Provider>\n  );\n};\n\n/* Creates a list of Calendars to create a Schedule\n  <Stick> is used to stick the Schedule Header to the Schedule\n  to track horizontal scrolling.\n*/\nconst ScheduleBase = ({ calendarHeaders, groupedEvents, ...calendarOptions }: ScheduleBase) => {\n  const {\n    appState: { selectedTerm, slotMaxTime, slotMinTime },\n  } = useContext(AppContext);\n  const [popupData, setPopupData] = useState<CourseSectionMeeting>();\n\n  const popupState = usePopupState({\n    popupId: \"addSection\",\n    variant: \"popover\",\n  });\n\n  const handleEventClick = useCallback(\n    (arg: EventClickArg) => {\n      setPopupData(arg.event.extendedProps as CourseSectionMeeting);\n      popupState.open(arg.el);\n    },\n    [popupState],\n  );\n\n  const times = {\n    slotMaxTime,\n    slotMinTime,\n  };\n\n  // Add context times to the existing calendarOptions\n  calendarOptions = {\n    ...calendarOptions,\n    ...times,\n  };\n\n  // Filter out events from other terms\n  const filteredEvents = useMemo(() => {\n    return filterEventsByTerm(groupedEvents, selectedTerm);\n  }, [groupedEvents, selectedTerm]);\n\n  // Filter out headers with no events\n  const calenderHeadersNoEmptyInTerm = useMemo(() => {\n    return filterHeadersWithNoEvents(filteredEvents, calendarHeaders);\n  }, [filteredEvents, calendarHeaders]);\n\n  return (\n    <>\n      <ScheduleToolbar />\n      <div className=\"schedule-time-axis-wrapper\">\n        <LeftTimeAxis {...times} />\n        <div className=\"schedule-wrapper\">\n          <Stick\n            node={<ScheduleHeader headers={calenderHeadersNoEmptyInTerm} />}\n            position=\"top left\"\n          >\n            <div className=\"adjacent\">\n              {calenderHeadersNoEmptyInTerm.map((header) => {\n                return (\n                  <div key={header} className=\"calendar-width hide-axis\">\n                    <Calendar\n                      {...calendarOptions}\n                      key={header}\n                      eventClick={handleEventClick}\n                      events={filteredEvents[header]}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </Stick>\n        </div>\n      </div>\n      <Popover\n        {...bindPopover(popupState)}\n        anchorOrigin={{\n          horizontal: \"left\",\n          vertical: \"bottom\",\n        }}\n        PaperProps={{ style: { maxWidth: \"50%\", minWidth: \"500px\" } }}\n        transformOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n      >\n        <AddSectionPopover values={popupData} />\n      </Popover>\n    </>\n  );\n};\n\ninterface LeftTimeAxis {\n  slotMaxTime: string;\n  slotMinTime: string;\n}\n\n/* Display the hours on the left axis of the schedule\n */\nconst LeftTimeAxis = ({ slotMinTime: min, slotMaxTime: max }: LeftTimeAxis) => {\n  return (\n    <div className=\"left-time-axis\">\n      {getHoursArr(min, max).map((time) => {\n        return (\n          <div key={time} className=\"time-slot\">\n            <span>{`${time}:00`}</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\ninterface ScheduleHeader {\n  headers: ScheduleBase[\"calendarHeaders\"];\n}\n\nconst tenVH = window.innerHeight / 10;\n\n/*\n  StickyHeader is used to keep the Schedule header sticky to the\n  top of the view port.\n*/\nconst ScheduleHeader = ({ headers }: ScheduleHeader) => {\n  return (\n    <StickyNode top={tenVH}>\n      <div className=\"adjacent schedule-header-row\">\n        {headers.map((header) => {\n          return (\n            <div key={header} className=\"calendar-width calendar-title\">\n              {header}\n            </div>\n          );\n        })}\n      </div>\n    </StickyNode>\n  );\n};\n","/* eslint-disable react/jsx-key */\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow as FacultyRow,\n} from \"@material-ui/core\";\nimport React, { useContext, useMemo } from \"react\";\nimport { Column, useTable } from \"react-table\";\nimport { Course, getSectionName, Schedule, Section, Term } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\ntype hourKeys = \"fallHours\" | \"springHours\" | \"summerHours\" | \"totalHours\" | \"otherHours\";\ntype sectionKeys = \"fallCourseSections\" | \"springCourseSections\" | \"summerCourseSections\";\n\ntype FacultyRow = {\n  [key in hourKeys]?: number;\n} &\n  {\n    [key in sectionKeys]?: string;\n  } & {\n    faculty: string;\n    loadNotes?: string;\n    otherDuties?: string;\n  };\n\ninterface UpdateRowParams {\n  course: Course;\n  newRow: FacultyRow;\n  prevRow: FacultyRow;\n  section: Section;\n  sectionName: string;\n  termName?: \"fall\" | \"spring\" | \"summer\";\n}\n\nconst updateRow = ({\n  course,\n  newRow,\n  prevRow,\n  section,\n  sectionName,\n  termName,\n}: UpdateRowParams) => {\n  const termCourseSectionProp = `${termName}CourseSections` as sectionKeys;\n  const termHoursProp = `${termName}Hours` as hourKeys;\n  if (prevRow) {\n    prevRow[termCourseSectionProp] = prevRow[termCourseSectionProp]\n      ? (prevRow[termCourseSectionProp] = `${prevRow[termCourseSectionProp]}, ${sectionName}`)\n      : (prevRow[termCourseSectionProp] = sectionName);\n\n    prevRow[termHoursProp] = prevRow[termHoursProp]\n      ? (Number(prevRow[termHoursProp]) + (section.facultyHours || course.facultyHours)) /\n        section.instructors.length\n      : (section.facultyHours || course.facultyHours) / section.instructors.length;\n  } else {\n    newRow[termCourseSectionProp] = sectionName;\n    newRow[termHoursProp] =\n      (section.facultyHours || course.facultyHours) / section.instructors.length;\n  }\n};\n\nconst createTable = (schedule: Schedule): FacultyRow[] => {\n  const newTableData: FacultyRow[] = [];\n  schedule.courses.forEach((course) => {\n    course.sections.forEach((section) => {\n      const sectionName = getSectionName(course, section);\n      section.instructors.forEach((instructor) => {\n        const newFacultyRow: FacultyRow = {\n          faculty: instructor,\n        };\n        const [prevAddedFacultyRow] = newTableData.filter((data) => {\n          return data.faculty === instructor;\n        });\n        const updateArgs = {\n          course,\n          newRow: newFacultyRow,\n          prevRow: prevAddedFacultyRow,\n          section,\n          sectionName,\n        };\n        switch (section.term) {\n          case Term.Fall:\n            updateRow({ ...updateArgs, termName: \"fall\" });\n            break;\n          case Term.Spring:\n            updateRow({ ...updateArgs, termName: \"spring\" });\n            break;\n          case Term.Summer:\n          case Term.Interim:\n            updateRow({ ...updateArgs, termName: \"summer\" });\n            break;\n          default:\n            // eslint-disable-next-line no-console\n            console.log(`Fell through case statement with value ${section.term}`);\n            break;\n        }\n        if (prevAddedFacultyRow) {\n          newTableData[newTableData.indexOf(prevAddedFacultyRow)] = prevAddedFacultyRow;\n        } else {\n          newTableData.push(newFacultyRow);\n        }\n      });\n    });\n  });\n  return newTableData\n    .map((row) => {\n      return {\n        ...row,\n        totalHours: (row.fallHours || 0) + (row.springHours || 0) + (row.summerHours || 0),\n      };\n    })\n    .sort((a, b) => {\n      return b.totalHours - a.totalHours;\n    });\n};\n\nexport const FacultyLoads = () => {\n  const {\n    appState: { schedule },\n  } = useContext(AppContext);\n\n  const data = useMemo<FacultyRow[]>(() => {\n    return createTable(schedule);\n  }, [schedule]);\n\n  // TODO: Add Other Duties/Hours and Load Notes\n  const columns = useMemo<Column<FacultyRow>[]>(() => {\n    return [\n      { Header: \"Faculty\", accessor: \"faculty\" },\n      { Header: \"Fall Course Sections\", accessor: \"fallCourseSections\" },\n      { Header: \"Fall Hours\", accessor: \"fallHours\" },\n      { Header: \"Spring Course Sections\", accessor: \"springCourseSections\" },\n      { Header: \"Spring Hours\", accessor: \"springHours\" },\n      { Header: \"Summer Course Sections\", accessor: \"summerCourseSections\" },\n      { Header: \"Summer Hours\", accessor: \"summerHours\" },\n      { Header: \"Total Hours\", accessor: \"totalHours\" },\n    ];\n  }, []);\n  const tableInstance = useTable({ columns, data });\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } = tableInstance;\n\n  // https://react-table.tanstack.com/docs/quick-start\n  return (\n    // apply the table props\n    <TableContainer component={Paper}>\n      <Table {...getTableProps()}>\n        <TableHead>\n          {\n            // Loop over the header rows\n            headerGroups.map((headerGroup) => {\n              return (\n                // Apply the header row props\n                <FacultyRow {...headerGroup.getHeaderGroupProps()}>\n                  {\n                    // Loop over the headers in each row\n                    headerGroup.headers.map((column) => {\n                      return (\n                        // Apply the header cell props\n                        <TableCell {...column.getHeaderProps()}>\n                          {\n                            // Render the header\n                            column.render(\"Header\")\n                          }\n                        </TableCell>\n                      );\n                    })\n                  }\n                </FacultyRow>\n              );\n            })\n          }\n        </TableHead>\n        {/* Apply the table body props */}\n        <TableBody {...getTableBodyProps()}>\n          {\n            // Loop over the table rows\n            rows.map((row) => {\n              // Prepare the row for display\n              prepareRow(row);\n              return (\n                // Apply the row props\n                <FacultyRow {...row.getRowProps()}>\n                  {\n                    // Loop over the rows cells\n                    row.cells.map((cell) => {\n                      // Apply the cell props\n                      return (\n                        <TableCell {...cell.getCellProps()}>\n                          {\n                            // Render the cell contents\n                            cell.render(\"Cell\")\n                          }\n                        </TableCell>\n                      );\n                    })\n                  }\n                </FacultyRow>\n              );\n            })\n          }\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n","import { Schedule } from \"components\";\nimport React, { useContext } from \"react\";\nimport { getEvents } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\nimport \"./FacultySchedule.scss\";\n\n/* Creates a list of Calendars to create the Faculty Schedule\n */\nexport const FacultySchedule = () => {\n  const {\n    appState: { professors, schedule },\n  } = useContext(AppContext);\n\n  return (\n    <>\n      <Schedule calendarHeaders={professors} groupedEvents={getEvents(schedule, \"faculty\")} />\n    </>\n  );\n};\n","import { Schedule } from \"components\";\nimport React, { useContext } from \"react\";\nimport { getEvents } from \"utilities\";\nimport { AppContext } from \"utilities/contexts\";\n\nexport const RoomsSchedule = () => {\n  const {\n    appState: { schedule, rooms },\n  } = useContext(AppContext);\n\n  return (\n    <>\n      <Schedule calendarHeaders={rooms} groupedEvents={getEvents(schedule, \"room\")} />\n    </>\n  );\n};\n","import { IconButton, Menu, MenuItem } from \"@material-ui/core\";\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\nimport { ImportInputWrapper } from \"components\";\nimport { bindMenu, bindTrigger, usePopupState } from \"material-ui-popup-state/hooks\";\nimport React from \"react\";\nimport { useExportCSV } from \"utilities\";\nimport \"./CSVActions.scss\";\n\n/* Hamburger with options for the CSV */\nexport const CSVActions = () => {\n  const popupState = usePopupState({ popupId: \"menu\", variant: \"popover\" });\n  const onExportClick = useExportCSV();\n\n  return (\n    <>\n      <IconButton color=\"inherit\" edge=\"start\" {...bindTrigger(popupState)}>\n        <MenuIcon />\n      </IconButton>\n      <Menu // Anchoring from: https://codesandbox.io/s/3rmgv?file=/demo.js:603-812\n        anchorOrigin={{\n          horizontal: \"right\",\n          vertical: \"top\",\n        }}\n        getContentAnchorEl={null}\n        transformOrigin={{\n          horizontal: \"left\",\n          vertical: \"top\",\n        }}\n        {...bindMenu(popupState)}\n      >\n        <MenuItem button className=\"MuiButton-textPrimary\">\n          <ImportInputWrapper>IMPORT CSV</ImportInputWrapper>\n        </MenuItem>\n        <MenuItem button className=\"MuiButton-textSecondary\" onClick={onExportClick}>\n          EXPORT CSV\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n","import { Button, ButtonProps } from \"@material-ui/core\";\nimport { ImportInputWrapper } from \"components\";\nimport React from \"react\";\nimport \"./ImportButton.scss\";\n\n/* An import button that is stylable using the Mat UI props. */\nexport const ImportButton = (btnProps: ButtonProps) => {\n  return (\n    <ImportInputWrapper>\n      <Button color=\"primary\" component=\"span\" {...btnProps}>\n        Import CSV\n      </Button>\n    </ImportInputWrapper>\n  );\n};\n","import { Box } from \"@material-ui/core\";\nimport { AddSectionButton, ImportButton } from \"components\";\nimport React from \"react\";\nimport \"./NoCoursesHeader.scss\";\n\n/* Display information when schedule has no courses. */\nexport const NoCoursesHeader = () => {\n  return (\n    <>\n      <h2>No schedule data.</h2>\n      <p>\n        Please import a CSV of an existing schedule or start building the schedule from scratch by\n        adding your first section.\n      </p>\n      <Box component=\"span\" marginRight={1}>\n        <ImportButton variant=\"contained\" />\n      </Box>\n      <AddSectionButton isIcon={false} />\n    </>\n  );\n};\n","import { Box, Typography } from \"@material-ui/core\";\nimport React, { PropsWithChildren } from \"react\";\n\ninterface TabPanelProps {\n  index: number;\n  value: number;\n}\n\n/* TabPanel displays the content of a selected tab */\nexport const TabPanel = (props: PropsWithChildren<TabPanelProps>) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      aria-labelledby={`simple-tab-${index}`}\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      role=\"tabpanel\"\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography component=\"div\">{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import { Container, Tab, Tabs as MUITabs } from \"@material-ui/core\";\nimport { AsyncComponent } from \"components\";\nimport { FacultyLoads, FacultySchedule, RoomsSchedule } from \"components/Tabs\";\nimport React, { ChangeEvent, useContext, useState } from \"react\";\nimport { AppContext } from \"utilities/contexts\";\nimport { CSVActions, NoCoursesHeader, TabPanel } from \"./tabComponents\";\nimport \"./Tabs.scss\";\n\nconst DEFAULT_TAB = 0;\n\n/* A navigator between the different features of the app */\nexport const Tabs = () => {\n  const [tabValue, setTabValue] = useState(DEFAULT_TAB);\n  const {\n    appState: { schedule },\n    isCSVLoading,\n  } = useContext(AppContext);\n\n  const handleTabChange = (event: ChangeEvent<{}>, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const scheduleHasCourses = schedule.courses.length > 0;\n\n  return (\n    <AsyncComponent isLoading={isCSVLoading}>\n      <AsyncComponent.Loading>Parsing CSV...</AsyncComponent.Loading>\n      <AsyncComponent.Loaded>\n        {scheduleHasCourses ? (\n          <>\n            <Container className=\"schedulizer-header\" maxWidth={false}>\n              <CSVActions />\n\n              <MUITabs\n                centered\n                indicatorColor=\"primary\"\n                onChange={handleTabChange}\n                textColor=\"primary\"\n                value={tabValue}\n              >\n                <Tab label=\"Faculty Schedule\" />\n                <Tab label=\"Room Schedule\" />\n                <Tab label=\"Teaching Loads\" />\n                <Tab label=\"Conflicts\" />\n              </MUITabs>\n              <span>{/* Empty */}</span>\n            </Container>\n            <TabPanel index={0} value={tabValue}>\n              <FacultySchedule />\n            </TabPanel>\n            <TabPanel index={1} value={tabValue}>\n              <RoomsSchedule />\n            </TabPanel>\n            <TabPanel index={2} value={tabValue}>\n              <FacultyLoads />\n            </TabPanel>\n            <TabPanel index={3} value={tabValue}>\n              Item Four\n            </TabPanel>\n          </>\n        ) : (\n          <NoCoursesHeader />\n        )}\n      </AsyncComponent.Loaded>\n    </AsyncComponent>\n  );\n};\n","import { AddSectionButton, ColorSelector, Searchbar, SemesterSelector } from \"components\";\nimport React from \"react\";\nimport \"./ScheduleToolbar.scss\";\n\nexport const ScheduleToolbar = () => {\n  return (\n    <div className=\"schedule-toolbar\">\n      <div className=\"toolbar-left\">\n        <Searchbar />\n        <ColorSelector />\n      </div>\n      <div className=\"toolbar-right\">\n        <SemesterSelector />\n        <AddSectionButton />\n      </div>\n    </div>\n  );\n};\n","import { TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport React from \"react\";\nimport \"./Searchbar.scss\";\n\nexport const Searchbar = () => {\n  return (\n    <Autocomplete\n      className=\"searchbar\"\n      getOptionLabel={(option) => {\n        return `${option.name}-${option.section}`;\n      }}\n      id=\"combo-box-demo\"\n      options={classes}\n      renderInput={(params) => {\n        return <TextField {...params} label=\"Search\" variant=\"outlined\" />;\n      }}\n    />\n  );\n};\n\nconst classes = [\n  { instructor: \"Victor T. Norman\", name: \"CS-108\", section: \"A\" },\n  { instructor: \"Victor T. Norman\", name: \"CS-108\", section: \"B\" },\n  { instructor: \"Joel Adams\", name: \"CS-112\", section: \"A\" },\n];\n","import { IconButton, Typography } from \"@material-ui/core\";\nimport { ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport React, { useContext } from \"react\";\nimport { enumArray, Term } from \"utilities\";\nimport { AppContext, ScheduleContext } from \"utilities/contexts\";\nimport \"./SemesterSelector.scss\";\n\nexport const SemesterSelector = () => {\n  const terms: Term[] = enumArray(Term);\n  const {\n    appState: { selectedTerm },\n    appDispatch,\n  } = useContext(AppContext);\n  const { setIsScheduleLoading } = useContext(ScheduleContext);\n\n  const handleOnClick = (index: number) => {\n    return async () => {\n      setIsScheduleLoading(true);\n      const newTerm = terms[index];\n      // This action takes so long it affectively makes this\n      //  synchronous function asynchronous.\n      await appDispatch({\n        payload: { term: newTerm },\n        type: \"setSelectedTerm\",\n      });\n      setIsScheduleLoading(false);\n    };\n  };\n\n  return (\n    <div className=\"semester-selector\">\n      <IconButton\n        disabled={selectedTerm === terms[0]}\n        onClick={handleOnClick(terms.indexOf(selectedTerm) - 1)}\n      >\n        <ChevronLeft />\n      </IconButton>\n      <Typography variant=\"h6\">{selectedTerm}</Typography>\n      <IconButton\n        disabled={selectedTerm === terms[terms.length - 1]}\n        onClick={handleOnClick(terms.indexOf(selectedTerm) + 1)}\n      >\n        <ChevronRight />\n      </IconButton>\n    </div>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { App } from \"components\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"serviceWorker\";\nimport \"styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { Course, Meeting, Section, SemesterLength, Term } from \"./interfaces\";\n\nexport const INITIAL_DATE = \"2000-01-02\";\n\nexport const emptyCourse: Course = {\n  facultyHours: 0,\n  name: \"\",\n  number: \"\",\n  prefixes: [],\n  sections: [],\n  studentHours: 0,\n};\n\nexport const emptyMeeting: Meeting = {\n  days: [],\n  duration: 0,\n  location: { building: \"\", roomCapacity: 0, roomNumber: \"\" },\n  startTime: \"\",\n};\n\nexport const emptySection: Section = {\n  anticipatedSize: 0,\n  comments: \"\",\n  globalMax: 0,\n  instructors: [],\n  letter: \"\",\n  localMax: 0,\n  meetings: [],\n  semesterLength: SemesterLength.Full,\n  term: Term.Fall,\n  year: new Date().getFullYear(),\n};\n","export * from \"./constants\";\n// export * from \"./contexts\";\nexport * from \"./helpers\";\nexport * from \"./hooks\";\nexport * from \"./interfaces\";\nexport * from \"./reducers\";\nexport * from \"./services\";\n","export * from \"./appInterfaces\";\nexport * from \"./dataInterfaces\";\n"],"sourceRoot":""}